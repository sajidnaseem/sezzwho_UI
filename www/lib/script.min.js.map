{"version":3,"sources":["../dist/js/script.js"],"names":["i18n","app","name","global","cancel","send","back","done","search","modal_title","modal_button_ok","minute_ago","hour_ago","day_ago","just_now","language","switch_language","index","nothing_found","nothing_loaded","tweet","contacts","setting","sen_tweet","send_placeholder","sending","err_text_too_short","feed_back","feed_back_placeholder","feed_back_result","check_update","about","login_out","nickname","points","confirm_logout","current_version","login","loginname_placeholder","password_placeholder","login_btn","sign_up","forgot_pwd","err_empty_input","err_illegal_email","timeline","forward","comment","like","item","title","reply","reply_comment","copy_comment","placeholder","empty_comment","commenting","chat","chatPlaceholder","geo","loading_geo","permission_denied","position_unavailable","timeout","confirm_clean_geo","camera","image_uploading","confirm_clear_image","file_not_found_err","invalid_url_err","connection_err","abort_err","not_modified_err","error","unknown_error","no_network","phonegap_only","Framework7","prototype","plugins","welcomescreen","globalPluginParams","$$","Dom7","t7","Template7","Welcomescreen","document","on","e","preventDefault","$wscreen","parents","length","f7Welcomescreen","close","slides","options","self","defaultTemplate","template","container","swiper","swiperContainer","defaults","closeButton","closeButtonText","cssClass","pagination","loop","open","initSwiper","Swiper","direction","find","undefined","setColors","bgcolor","css","fontcolor","defineDefaultTemplate","applyOptions","def","compileTemplate","_compiledTemplates","compile","append","onOpened","destroy","remove","onClosed","next","slideNext","previous","slidePrev","slideTo","myApp","modalTitle","precompileTemplates","pushState","animateNavBackIcon","swipePanel","material","materialPageLoadDelay","fastClicksDistanceThreshold","fastClicksDelayBetweenClicks","template7Pages","fastClicks","preloader","modalActionsTemplate","$","html","materialPreloaderHtml","limit","page","cookie","count","homeModule","retrievedObject","activityData","userloginInfo","pictureSource","destinationType","mainView","addView","dynamicNavbar","domCache","onPageInit","createContentPage","hideToolbar","sezzwhoApp","uploadlimit","embedding","url","homeUrl","isUploading","isUploaded","postButton","addLocationButton","addReviewButton","autoWhatsNew","baseUrl","googleServerKey","jsonpcb","notificationsOptions","ziggeoUrl","sezzwhoAction","b_init","showIndicator","ajaxurl","generate_auth_cookie","data","val","checkConnection","post","response","status","localStorage","setItem","router","load","force","mainInits","mainInit","personalFeeds","init","user","id","notifications","initUserInfoTemplate","hideIndicator","show","hide","userLoggedIn","usrname","pass","chkbx","text","removeAttr","console","log","popup","searchs","addbusiness","star_rating","attr","prop","closeModal","networkState","navigator","connection","type","states","Connection","UNKNOWN","ETHERNET","WIFI","CELL_2G","CELL_3G","CELL_4G","CELL","NONE","state","setTimeout","hidePreloader","addNotification","subtitle","message","media","ready","window","isphone","URL","indexOf","addEventListener","onDeviceReady","onBackKeyDown","rememberMe","welcomepages","welcome","welcomescreen_slides","picture","click","cordova","appId","prompt","facebookConnectPlugin","browserInit","fb_login","showDialog","method","alert","JSON","stringify","apiTest","api","getAccessToken","getStatus","getLoginStatus","logout","fbresponse","fb_connect","access_token","authResponse","accessToken","fields","username","user_login","password","fbLogin","inAppBrowserRef","InAppBrowser","activityTemplate","userHeaderTemplate","notificationTemplate","commentTemplate","searchTemplate","profileTemplate","popularTemplate","followingTemplate","followerTemplate","pushNotification","push","comments","loginUserID","that","bindEvent","detail","pageBeforeInit","pageAfterAnimation","pageBack","from","query","context","popularVideos","commonFunc","refreshAll","device","platform","registerDeviceAndroid","registerDeviceIOS","detailpage","messageModule","autoComplete","singlePage","profiles","registers","settings","videodetail","initPasswordValidate","lostPasswords","followingList","followerList","userIDetail","exitApp","getUserCookies","getItem","displayResult","renderTpl","markup","renderData","compiledTemplate","getsezzwhoContents","content","arrContent","ziggeoCode","hashtag","match","slice","stripHTML","re","i","arguments","value","replace","checkLoginStatus","is","checkWelcomeTutorial","clearCache","success","cache","clear","countFormat","result","Math","floor","getHashTags","string","hashTags","len","word","words","split","avatar","activities","bool","items","refreshTime","time","has_more_items","addhttp","user_id","time_since","ziggeocode","commentLenght","activity_id","action","star","likes_count","Object","keys","like_button","likes_button","refer_count","web_link","matchUrl","location","mapUrl","address","share_count","is_follow","followCheck","account_type","output","lenght","prepend","allLinkUpdate","timeFormat","ms","d_second","d_minutes","d_hours","d_days","timeNow","Date","getTime","d","round","s","setTime","getFullYear","f","getMonth","getDate","getHours","getMinutes","n","getCharLength","str","iLength","charCodeAt","reg","a","test","getAge","dateString","today","birthDate","age","m","sezzwhoLogout","pageName","reload","restLocalStorage","unregisterDeviceAndroid","unregisterDeviceIos","bindings","element","event","handler","bindEvents","selector","sxhr","simpleCall","callback","xhrs","homeModules","loadmoreContent","getPersonalFeed","activitiesFeed","checkPersonalRefresh","loadmoreFeedContent","detailpages","reviewpages","activitiesReviewFeed","response_post_update","doneReview","doneComments","displayCount","displayNotifications","displayJsonComments","displayEditDeleteMessage","displayReferResult","displayCountFollower","displayCountActivity","displayCountNotification","displayActivity","notifications_delete_message","notifications_mark_message","displayVideo","responseUpdatePassword","reponseShareCount","displayFollowingList","loadmore","displayFollowerList","multipleCall","blindEvent","guesterFunc","shareWidget","showPreloader","shareWidgetId","videoUrl","video","subject","files","chooserTitle","socialsharing","share","shareSuccessCallback","SareerrorCallback","shareCommentWidget","videoCheck","image","el","parseInt","first","sezzwho_share_count","ShareerrorCallback","videoPlayer","VideoPlayer","play","volume","scalingMode","SCALING_MODE","SCALE_TO_FIT","err","addClass","notifications_unread_count","getNotification","refreshActivities","getFeedActivities","getPopularVideo","removeClass","activity_like","option","sz_add_user_ditte","animId","each","animate","Counter","duration","easing","step","now","ceil","referActivity","arg","referId","searchuser","postRefer","get_refer_user_count","notification_status","hold","deletePost","aID","deleteActivity","activities_delete_activity","editPost","editID","requirejs","initEdit","followingFollower","userID","following_follower","follower","following","check","lostSezzwhoPassword","jQuery","activitiesCount","userid","activityCount","animateValue","start","end","range","current","increment","stepTime","abs","obj","getElementById","timer","setInterval","innerHTML","clearInterval","init_action_menu","arr","actionMenu","parseItem","parse","buttons1","label","bold","color","onClick","email","isAvailable","addAlias","buttons2","buttons3","loginUser","groups","actions","actionButtons","ajaxUrl","add_follow_button","get","res","delete","turnOnPost","switchPostUpdate","elemet","lostPassword","feeds","userProfileHeader","bio","p","Promise","resolve","reject","then","xprofile","Bio","website","Website","Address","substring","followers","activityFeedData","display_name","detachInfiniteScroll","loading","maxItems","itemsPerLoad","post_update","contentData","rating","weblink","activities_post_update","button","closePopup","recordVideo","recordingType","captureVideo","initPostData","videotitle","videocontent","toString","initAutoPostData","showToolbar","getActivities","refreshContentFollowing","refreshed","ptrContent","pullToRefreshDone","refreshTimelineByClick","scrollTop","pullToRefreshTrigger","startStopFollowing","responseFollowerFollowing","text_id_status","captureSuccess","mediaFiles","uploadFile","captureError","msg","code","notification","quality","capture","mediaFile","ft","FileTransfer","path","fullPath","progressBar","FileUploadOptions","fileName","mimeType","upload","progressID","responseCode","video_code","ziggeo","src","img","onprogress","progressEvent","lengthComputable","perc","loaded","total","showProgressbar","getPhoto","source","getPicture","onPhotoURISuccess","onFail","FILE_URI","mediaType","Camera","MediaType","VIDEO","sourceType","imageURI","jq","arm","mouseover","num","substr","mouseout","unbind","registerHelper","allComments","getJsonComments","commentsType","Params","commentsData","text_comment","text_content","children","post_comment","getComments","results","activityFeedUserDetail","displayComment","closePicker","initPost","videoContent","activities_new_comment","hidden_count","comment_id","initRecording","deleteComment","text_count","dittoComment","closeCommentbox","textWidget","keyup","post_text_comment","sender_name","sender_avatar","href","componentname","component_name","refername","itemid","item_id","senderid","secondary_item_id","notificationId","video_refer_name","notifications_delete","nDel","notifications_single_mark","nMark","refresh_notification","PushNotification","register","successHandler","errorHandler","invokeTargetId","ppgUrl","ecb","simChangeCallback","replace_with_simChange_callback","pushTransportReadyCallback","replace_with_pushTransportReady_callback","launchApplicationOnPush","tokenHandler","android","senderID","ios","badge","sound","windows","registrationId","deviceRegister","unregister","save_device_id","onNotificationAPN","snd","Media","setApplicationIconBadgeNumber","onNotification","regid","foreground","soundfile","soundname","payload","my_media","coldstart","userDetail","accountType","leaderid","elHeader","follow","elLoader","elContent","elScroll","businessPostReview","links","usercheck","usernameR","reviewContent","postBusinessReview","popupRecording","review","activityFeedUserReview","searchTimeout","mySearchbar","autocompleteDropdownAjax","autocomplete","opener","openIn","backOnSelect","valueProperty","textProperty","render","ajax","dataType","search_terms","key","members","onChange","initSearchbar","searchbar","customSearch","onDisable","blur","onSearch","q","searchQuery","onClear","enable","focus","trim","clearTimeout","encodeURIComponent","bboss_global_search_ajax","nonce","search_term","businessPage","backAddbusiness","reset","initMap","map","google","maps","Map","center","lat","lng","zoom","input","types","controls","ControlPosition","TOP_LEFT","places","Autocomplete","bindTo","infowindow","InfoWindow","marker","Marker","anchorPoint","Point","addListener","setVisible","place","getPlace","geometry","viewport","fitBounds","setCenter","setZoom","setIcon","icon","size","Size","origin","anchor","scaledSize","setPosition","address_components","short_name","join","setContent","setupClickListener","radioButton","setTypes","autocompleteStandaloneAjax","multiple","description","registerBusiness","txtInput","business_type","tagbusiness","loc","activities_post_update_review","postAutoBusinessReview","onClose","ProfileComponent","profile","reactInit","profileEdit","profileSave","profileReact","initProfile","initSetting","updateSetting","updatePassword","update_password","confirm_password","sezzwho_update_password","validatePassword","style","onchange","onkeyup","initRegister","registerUser","popularVideo","popular","initSlider","mySwiper3","spaceBetween","slidesPerView","videoInit","commentDetail","imageUrl","flowplayer","conf","native_fullscreen","ima","adtest","description_url","ads","ad_type","splash","ratio","rtmp","embed","skin","clip","sources","videodetails","singleActivity","getSingleActivity","markID","sz_single_activity_post","singleData","getFollowingList","sz_following_list","per_page","list","followingResponse","ID","user_registered","counts","total_limit","getFollowerList","sz_follower_list","followerResponse","GlobalLat","GlobalLong","geolocation","initGeo","catchGeoInfo","getCurrentPosition","showPosition","showGeoError","position","coords","latitude","long","longitude","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","UNKNOWN_ERROR","getGeo","cleanGeo","hiApp","confirm","ZiggeoApi","Events","percentage","uploaded","Embed","token","recorder","V2","Recorder","findByElement"],"mappings":"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","file":"script.min.js","sourcesContent":["var i18n= {\r\n    app: {\r\n        name: 'HiApp'\r\n    },\r\n    global: {\r\n        cancel: 'Cancel',\r\n        send: 'Send',\r\n        back:'Back',\r\n        done:'Done',\r\n        search:'Search',\r\n        modal_title: 'System',\r\n        modal_button_ok: 'OK',\r\n        minute_ago:' mins ago',\r\n        hour_ago:' hours ago',\r\n        day_ago:' days ago',\r\n        just_now:'Just now',\r\n        language:'Language',\r\n        switch_language:'Switching languages'\r\n    },\r\n    index: {\r\n        nothing_found: 'No matching results',\r\n        nothing_loaded:'Nothing loaded',\r\n        tweet: 'Tweet',\r\n        contacts: 'Contacts',\r\n        setting: 'Setting',\r\n        sen_tweet: 'New Tweet',\r\n        send_placeholder: 'What is new with you.',\r\n        sending:'Submitting...',\r\n        err_text_too_short:'Ah,Content is too short'\r\n    },\r\n    setting: {\r\n        feed_back: 'Feedback',\r\n        feed_back_placeholder:'Hi,Any suggestions to tell us?',\r\n        feed_back_result:'Thank you for your feedback',\r\n        check_update: 'Update',\r\n        about: 'About',\r\n        login_out: 'Log out',\r\n        nickname: 'Name',\r\n        points: 'Points',\r\n        confirm_logout:'Are you sure to log out?',\r\n        current_version:'The current version is '\r\n    },\r\n    login: {\r\n        loginname_placeholder: 'Email/Username',\r\n        password_placeholder: 'Password',\r\n        login_btn: 'Sign In',\r\n        sign_up: 'Sign Up',\r\n        forgot_pwd: 'Forgot password',\r\n        err_empty_input: 'Please enter login name and password',\r\n        err_illegal_email: 'Username must be Email',\r\n        login: 'Loading, please wait...'\r\n    },\r\n    timeline:{\r\n        forward:'Forward',\r\n        comment:'Comment',\r\n        like:'Like'\r\n    },\r\n    item:{\r\n        title:'Tweet'\r\n    },\r\n    comment:{\r\n        reply:'Reply',\r\n        reply_comment:'Reply',\r\n        copy_comment:'Copy',\r\n        placeholder:'Write a comment ...',\r\n        empty_comment:'No one comments',\r\n        commenting:'Submitting...'\r\n    },\r\n    chat:{\r\n        title:'Message',\r\n        chatPlaceholder:'Message'\r\n    },\r\n    geo:{\r\n        loading_geo:'Getting your geo info...',\r\n        permission_denied:'Permission denied',\r\n        position_unavailable:'Position unavailable',\r\n        timeout:'Getting timeout',\r\n        confirm_clean_geo:'You will clear geo info'\r\n    },\r\n    camera:{\r\n        image_uploading: 'Uploading pictures',\r\n        confirm_clear_image: 'Are you sure clear the selected pictures',\r\n        file_not_found_err: 'Upload file not found',\r\n        invalid_url_err: 'Invalid url',\r\n        connection_err: 'Connection error',\r\n        abort_err: 'Abort upload',\r\n        not_modified_err: 'Not modified'\r\n    },\r\n    error:{\r\n        unknown_error:'Unknown error',\r\n        no_network:'No network connection',\r\n        phonegap_only:'PhoneGap Only'\r\n    }\r\n};;/*jslint browser: true*/\n/*global console, Framework7, alert, Dom7, Swiper, Template7*/\n\n/**\n * A plugin for Framework7 to show a slideable welcome screen\n *\n * @module Framework7/prototype/plugins/welcomescreen\n * @author www.timo-ernst.net\n * @license MIT\n */\nFramework7.prototype.plugins.welcomescreen = function (app, globalPluginParams) {\n  'use strict';\n  // Variables in module scope\n  var $$ = Dom7,\n    t7 = Template7,\n    Welcomescreen;\n\n  // Click handler to close welcomescreen\n  $$(document).on('click', '.close-welcomescreen', function (e) {\n    e.preventDefault();\n    var $wscreen = $$(this).parents('.welcomescreen-container');\n    if ($wscreen.length > 0 && $wscreen[0].f7Welcomescreen) { $wscreen[0].f7Welcomescreen.close(); }\n  });\n  \n  /**\n   * Represents the welcome screen\n   *\n   * @class\n   * @memberof module:Framework7/prototype/plugins/welcomescreen\n   */\n  Welcomescreen = function (slides, options) {\n    \n    // Private properties\n    var self = this,\n      defaultTemplate,\n      template,\n      container,\n      swiper,\n      swiperContainer,\n      defaults = {\n        closeButton: true,        // enabled/disable close button\n        closeButtonText : 'Skip', // close button text\n        cssClass: '',             // additional class on container\n        pagination: true,         // swiper pagination\n        loop: false,              // swiper loop\n        open: true                // open welcome screen on init\n      };\n    \n    /**\n     * Initializes the swiper\n     *\n     * @private\n     */\n    function initSwiper() {\n      swiper = new Swiper('.swiper-container', {\n        direction: 'horizontal',\n        loop: options.loop,\n        pagination: options.pagination ? swiperContainer.find('.swiper-pagination') : undefined\n      });\n    }\n    \n    /**\n     * Sets colors from options\n     *\n     * @private\n     */\n    function setColors() {\n      if (options.bgcolor) {\n        container.css({\n          'background-color': options.bgcolor,\n          'color': options.fontcolor\n        });\n      }\n    }\n    \n    /**\n     * Sets the default template\n     *\n     * @private\n     */\n    function defineDefaultTemplate() {\n      defaultTemplate = '<div class=\"welcomescreen-container {{#if options.cssClass}}{{options.cssClass}}{{/if}}\">' +\n          '{{#if options.closeButton}}' +\n          '<div class=\"welcomescreen-closebtn close-welcomescreen\">{{options.closeButtonText}}</div>' +\n          '{{/if}}' +\n          '<div class=\"welcomescreen-swiper swiper-container\">' +\n            '<div class=\"swiper-wrapper\">' +\n              '{{#each slides}}' +\n              '<div class=\"swiper-slide\" {{#if id}}id=\"{{id}}\"{{/if}}>' +\n                '{{#if content}}' +\n                  '<div class=\"welcomescreen-content\">{{content}}</div>' +\n                '{{else}}' +\n                  '{{#if picture}}' +\n                    '<div class=\"welcomescreen-picture\">{{picture}}</div>' +\n                  '{{/if}}' +\n                  '{{#if text}}' +\n                    '<div class=\"welcomescreen-text\">{{text}}</div>' +\n                  '{{/if}}' +\n                '{{/if}}' +\n              '</div>' +\n              '{{/each}}' +\n            '</div>' +\n            '{{#if options.pagination}}' +\n            '<div class=\"welcomescreen-pagination swiper-pagination\"></div>' +\n            '{{/if}}' +\n          '</div>' +\n        '</div>';\n    }\n    \n    /**\n     * Sets the options that were required\n     *\n     * @private\n     */\n    function applyOptions() {\n      var def;\n      options = options || {};\n      for (def in defaults) {\n        if (typeof options[def] === 'undefined') {\n          options[def] = defaults[def];\n        }\n      }\n    }\n    \n    /**\n     * Compiles the template\n     *\n     * @private\n     */\n    function compileTemplate() {\n      if (!options.template) {\n        // Cache compiled templates\n        if (!app._compiledTemplates.welcomescreen) {\n          app._compiledTemplates.welcomescreen = t7.compile(defaultTemplate);\n        }\n        template = app._compiledTemplates.welcomescreen;\n      } else {\n        template = t7.compile(options.template);\n      }\n    }\n    \n    /**\n     * Shows the welcome screen\n     *\n     * @public\n     * @memberof module:Framework7/prototype/plugins/welcomescreen\n     */\n    self.open = function () {\n      container = $$(template({options: options, slides: slides}));\n      swiperContainer = container.find('.swiper-container');\n      setColors();\n      $$('body').append(container);\n      initSwiper();\n      container[0].f7Welcomescreen = self;\n      if (typeof options.onOpened === 'function') { options.onOpened(); }\n    };\n\n    /**\n     * Hides the welcome screen\n     *\n     * @public\n     * @memberof module:Framework7/prototype/plugins/welcomescreen\n     */\n    self.close = function () {\n      if (swiper) { swiper.destroy(true); }\n      if (container) { container.remove(); }\n      container = swiperContainer = swiper = undefined;\n      if (typeof options.onClosed === 'function') { options.onClosed(); }\n    };\n    \n   /**\n     * Shows the next slide\n     *\n     * @public\n     * @memberof module:Framework7/prototype/plugins/welcomescreen\n     */\n    self.next = function () {\n      if (swiper) { swiper.slideNext(); }\n    };\n    \n   /**\n     * Shows the previous slide\n     *\n     * @public\n     * @memberof module:Framework7/prototype/plugins/welcomescreen\n     */\n    self.previous = function () {\n      if (swiper) { swiper.slidePrev(); }\n    };\n    \n   /**\n     * Goes to the desired slide\n     *\n     * @param {number} index The slide to show\n     * @public\n     * @memberof module:Framework7/prototype/plugins/welcomescreen\n     */\n    self.slideTo = function (index) {\n      if (swiper) { swiper.slideTo(index); }\n    };\n    \n    /**\n     * Initialize the instance\n     *\n     * @method init\n     */\n    (function () {\n      defineDefaultTemplate();\n      compileTemplate();\n      applyOptions();\n      \n      // Open on init\n      if (options.open) {\n        self.open();\n      }\n      \n    }());\n    \n    // Return instance\n    return self;\n  };\n  \n  app.welcomescreen = function (slides, options) {\n    return new Welcomescreen(slides, options);\n  };\n  \n};;/*global Framework7, Dom7 */\r\n// Initialize your app\r\nvar myApp = new Framework7({\r\n    // Default title for modals\r\n    modalTitle: 'SEZZWHO',\r\n     //Tell Framework7 to compile templates on app init\r\n    precompileTemplates: true,\r\n    // If it is webapp, we can enable hash navigation:\r\n    pushState: true,\r\n\tanimateNavBackIcon:true,\r\n\tswipePanel: 'left',\r\n\tmaterial : true,\r\n\tmaterialPageLoadDelay:0,\r\n\tfastClicksDistanceThreshold:10,\r\n\tfastClicksDelayBetweenClicks:50,\r\n\t//cache: false,\r\n\ttemplate7Pages: true, // enable Template7 rendering for Ajax and Dynamic pages\r\n  \tfastClicks: true,\r\n\tpreloader:false,\r\n\tmodalActionsTemplate:$(\"script#actions-modal-custom\").html(),\r\n\tmaterialPreloaderHtml :'<span class=\"preloader-inner\"><span class=\"preloader-inner-gap\"></span><span class=\"preloader-inner-left\"><span class=\"preloader-inner-half-circle\"></span></span><span class=\"preloader-inner-right\"><span class=\"preloader-inner-half-circle\"></span></span></span>'\r\n\t\r\n});\r\n\r\n\r\n\r\nvar limit=10,\r\n    page=1,\r\n    cookie={},\r\n    count=10,\r\n    homeModule=\"\",\r\n    retrievedObject=\"\",\r\n    activityData=\"\",\r\n    userloginInfo,\r\n\tpictureSource,   // picture source\r\n    destinationType; // sets the format of returned value ;\r\n// Export selectors engine\r\nvar $$ = Dom7;\r\n\r\n// Add view\r\nvar mainView = myApp.addView('.view-main', {\r\n    // Because we use fixed-through navbar we can enable dynamic navbar\r\n     dynamicNavbar: true,\r\n\t domCache: true //enable inline pages\r\n});\r\n\r\n// Callbacks to run specific code for specific pages, for example for About page:\r\nmyApp.onPageInit('about', function (page) {\r\n    \"use strict\";\r\n    // run createContentPage func after link was clicked\r\n    $$('.create-page').on('click', function () {\r\n        createContentPage();\r\n    });\r\n});\r\nmainView.hideToolbar();\r\n\r\n\r\n\r\nvar sezzwhoApp          \t\t\t=  myApp;\r\n\tsezzwhoApp.uploadlimit \t\t\t= \"78643200\";\r\n\tsezzwhoApp.embedding\t\t\t= \"\",\r\n\tsezzwhoApp.url          \t\t= 'https://sezzwho.com/api/userplus/',\r\n\tsezzwhoApp.homeUrl\t\t\t\t= 'https://sezzwho.com/wp-admin/admin-ajax.php?',\r\n\tsezzwhoApp.isUploading\t\t\t= false,\r\n\tsezzwhoApp.isUploaded\t\t\t= false,\r\n\tsezzwhoApp.postButton \t\t\t= false,\r\n\tsezzwhoApp.addLocationButton \t= false,\r\n\tsezzwhoApp.addReviewButton \t \t= false,\r\n    sezzwhoApp.autoWhatsNew \t\t= false;\r\n\tsezzwhoApp.baseUrl    \t\t\t= 'https://sezzwho.com/';\r\n\tsezzwhoApp.googleServerKey \t\t= 'AIzaSyBZVeN2VJIqZrM196M1rrlRpoJF9MRN6tQ';\r\n\tsezzwhoApp.jsonpcb      \t\t= 'jsonpCallbackSezzWhoApp8513467259';\r\n\tsezzwhoApp.notificationsOptions= 'ac_notifier,update_reply,ditto,refer,follow';\r\n\tsezzwhoApp.ziggeoUrl    = 'http://embed.ziggeo.com/v1/applications/ddd4366d3fc0baef95c333fa575c53f9/videos/';\r\n\tsezzwhoApp.sezzwhoAction = {'generate_auth_cookie'\t\t: \t'generate_auth_cookie', \r\n\t\t\t\t\t\t\t\t'validate_auth_cookie'\t\t: \t'validate_auth_cookie', \r\n\t\t\t\t\t\t\t'activities'\t\t\t\t:\t'activities',\r\n\t\t\t\t\t\t\t'xprofile'\t\t\t\t\t:\t'xprofile',\r\n\t\t\t\t\t\t\t'following'\t\t\t\t\t:\t'following_activities',\r\n\t\t\t\t\t\t\t'activities_post_update'\t:\t'activities_post_update',\r\n\t\t\t\t\t\t\t'notifications_unread_count' \t:\t'notifications_unread_count',\r\n\t\t\t\t\t\t\t'notifications'\t\t\t\t\t:\t'notifications',\r\n\t\t\t\t\t\t\t'notifications_delete'\t\t\t:\t'notifications_delete',\r\n\t\t\t\t\t\t\t'notifications_single_mark'\t\t:\t'notifications_single_mark',\r\n\t\t\t\t\t\t\t'activities_post_update_review'\t: 'activities_post_update_review',\r\n\t\t\t\t\t\t\t'activities_new_comment'\t\t: 'activities_new_comment',\r\n\t\t\t\t\t\t\t'members'\t\t\t\t\t\t: 'members',\r\n\t\t\t\t\t\t\t'get_refer_user_count'\t\t\t: 'get_refer_user_count',\r\n\t\t\t\t\t\t\t'sz_add_user_ditte'\t\t\t\t: 'sz_add_user_ditte',\r\n\t\t\t\t\t\t\t'following_follower'\t\t\t: 'following_follower',\r\n\t\t\t\t\t\t\t'sz_single_activity_post'\t\t: 'sz_single_activity_post',\r\n\t\t\t\t\t\t\t'activities_delete_activity'  \t: 'activities_delete_activity',\r\n\t\t\t\t\t\t\t'activities_post_update'\t\t: 'activities_post_update',\r\n\t\t\t\t\t\t\t'delete_comment'\t\t\t\t: 'delete_comment',\r\n\t\t\t\t\t\t\t'add_follow_button'\t\t\t\t: 'add_follow_button',\r\n\t\t\t\t\t\t\t'xprofile_update'\t\t\t\t: 'xprofile_update',\r\n\t\t\t\t\t\t\t'email_exists'\t\t\t\t\t: 'email_exists',\r\n\t\t\t\t\t\t\t'username_exists'\t\t\t\t: 'username_exists',\r\n\t\t\t\t\t\t\t'register'\t\t\t\t\t\t: 'register',\r\n\t\t\t\t\t\t\t'update_user_meta_vars'\t\t\t: 'update_user_meta_vars',\r\n\t\t\t\t\t\t\t'refreshed'\t\t\t\t\t\t: 'refresh_activities',\r\n\t\t\t\t\t\t\t'settings_update_notifications'\t: 'settings_update_notifications',\r\n\t\t\t\t\t\t\t'avatar_upload'\t\t\t\t\t: 'avatar_upload',\r\n\t\t\t\t\t\t\t'fb_connect'\t\t\t\t\t: 'fb_connect',\r\n\t\t\t\t\t\t\t'save_device_id'\t\t\t\t: 'save_device_id',\r\n\t\t\t\t\t\t\t'update_password'\t\t\t\t: 'update_password',\r\n\t\t\t\t\t\t\t'sezzwho_share_count'\t\t\t: 'sezzwho_share_count',\r\n\t\t\t\t\t\t\t'sz_following_list'\t\t\t\t: 'sz_following_list',\r\n\t\t\t\t\t\t\t'sz_follower_list'\t\t\t\t: 'sz_follower_list'\t\t \t\t\t\r\n\t\t\t\t\t\t   };\r\n  \r\n\r\nvar b_init= $$('.button.get-storage-data');\r\n\r\n\r\nb_init.on('click', function (e) {\r\n // alert(sezzwhoApp.sezzwhoAction.generate_auth_cookie);\r\n    myApp.showIndicator();\r\n   var ajaxurl = sezzwhoApp.url + sezzwhoApp.sezzwhoAction.generate_auth_cookie;\r\n    var data = {\r\n\t\t\t'username'               : $$(\".sezzwho-username\").val(),\r\n\t\t\t'password'               : $$(\".sezzwho-password\").val(),\r\n            'key'                    : sezzwhoApp.jsonpcb  \r\n  \t\t};\r\n\tcheckConnection(); // Check Connection\r\n   $.post(ajaxurl, data, function(response) {\r\n   \r\n       \r\n       if(response.status == \"ok\"){\r\n           localStorage.setItem('loginuser', response);\r\n           sezzwhoApp.cookie=response.cookie;\r\n           sezzwhoApp.userloginInfo = response;\r\n           mainView.router.load({url:'home.html?count=10',force:true});\r\n           sezzwhoApp.mainInits = mainInit;\r\n\t\t   sezzwhoApp.personalFeeds.init(sezzwhoApp.userloginInfo.user.id);   // Initial personal profile Tab\r\n\t\t   sezzwhoApp.notifications.init(); //Initial Notification Tab\r\n           sezzwhoApp.mainInits.initUserInfoTemplate(response);\r\n           myApp.hideIndicator();\r\n           $$(\".sezzwho-profile-menu,.sezzwho-change-password-menu, .sezzwho-setting-menu,.sezzwho-about-menu, .sezzwho-logout-menu\").show();\r\n\t\t   $$(\".sezzwho-login-menu,.sezzwho-registration-menu, .sezzwho-lost-password-menu\").hide();\r\n\t\t   localStorage.userLoggedIn = true;\r\n \t\t   localStorage.setItem(\"fbLogin\",false);\r\n\t\t   localStorage.usrname = $('.sezzwho-username').val();\r\n\t\t   localStorage.pass = $('.sezzwho-password').val();\r\n\t\t   localStorage.chkbx = $('#remember_me').val();\r\n\t\t   $(\"#my-form2\").hide();\r\n\t\t   //$(\"#my-form2\").addClass(\"form-hide\");\r\n       }else{\r\n           myApp.hideIndicator();\r\n\t\t   $(\".alert.alert-danger\").text(response.error);\r\n\t\t   $(\"#my-form2\").show(3000);\r\n\t\t   //$(\"#my-form2\").removeClass(\"form-hide\");\r\n\t\t   $('#remember_me').removeAttr('checked');\r\n       }\r\n       \r\n    });\r\n    \r\n    \r\n   \r\n});\r\n\r\n\r\nmyApp.onPageInit('home',function(){\r\n\t\t$$(\".tab-link.userprofile\").on('click', function(e){\r\n\t\t\t\t//sezzwhoApp.personalFeeds.init(this.className,sezzwhoApp.userloginInfo.user.id);    \r\n\t\t\t\t});\r\n\r\n\t\t$$('.open-popup-record').on('click', function () {\r\n\t\t\tconsole.log(\"e\");\r\n\t\t\tmyApp.popup('.popup-record');\t\t\t\t\t\t\r\n\t\t\tsezzwhoApp.searchs.init();             //Init search function\r\n\t\t\tsezzwhoApp.addbusiness.init();       // init Business page\r\n\t\t\tstar_rating();                    // Call star rating function\r\n\t\t\t});\r\n\t\r\n\t   $$('.close-popup').on('click',function(){\r\n\t\t   $$(\".demo-progressbar-load-hide\").html('<p style=\"height:2px\"></p>');\r\n\t\t   $$(\".record-input\").val(\"\");\r\n\t\t   $$(\"#review-rating img\").attr('src','images/star_off.png');\r\n\t\t   $$(\"#post-a-reivew\").attr(\"disabled\", \"disabled\");\r\n\t\t   $$('input#rating').attr( 'value', 0 );\r\n           $$(\"#auto-add-business,#auto-aw-whats-new-submit,#auto-post-business\").prop(\"disabled\", true);\r\n\t\t   \r\n\r\n\t\t   \r\n\t   \t});\r\n\t\r\n\t\t $$('.window-minimize').on('click',function(){\r\n  \t\t\t if ($$('.popup-record.modal-in').length > 0) { \r\n\t    \t\t\tmyApp.closeModal(\".popup-record\");\r\n\t\t\t\treturn false;\r\n\t\t\t\t}\t\t\t\t\t\r\n\t\t });\r\n\t\r\n\t});\r\n\r\n\r\n\r\n/***********************/\r\n\r\nfunction checkConnection() {\r\n    var networkState = navigator.connection.type;\r\n\r\n    var states = {};\r\n    states[Connection.UNKNOWN]  = 'Unknown connection';\r\n    states[Connection.ETHERNET] = 'Ethernet connection';\r\n    states[Connection.WIFI]     = 'WiFi connection';\r\n    states[Connection.CELL_2G]  = 'Cell 2G connection';\r\n    states[Connection.CELL_3G]  = 'Cell 3G connection';\r\n    states[Connection.CELL_4G]  = 'Cell 4G connection';\r\n    states[Connection.CELL]     = 'Cell generic connection';\r\n    states[Connection.NONE]     = 'No network connection';\r\n\r\n    //alert('Connection type: ' + states[networkState]);\r\n     var state = navigator.connection.type;\r\n\tif (state == Connection.NONE)\r\n\t{     \r\n\t     setTimeout(function(){ myApp.hideIndicator(); myApp.hidePreloader(); }, 3000); \r\n\t      \r\n\t\t// doesn't have internet, notify\r\n\t\t\tmyApp.addNotification({\r\n\t\t\t\ttitle: 'Internet',\r\n\t\t\t\tsubtitle: 'Please check your network connection or try again later',\r\n\t\t\t\tmessage: 'Please check your network connection or try again later',\r\n\t\t\t\tmedia: '<i class=\"fa fa-chain-broken\" aria-hidden=\"true\"></i>'\r\n\t\t\t});\r\n\t  \t\t\r\n\t}\r\n\telse if(state == Connection.WIFI || state == Connection.ETHERNET)\r\n\t{\r\n\t\t// has WIFI or ethernet, so we can download all the data\r\n\t}\r\n\telse\r\n\t{\r\n\t\t// has mobile internet, download just basic data\r\n\t} \r\n}\r\n\r\n$(document).ready(function() {\r\n    // are we running in native app or in a browser?\r\n    window.isphone = false;\r\n    if(document.URL.indexOf(\"http://\") === -1 \r\n        && document.URL.indexOf(\"https://\") === -1) {\r\n        window.isphone = true;\r\n    }\r\n\r\n    if( window.isphone ) {\r\n        document.addEventListener(\"deviceready\", onDeviceReady, false);\r\n    } else {\r\n        onDeviceReady();\r\n    }\r\n});\r\n\r\nfunction onDeviceReady() {\r\n    // Now safe to use device APIs\r\n\t//welcomepages();\r\n\t// pictureSource=navigator.camera.PictureSourceType;\r\n     //destinationType=navigator.camera.DestinationType;\r\n\tdocument.addEventListener(\"backbutton\", onBackKeyDown, false);\r\n\tmainInit.init();                     // Initialize \r\n\tmainInit.rememberMe();\r\n    \r\n\t//mainInit.clearCache();\r\n\t\r\n\r\n}\r\nfunction onBackKeyDown() {\r\n\t\t if ($$('.modal-in').length > 0) { \r\n\t\t myApp.closeModal(); \r\n\t\t return false; \r\n\t\t } \r\n\t\t else { \r\n\t\t mainView.router.back(); \r\n\t\t } \r\n\t\t return true;\r\n\t }\r\n\r\nfunction welcomepages(){\r\n\t\r\n  var options = {\r\n      'bgcolor': '#0da6ec',\r\n      'fontcolor': '#fff',\r\n      'onOpened': function () {\r\n        console.log(\"welcome screen opened\");\r\n      },\r\n      'onClosed': function () {\r\n        console.log(\"welcome screen closed\");\r\n\t\tlocalStorage.welcome = true;\r\n      }\r\n    },\r\n    welcomescreen_slides = [\r\n      {\r\n        id: 'slide0',\r\n        picture: '<div class=\"tutorialicon\"><img src=\"images/welcome/In-App-Tutorial-480x800-01.png\" /></div>',\r\n        text: ''\r\n      },\r\n      {\r\n        id: 'slide1',\r\n        picture: '<div class=\"tutorialicon\"><img src=\"images/welcome/In-App-Tutorial-480x800-02.png\" /></div>',\r\n        text: ''\r\n      },\r\n      {\r\n        id: 'slide2',\r\n        picture: '<div class=\"tutorialicon\"><img src=\"images/welcome/In-App-Tutorial-480x800-03.png\" /></div>',\r\n        text: ''\r\n      },\r\n      {\r\n        id: 'slide3',\r\n        picture: '<div class=\"tutorialicon\"><img src=\"images/welcome/In-App-Tutorial-480x800-04.png\" /></div>',\r\n        text: ''\r\n      },\r\n\t  {\r\n        id: 'slide4',\r\n        picture: '<div class=\"tutorialicon\"><img src=\"images/welcome/In-App-Tutorial-480x800-05.png\" /></div>',\r\n        text: ''\r\n      },\r\n      {\r\n        id: 'slide5',\r\n        picture: '<div class=\"tutorialicon\"><img src=\"images/welcome/In-App-Tutorial-480x800-06.png\" /></div>',\r\n        text: ''\r\n      },\r\n\t  {\r\n        id: 'slide6',\r\n        picture: '<div class=\"tutorialicon\"><img src=\"images/welcome/In-App-Tutorial-480x800-07.png\" /></div>',\r\n        text: ''\r\n      },\r\n\t  {\r\n        id: 'slide7',\r\n        picture: '<div class=\"tutorialicon\"><img src=\"images/welcome/In-App-Tutorial-480x800-08.png\" /></div>',\r\n        text: ''\r\n      },\r\n\t  {\r\n        id: 'slide8',\r\n        picture: '<div class=\"tutorialicon\"><img src=\"images/welcome/In-App-Tutorial-480x800-09.png\" /></div>',\r\n        text: ''\r\n      },\r\n\t  {\r\n        id: 'slide9',\r\n        picture: '<div class=\"tutorialicon\"><img src=\"images/welcome/In-App-Tutorial-480x800-10.png\" /></div>',\r\n        text: '<br><br><a class=\"tutorial-close-btn\" href=\"#\">End Tutorial</a>'\r\n      }\r\n    ],\r\n    welcomescreen = myApp.welcomescreen(welcomescreen_slides, options);\r\n    \r\n    $$(document).on('click', '.tutorial-close-btn, .welcomescreen-closebtn', function () {\r\n    //  welcomescreen.close();\r\n\t $$('.welcomescreen-container').remove();\r\n\t localStorage.welcome = true;\r\n    });\r\n\r\n    $$('.tutorial-open-btn').click(function () {\r\n      welcomescreen.open();  \r\n    });\r\n    \r\n    $$(document).on('click', '.tutorial-next-link', function (e) {\r\n      welcomescreen.next(); \r\n    });\r\n    \r\n    $$(document).on('click', '.tutorial-previous-slide', function (e) {\r\n      welcomescreen.previous(); \r\n    });\r\n\t\r\n}\r\n/***************************** Face Book Login *******************************/\r\n\r\n\t\t\tvar login = function () {\r\n                if (!window.cordova) {\r\n                    var appId = prompt(\"Enter FB Application ID\", \"\");\r\n                    facebookConnectPlugin.browserInit(appId);\r\n                }\r\n                facebookConnectPlugin.login( [\"email\"], \r\n                    function (response) { fb_login(response); //alert(JSON.stringify(response));\r\n\t\t\t\t\t },\r\n                    function (response) { \r\n\t\t\t\t\t\t$(\"#my-form2\").show();\r\n\t\t\t\t\t    //$(\"#my-form2\").addClass(\"form-hide\");\r\n\t\t\t\t\t\t//alert(JSON.stringify(response));\r\n\t\t\t\t\t\r\n\t\t\t\t\t });\r\n            }\r\n            \r\n            var showDialog = function () { \r\n                facebookConnectPlugin.showDialog( { method: \"feed\" }, \r\n                    function (response) { alert(JSON.stringify(response)) },\r\n                    function (response) { alert(JSON.stringify(response)) });\r\n            }\r\n            \r\n            var apiTest = function () { \r\n                facebookConnectPlugin.api( \"me/?fields=id,email,age_range,picture\", [\"user_birthday\"],\r\n                    function (response) { alert(JSON.stringify(response)) },\r\n                    function (response) { alert(JSON.stringify(response)) }); \r\n            }\r\n            var getAccessToken = function () { \r\n                facebookConnectPlugin.getAccessToken( \r\n                    function (response) { alert(JSON.stringify(response)) },\r\n                    function (response) { alert(JSON.stringify(response)) });\r\n            }\r\n            \r\n            var getStatus = function () { \r\n                facebookConnectPlugin.getLoginStatus( \r\n                    function (response) { alert(JSON.stringify(response)) },\r\n                    function (response) { alert(JSON.stringify(response)) });\r\n            }\r\n            var logout = function () { \r\n                facebookConnectPlugin.logout( \r\n                    function (response) { alert(JSON.stringify(response)) },\r\n                    function (response) { alert(JSON.stringify(response)) });\r\n            }\r\n\r\n\t\r\nfunction fb_login(fbresponse){\r\n\t checkConnection(); // Check Connection\r\n\tif(fbresponse.status === \"connected\"){\r\n\t  var ajaxurl = sezzwhoApp.url + sezzwhoApp.sezzwhoAction.fb_connect;\r\n\t\t\tvar data = {\r\n\t\t\t\t\t'key'       \t: sezzwhoApp.jsonpcb,\r\n\t\t\t\t\taccess_token \t: fbresponse.authResponse.accessToken,\r\n\t\t\t\t\tfields\t\t\t: 'id,name,first_name,last_name,email,age_range,location,bio,birthday'  \r\n\t\t\t\t};\r\n\t\t   $.post(ajaxurl, data, function(response) {\r\n\t\t\t  // var response = JSON.parse(response);\r\n\t\t\t    if(response.status == \"ok\"){\r\n\t\t\t\t   localStorage.setItem('loginuser', response);\r\n\t\t\t\t   localStorage.login = true;\r\n\t\t\t\t   sezzwhoApp.cookie=response.cookie;\r\n\t\t\t\t   sezzwhoApp.userloginInfo = response;\r\n\t\t\t\t   //sezzwhoApp.userloginInfo.user = [];\r\n\t\t\t\t   //sezzwhoApp.userloginInfo.user.id = response.wp_user_id;\r\n\t\t\t\t   sezzwhoApp.userloginInfo.user.username = response.user_login;\r\n\t\t\t\t   //sezzwhoApp.userloginInfo.user.avatar =\"images/gravatar.png\";\r\n\t\t\t\t   mainView.router.load({url:'home.html?count=10',force:true});\r\n\t\t\t\t   sezzwhoApp.mainInits = mainInit;\r\n\t\t\t\t   sezzwhoApp.personalFeeds.init(sezzwhoApp.userloginInfo.user.id);   // Initial personal profile Tab\r\n\t\t\t\t   sezzwhoApp.notifications.init(); //Initial Notification Tab\r\n\t\t\t\t   sezzwhoApp.mainInits.initUserInfoTemplate(response);\r\n\t\t\t\t   myApp.hideIndicator();\r\n\t\t\t\t   $$(\".sezzwho-profile-menu, .sezzwho-setting-menu, .sezzwho-change-password-menu, .sezzwho-about-menu, .sezzwho-logout-menu\").show();\r\n\t\t\t\t   $$(\".sezzwho-login-menu,.sezzwho-registration-menu, .sezzwho-lost-password-menu\").hide();\r\n\t\t\t\t   localStorage.usrname = response.user_login;\r\n\t\t\t\t   localStorage.pass = response.password;\r\n\t\t\t\t   localStorage.chkbx = 'remember-me';\r\n\t\t\t\t   localStorage.fbLogin = true;\r\n\t\t           $(\"#my-form2\").hide();\r\n\t\t\t\t   //$(\"#my-form2\").addClass(\"form-hide\");\r\n\r\n\t\t   }else{\r\n\t\t\t myApp.addNotification({\r\n\t\t\t\ttitle: 'Login Error',\r\n\t\t\t\tsubtitle: 'Face Book',\r\n\t\t\t\tmessage: response.error,\r\n\t\t\t\tmedia: '<img width=\"44\" height=\"44\" style=\"border-radius:100%\" src=\"http://lorempixel.com/output/people-q-c-100-100-9.jpg\">'\r\n\t\t\t});  \r\n\t\t    $(\"#my-form2\").show(3000);\r\n\t\t\t//$(\"#my-form2\").removeClass(\"form-hide\");\r\n\t\t   }\r\n\t\t   });\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\n/******************** Social Invites******************/\r\n\r\n$$(\".sezzwho-social-menu\").on('click', function(){\r\n var url = sezzwhoApp.baseUrl+\"/invites/\";\r\nvar    inAppBrowserRef=cordova.InAppBrowser.open(url, '_blank', 'location=yes');\r\ninAppBrowserRef.addEventListener('loadstart', function(){ \r\n   myApp.showIndicator();\r\n});\r\n\r\n    inAppBrowserRef.addEventListener('loadstop', function(){\r\n\t\t\r\n\t\tmyApp.hideIndicator();\r\n\t});\r\n});\r\n\r\n;\t/*\r\n\t * Please see the included README.md file for license terms and conditions.\r\n\t */\r\n\t// This file is a suggested starting place for your code.\r\n\t// It is completely optional and not required.\r\n\t// Note the reference that includes it in the index.html file.\r\n\t/*jslint browser:true, devel:true, white:true, vars:true */\r\n\t/*global $:false, intel:false app:false, dev:false, cordova:false */\r\n\t// This file contains your event handlers, the center of your application.\r\n\t// NOTE: see app.initEvents() in init-app.js for event handler initialization code.\r\n\t// function myEventHandler() {\r\n\t//     \"use strict\" ;\r\n\t// // ...event handler code here...\r\n\t// }\r\n\t// ...additional event handlers here...\r\n\tvar activityTemplate = $(\"script#comment-ziggeo-template\").html();\r\n\tvar userHeaderTemplate = $(\"script#user-profile-template\").html();\r\n\tvar notificationTemplate = $(\"script#notification-template\").html();\r\n\tvar commentTemplate = $(\"script#comment-template\").html();\r\n\tvar searchTemplate = $(\"script#search-results-template\").html();\r\n\tvar profileTemplate = $(\"script#profile-template\").html();\r\n\tvar popularTemplate = $(\"script#popular-video-template\").html();\r\n\tvar followingTemplate = $(\"script#following-list-template\").html();\r\n\tvar followerTemplate = $(\"script#follower-list-template\").html();\r\n\tvar pushNotification;      // Android notification variable\r\n\tvar push;                 // IOS notification variable \r\n\tvar page = 1,\r\n\t\tlimit = 10,\r\n\t\tcomments = false,\r\n\t\tcookie = '',\r\n\t\tloginUserID;\r\n\tvar mainInit = {\r\n\t\tinit: function() {\r\n\t\t\tvar that = this;\r\n\t\t\tthis.bindEvent();\r\n\t\t\t$$(document).on('pageBeforeInit', function(e) {\r\n\t\t\t\tvar page = e.detail.page;\r\n\t\t\t\tthat.pageBeforeInit(page);\r\n\t\t\t});\r\n\t\t\t$$(document).on('pageAfterAnimation', function(e) {\r\n\t\t\t\tvar page = e.detail.page;\r\n\t\t\t\tthat.pageAfterAnimation(page);\r\n\t\t\t});\r\n\t\t\t$$(document).on('pageBack', function(e) {\r\n\t\t\t\tvar page = e.detail.page;\r\n\t\t\t\tthat.pageBack(page);\r\n\t\t\t});\r\n\t\t\t//End Function\r\n\t\t},\r\n\t\tpageAfterAnimation: function(page) {\r\n\t\t\tvar name = page.name;\r\n\t\t\tvar from = page.from;\r\n\t\t\tif (name === 'homeView' || name === 'contactView' || name === 'setting') {\r\n\t\t\t\tif (from === 'left') { //End Function\r\n\t\t\t\t\t//  appFunc.showToolbar();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//End Function\r\n\t\t},\r\n\t\tpageBeforeInit: function(page) {\r\n\t\t\tvar name = page.name;\r\n\t\t\tvar query = page.query;\r\n\t\t\tvar context = page.context;\r\n\t\t\tcheckConnection();\r\n\t\t\tswitch (name) {\r\n\t\t\t\tcase 'home':\r\n\t\t\t\t\thomeModule.init(query);\r\n\t\t\t\t\tsezzwhoApp.popularVideos.init();\r\n\t\t\t\t\tsezzwhoApp.searchs.init();\r\n\t\t\t\t\tsezzwhoApp.commonFunc.refreshAll();\r\n\t\t\t\t\t(device.platform == \"Android\" || device.platform == 'android') ? sezzwhoApp.notifications.registerDeviceAndroid(): sezzwhoApp.notifications.registerDeviceIOS();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'comment':\r\n\t\t\t\t\tsezzwhoApp.showIndicator();\r\n\t\t\t\t\tcomments.init(query);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'detailPage':\r\n\t\t\t\t\tsezzwhoApp.showIndicator();\r\n\t\t\t\t\tdetailpage.init(query);\r\n\t\t\t\t\tsezzwhoApp.searchs.init();\r\n\t\t\t\t\t//sezzwhoApp.commonFunc.followingFollower(query.id);\r\n\t\t\t\t\t//sezzwhoApp.commonFunc.activitiesCount(query.id);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'message':\r\n\t\t\t\t\tmessageModule.init(query);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'business':\r\n\t\t\t\t\tsezzwhoApp.addbusiness.autoComplete(context);\r\n\t\t\t\t\tsezzwhoApp.addbusiness.init();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'single':\r\n\t\t\t\t\tsezzwhoApp.singlePage.init(query);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'profile':\r\n\t\t\t\t\tsezzwhoApp.profiles.init();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'register':\r\n\t\t\t\t\tsezzwhoApp.registers.init();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'setting':\r\n\t\t\t\t\tsezzwhoApp.settings.init();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'videodetail':\r\n\t\t\t\t\tvideodetail.init(context);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'accountsetting':\r\n\t\t\t\t\tsezzwhoApp.settings.bindEvent();\r\n\t\t\t\t\tsezzwhoApp.settings.initPasswordValidate();\r\n\t\t\t\t\tbreak;\t\r\n\t\t\t\tcase 'lostPassword':\r\n\t\t\t\t\tsezzwhoApp.lostPasswords.init();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'following':\r\n\t\t\t\t\tsezzwhoApp.showIndicator();\r\n\t\t\t\t\tsezzwhoApp.searchs.bindEvent();\r\n\t\t\t\t    sezzwhoApp.followingList.init(query);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'follower':\r\n\t\t\t\t\tsezzwhoApp.showIndicator();\r\n\t\t\t\t\tsezzwhoApp.searchs.bindEvent();\r\n\t\t\t\t    sezzwhoApp.followerList.init(query);\r\n\t\t\t\t\tbreak;\t\t\r\n\t\t\t\tcase 'default':\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t//End Function\r\n\t\t},\r\n\t\tpageBack: function(page){\r\n\t\t\t//console.log(page.query.id);\r\n\t\t\tif(typeof(page.query.id) !== \"undefined\"){ \r\n\t\t\tsezzwhoApp.userIDetail = page.query.id; $(\"#tab-detial\").show(); }\r\n\t\t\tvar name = page.name;\r\n\t\t\tswitch (name){\r\n\t\t\tcase 'home':\r\n\t\t\tnavigator.app.exitApp();\r\n\t\t\tbreak;\r\n\t\t\tcase 'default':\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetUserCookies: function() {\r\n\t\t\tretrievedObject = localStorage.getItem('userlogin');\r\n\t\t\treturn retrievedObject;\r\n\t\t\t//End Function\r\n\t\t},\r\n\t\tdisplayResult: function(template, data) {},\r\n\t\trenderTpl: function(markup, renderData) {\r\n\t\t\tvar compiledTemplate = Template7.compile(markup);\r\n\t\t\treturn compiledTemplate(renderData);\r\n\t\t\t//End Function\r\n\t\t},\r\n\t\tgetsezzwhoContents: function(content) {\r\n\t\t\tvar arrContent = {},\r\n\t\t\t\tziggeoCode = {},\r\n\t\t\t\thashtag = {},\r\n\t\t\t\ttitle = {};\r\n\t\t\t//console.log(content);\r\n\t\t\tziggeoCode = content.match(/ziggeo-video=(.*?)><\\/ziggeo>/);\r\n\t\t\ttitle = content.match(/<div class=\"videotitle\">(.*?)<\\/div>/);\r\n\t\t\thashtag = content.match(/<div class=\"hashtags\">(.*?)<\\/div>/);\r\n\t\t\t//console.log(ziggeoCode);\r\n\t\t\tif (ziggeoCode === null) {\r\n\t\t\t\tziggeoCode = {};\r\n\t\t\t\tziggeoCode[1] = \"\";\r\n\t\t\t}\r\n\t\t\tif (title === null) {\r\n\t\t\t\ttitle = {};\r\n\t\t\t\ttitle[0] = \"\";\r\n\t\t\t}\r\n\t\t\tif (hashtag === null) {\r\n\t\t\t\thashtag = {};\r\n\t\t\t\thashtag[0] = \"\";\r\n\t\t\t}\r\n\t\t\treturn arrContent = {\r\n\t\t\t\t\t'ziggeoCode': ziggeoCode[1].slice(1, 33),\r\n\t\t\t\t\t'title': title[0],\r\n\t\t\t\t\t'hashtag': hashtag[0]\r\n\t\t\t\t}\r\n\t\t\t\t//End Function\r\n\t\t},\r\n\t\tstripHTML: function(){\r\n\t\t\tvar re= /<\\S[^><]*>/g;\r\n\t\t\tfor (i=0; i<arguments.length; i++)\r\n\t\t\targuments[i].value=arguments[i].value.replace(re, \"\");\r\n\t\t},\r\n\t\trememberMe: function() {\r\n\t\t\tif (localStorage.chkbx && localStorage.chkbx != '') {\r\n\t\t\t\t$('#remember_me').attr('checked', 'checked');\r\n\t\t\t\t$('.sezzwho-username').val(localStorage.usrname);\r\n\t\t\t\t$('.sezzwho-password').val(localStorage.pass);\r\n\t\t\t\tmainInit.checkLoginStatus();\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\t$('#remember_me').removeAttr('checked');\r\n\t\t\t\t/*$('#username').val('');*/\r\n\t\t\t\t$('#pass').val('');\r\n\t\t\t\t$(\"#my-form2\").show(\"slow\");\r\n\t\t\t\t//$(\"#my-form2\").removeClass(\"form-hide\");\r\n\t\t\t\tif(localStorage.welcome !== \"true\")\r\n\t\t\t\twelcomepages();\r\n\t\t\t}\r\n\t\t\t$('#remember_me').click(function() {\r\n\t\t\t\tif ($('#remember_me').is(':checked')) {\r\n\t\t\t\t\t// save username and password\r\n\t\t\t\t\tlocalStorage.usrname = $('.sezzwho-username').val();\r\n\t\t\t\t\tlocalStorage.pass = $('.sezzwho-password').val();\r\n\t\t\t\t\tlocalStorage.chkbx = $('#remember_me').val();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlocalStorage.usrname = '';\r\n\t\t\t\t\tlocalStorage.pass = '';\r\n\t\t\t\t\tlocalStorage.chkbx = '';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t//End Function\r\n\t\t},\r\n\t\tcheckLoginStatus: function() {\r\n\t\t\tif (localStorage.userLoggedIn == \"true\" && localStorage.userLoggedIn != '') {\r\n\t\t\t\t$(\"#my-form2\").hide();\r\n\t\t\t\t//$(\"#my-form2\").addClass(\"form-hide\");\r\n\t\t\t\tb_init.click();\r\n\t\t\t}\r\n\t\t\telse if(localStorage.fbLogin == \"true\" && localStorage.fbLogin != ''){\r\n\t\t\t\t$(\"#my-form2\").hide();\r\n\t\t\t\t//$(\"#my-form2\").addClass(\"form-hide\");\r\n\t\t\t\tlogin();\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t$(\"#my-form2\").show(3000);\r\n\t\t\t// $(\"#my-form2\").removeClass(\"form-hide\");\r\n\t\t\t}\r\n\t\t},\r\n\t\tcheckWelcomeTutorial : function(){\r\n\t\t\t\r\n\t\t},\r\n\t\tclearCache: function() {\r\n\t\t\tvar success = function(status) {\r\n\t\t\t\tconsole.log('Message: ' + status);\r\n\t\t\t}\r\n\t\t\tvar error = function(status) {\r\n\t\t\t\tconsole.log('Error: ' + status);\r\n\t\t\t}\r\n\t\t\twindow.cache.clear(success, error);\r\n\t\t},\r\n\t\tcountFormat: function(value) {\r\n\t\t\tvar result;\r\n\t\t\tif (value > 999 && value <= 999999) {\r\n\t\t\t\tresult = (Math.floor(value * 10 / 1000))/10 + 'K';\r\n\t\t\t} else if (value > 999999) {\r\n\t\t\t\tresult = (Math.floor(value * 10 / 1000000))/10 + 'M';\r\n\t\t\t} else {\r\n\t\t\t\tresult = value;\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\tgetHashTags : function(string) {\r\n\t\t\t   var hashTags, i, len, word, words;\r\n\t\t\t   words = string.split(/[\\s\\r\\n]+/);\r\n\t\t\t   hashTags = [];\r\n\t\t\t   for (i = 0, len = words.length; i < len; i++) {\r\n\t\t\t\t word = words[i];\r\n\t\t\t\t if (word.indexOf('#') === 0) {\r\n\t\t\t\t   hashTags.push(word);\r\n\t\t\t\t }\r\n\t\t\t   }\r\n\t\t\t   return hashTags;\r\n\t\t},\r\n\t\tinitUserInfoTemplate: function(data) {\r\n\t\t\t$(\".whats-new-info\").text(\"What's new, \" + sezzwhoApp.userloginInfo.user.username + \"?\");\r\n\t\t\t$(\".recored-facebook-avatar img\").attr('src', sezzwhoApp.userloginInfo.user.avatar);\r\n\t\t},\r\n\t\tactivities: function(response, bool, type) {\r\n\t\t\tvar items = [],\r\n\t\t\t\titem = [],\r\n\t\t\t\tcount,\r\n\t\t\t\ttext = [],\r\n\t\t\t\ti = 0,\r\n\t\t\t\ttitle=\"\",\r\n\t\t\t\thtml = '<br><br><div class=\"none-comment\"><i class=\"fa fa-newspaper-o  fa-5x\"></i><p>No Activities</p></div>';\r\n\t\t\t if((response.status === \"error\" || response.error ===\"No Activities found.\") && type !== \"refresh\") {\r\n\t\t\t     sezzwhoApp.hideIndicator();\r\n\t\t\t   $('.load-result').html(html);\r\n\t\t\t   $$('.infinite-scroll-preloader').remove();\r\n\t\t\t    return false;\r\n\t\t\t }\r\n\t\t\t  if((response.status === \"error\" || response.error ===\"No Activities found.\") && type === \"refresh\") {\r\n\t\t\t     sezzwhoApp.hideIndicator();\r\n\t\t\t\t \r\n\t\t\t     return false;\r\n\t\t\t }\r\n\t\t\tif (bool) count = sezzwhoApp.activityData.activities.length;\r\n\t\t\twhile (i < response.activities.length) {\r\n\t\t\t\ttext = sezzwhoApp.mainInits.getsezzwhoContents(response.activities[i].content);\r\n\t\t\t\ttitle = text.title;\r\n\t\t\t\ttitle = title.replace(/\\\\/g, '');\r\n\t\t\t\tif (!bool) {\r\n\t\t\t\t\tsezzwhoApp.activityData = response;\r\n\t\t\t\t\tsezzwhoApp.refreshTime = response.activities[0].time\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsezzwhoApp.activityData.activities[count + i] = response.activities[i];\r\n\t\t\t\t\tsezzwhoApp.activityData.page = response.page;\r\n\t\t\t\t\tsezzwhoApp.activityData.page = response.page;\r\n\t\t\t\t\tsezzwhoApp.activityData.has_more_items = response.has_more_items;\r\n\t\t\t\t}\r\n\t\t\t\t// console.log(text);\r\n\t\t\t\titem[i] = {\r\n\t\t\t\t\tnickname: response.activities[i].user[0].username,\r\n\t\t\t\t\tavatar: sezzwhoApp.mainInits.addhttp(response.activities[i].user[0].avatar),\r\n\t\t\t\t\tuser_id: response.activities[i].user[0].user_id,\r\n\t\t\t\t\ttime: response.activities[i].time_since,\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\thashtag: text.hashtag,\r\n\t\t\t\t\tziggeocode: text.ziggeoCode,\r\n\t\t\t\t\ttype: ((response.activities[i].type == \"Member_review\" || response.activities[i].type == \"activity_update\") ? true : false),\r\n\t\t\t\t\tcommentLenght: (typeof(response.activities[i].comments) !== \"undefined\") ? response.activities[i].comments.length : 0,\r\n\t\t\t\t\tcomments: (typeof(response.activities[i].comments) !== \"undefined\") ? true : false,\r\n\t\t\t\t\tpage: response.page,\r\n\t\t\t\t\tid: response.activities[i].activity_id,\r\n\t\t\t\t\taction: response.activities[i].action,\r\n\t\t\t\t\tname: \"following\",\r\n\t\t\t\t\tstar: response.activities[i].star,\r\n\t\t\t\t\tlikes_count: (typeof(response.activities[i].likes_count) === \"string\") ? 0 : Object.keys(response.activities[i].likes_count).length,\r\n\t\t\t\t\tlike_button: response.activities[i].likes_button,\r\n\t\t\t\t\trefer_count: response.activities[i].refer_count,\r\n\t\t\t\t\tweb_link: (response.activities[i].web_link === \"\") ? false : sezzwhoApp.mainInits.matchUrl(response.activities[i].web_link),\r\n\t\t\t\t\tlocation: (response.activities[i].location === true)? sezzwhoApp.mainInits.mapUrl(response.activities[i].address) : false,\r\n\t\t\t\t\tshare_count : response.activities[i].share_count, \r\n\t\t\t\t\tis_follow : response.activities[i].followCheck,\r\n\t\t\t\t\taccount_type : response.activities[i].user[0].account_type\r\n\r\n\t\t\t\t};\r\n\t\t\t\ti++;\r\n\t\t\t} // while  loop\r\n\t\t\t\r\n\t\t\titems.push({\r\n\t\t\t\t\"item\": item\r\n\t\t\t});\r\n\t\t\t//console.log(JSON.stringify(items));\r\n\t\t\tvar output = sezzwhoApp.mainInits.renderTpl(activityTemplate, items[0]);\r\n\t\t\t/*\r\n\t\t\t\t\t\tif(type === 'prepend'){\r\n\t\t\t\t\t\t\t$$('#homeView').find('.home-timeline').prepend(output);\r\n\t\t\t\t\t\t}else if(type === 'append') {\r\n\t\t\t\t\t\t\t$$('#homeView').find('.home-timeline').append(output);\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t$$('#homeView').find('.home-timeline').html(output);\r\n\t\t\t\t\t\t} */\r\n\t\t\tif (type !== \"refresh\") {\r\n\t\t\t\t$('.load-result').append(output);\r\n\t\t\t\tif($(\".load-result .none-comment\").length ==1) $(\".load-result .none-comment\").remove();\r\n\t\t\t} else {\r\n\t\t\t\tif (response.activities.lenght !== 0) sezzwhoApp.refreshTime = response.activities[0].time;\r\n\t\t\t\t$('.load-result').prepend(output);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tmyApp.hideIndicator();\r\n\t\t\tsezzwhoApp.commonFunc.init(); // Blind share event button ;   \r\n\t\t\t//End Function\r\n\t\t},\r\n\t\tallLinkUpdate: function(response) {\r\n\t\t\tsezzwhoApp.activityData = response;\r\n\t\t},\r\n\t\ttimeFormat: function(ms) {\r\n\t\t\tms = ms * 1000;\r\n\t\t\tvar d_second, d_minutes, d_hours, d_days;\r\n\t\t\tvar timeNow = new Date().getTime();\r\n\t\t\tvar d = (timeNow - ms) / 1000;\r\n\t\t\td_days = Math.round(d / (24 * 60 * 60));\r\n\t\t\td_hours = Math.round(d / (60 * 60));\r\n\t\t\td_minutes = Math.round(d / 60);\r\n\t\t\td_second = Math.round(d);\r\n\t\t\tif (d_days > 0 && d_days < 2) {\r\n\t\t\t\treturn d_days + i18n.global.day_ago;\r\n\t\t\t} else if (d_days <= 0 && d_hours > 0) {\r\n\t\t\t\treturn d_hours + i18n.global.hour_ago;\r\n\t\t\t} else if (d_hours <= 0 && d_minutes > 0) {\r\n\t\t\t\treturn d_minutes + i18n.global.minute_ago;\r\n\t\t\t} else if (d_minutes <= 0 && d_second >= 0) {\r\n\t\t\t\treturn i18n.global.just_now;\r\n\t\t\t} else {\r\n\t\t\t\tvar s = new Date();\r\n\t\t\t\ts.setTime(ms);\r\n\t\t\t\treturn (s.getFullYear() + '-' + f(s.getMonth() + 1) + '-' + f(s.getDate()) + ' ' + f(s.getHours()) + ':' + f(s.getMinutes()));\r\n\t\t\t}\r\n\r\n\t\t\tfunction f(n) {\r\n\t\t\t\tif (n < 10) return '0' + n;\r\n\t\t\t\telse return n;\r\n\t\t\t}\r\n\t\t\t//End Function\r\n\t\t},\r\n\t\tgetCharLength: function(str) {\r\n\t\t\tvar iLength = 0;\r\n\t\t\tfor (var i = 0; i < str.length; i++) {\r\n\t\t\t\tif (str.charCodeAt(i) > 255) {\r\n\t\t\t\t\tiLength += 2;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tiLength += 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn iLength;\r\n\t\t\t//End Function\r\n\t\t},\r\n\t\tmatchUrl: function(string) {\r\n\t\t\tvar reg = /((http|ftp|https):\\/\\/)?[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-\\.,@?^=%&;:\\/~\\+#]*[\\w\\-\\@?^=%&;\\/~\\+#])?/g;\r\n\t\t\tstring = string.replace(reg, function(a) {\r\n\t\t\t\tif (a.indexOf('http') !== -1 || a.indexOf('ftp') !== -1) {\r\n\t\t\t\t\treturn '<a href=\\\"#\\\" onclick=\\\"cordova.InAppBrowser.open(\\'' + a + '\\',\\'_blank\\',\\'location=yes\\')\\\">' + a + '</a>';\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn '<a href=\\\"#\\\" onclick=\\\"cordova.InAppBrowser.open(\\'http://' + a + '\\',\\'_blank\\',\\'location=yes\\')\\\">' + a + '</a>';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn string;\r\n\t\t},\r\n\t\taddhttp : function(url) {\r\n\t\t   if (!/^(f|ht)tps?:\\/\\//i.test(url)) {\r\n\t\t\t  url = \"http://\" + url;\r\n\t\t   }\r\n\t\t   return url;\r\n\t\t},\r\n\t\tgetAge : function(dateString) {\r\n\t\t\tvar today = new Date();\r\n\t\t\tvar birthDate = new Date(dateString);\r\n\t\t\tvar age = today.getFullYear() - birthDate.getFullYear();\r\n\t\t\tvar m = today.getMonth() - birthDate.getMonth();\r\n\t\t\tif (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {\r\n\t\t\t\tage--;\r\n\t\t\t}\r\n\t\t\treturn age;\r\n\t\t},\r\n\t\tmapUrl: function(string) {\r\n\t\t\t\r\n\t\t\t\t\treturn '<a href=\\\"#\\\" onclick=\\\"cordova.InAppBrowser.open(\\'https://www.google.ca/maps/place/' + string + '/\\',\\'_blank\\',\\'location=no\\')\\\">' + \"find us on google maps\" + '</a>';\r\n\t\t\t\r\n\t\t},\r\n\t\tsezzwhoLogout: function() {\r\n\t\t\tconsole.log('logout');\r\n\t\t\tmyApp.showIndicator();\r\n\t\t\tmainView.router.load({\r\n\t\t\t\tpageName: \"index\"\r\n\t\t\t});\r\n\t\t\t//mainInit.init();\r\n\t\t\t//mainInit.rememberMe();\r\n\t\t\twindow.location.reload();\r\n\t\t\t$$(\".sezzwho-profile-menu, .sezzwho-setting-menu, .sezzwho-change-password-menu, .sezzwho-about-menu, .sezzwho-logout-menu\").hide();\r\n\t\t\t$$(\".sezzwho-login-menu,.sezzwho-registration-menu, .sezzwho-lost-password-menu\").show();\r\n\t\t\tsezzwhoApp.mainInits.restLocalStorage();\r\n\t\t\tif (device.platform == 'android' || device.platform == 'Android' || device.platform == \"amazon-fireos\") {\r\n\t\t\tsezzwhoApp.notifications.unregisterDeviceAndroid();\r\n\t\t\t}else{\r\n\t\t\tsezzwhoApp.notifications.unregisterDeviceIos();\r\n\t\t\t}\r\n\t\t\t//sezzwhoApp.mainInits.clearCache();\r\n\t\t\tsetTimeout(function(){ myApp.hideIndicator();}, 3000);\r\n\t\t},\r\n\t\tbindEvent: function() {\r\n\t\t\tvar bindings = [{\r\n\t\t\t\telement: '.sezzwho-logout-menu',\r\n\t\t\t\tevent: 'click',\r\n\t\t\t\thandler: mainInit.sezzwhoLogout\r\n\t\t\t}];\r\n\t\t\tmainInit.bindEvents(bindings);\r\n\t\t},\r\n\t\trestLocalStorage : function(){\r\n\t\t\tlocalStorage.setItem(\"userLoggedIn\", false);\r\n\t\t\tlocalStorage.setItem(\"pass\" , '');\r\n\t\t\tlocalStorage.setItem(\"chkbx\",  '');\r\n\t\t\tlocalStorage.setItem(\"fbLogin\",false);\r\n\t\t},\r\n\t\tbindEvents: function(bindings) {\r\n\t\t\tfor (var i in bindings) {\r\n\t\t\t\tif (bindings[i].selector) {\r\n\t\t\t\t\t$$(bindings[i].element).on(bindings[i].event, bindings[i].selector, bindings[i].handler);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$$(bindings[i].element).on(bindings[i].event, bindings[i].handler);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//End Function\r\n\t\t}\r\n\t};;/**\r\n *   Ajax calling\r\n */\r\nvar sxhr = {\r\n    simpleCall: function(url, callback, data, name) {\r\n        //console.log(userlogin);\r\n        var ajaxurl = url + callback;\r\n        var text;\r\n        $.post(ajaxurl, data, function(response) {\r\n            sezzwhoApp.xhrs.data = response;\r\n            switch (name) {\r\n                case \"activities\":\r\n                    sezzwhoApp.mainInits.activities(response, false, \"activity\");\r\n                    sezzwhoApp.homeModules.loadmoreContent(); // Initialize LoadmoreContent Function\r\n                    break;\r\n                case 'loadmoreActivity':\r\n                    sezzwhoApp.mainInits.activities(response, true, \"more\");\r\n                    console.log(\"loadmoreActivities\");\r\n                    break;\r\n                case 'refreshActivity':\r\n                    sezzwhoApp.mainInits.activities(response, true, \"refresh\");\r\n                    break;\r\n\t\t\t\tcase 'login':\r\n                    //  feedbackModule.init();\r\n                    break;\r\n                case 'profile':\r\n                    sezzwhoApp.personalFeeds.getPersonalFeed(response);\r\n                    break;\r\n                case 'personalFeed':\r\n                    sezzwhoApp.personalFeeds.activitiesFeed(response,false);\r\n                   if(sezzwhoApp.checkPersonalRefresh)\r\n\t\t\t\t    sezzwhoApp.personalFeeds.loadmoreFeedContent(); // Initialize load more personal content      \r\n                    break;\r\n                case 'loadmoreFeedActivity':\r\n                    sezzwhoApp.personalFeeds.activitiesFeed(response, true);\r\n                    console.log(\"loadmoreActivities\");\r\n                    break;\r\n                case 'detialpageheader':\r\n                    sezzwhoApp.detailpages.getPersonalFeed(response);\r\n                    break;\r\n                case 'detialpagelist':\r\n                    sezzwhoApp.detailpages.activitiesFeed(response);\r\n                    sezzwhoApp.detailpages.loadmoreFeedContent(); // Initialize load more personal content    \r\n                    break;\r\n                case 'loadmoreDetailActivity':\r\n                    sezzwhoApp.detailpages.activitiesFeed(response);\r\n                    break;\r\n\t\t\t\tcase 'reviewpagelist':\r\n                    sezzwhoApp.reviewpages.activitiesReviewFeed(response);\r\n                    sezzwhoApp.reviewpages.loadmoreFeedContent(); // Initialize load more personal content    \r\n                    break;\r\n                case 'loadmoreReviewActivity':\r\n                    sezzwhoApp.reviewpages.activitiesReviewFeed(response);\r\n                    break;\r\n                case 'postUpdate':\r\n                    sezzwhoApp.personalFeeds.response_post_update(response);\r\n                    break;\r\n                case 'postBusinessReview':\r\n                    sezzwhoApp.addbusiness.doneReview(response);\r\n                    break;\r\n                case 'postComment':\r\n                    sezzwhoApp.comments.doneComments(response);\r\n                    break;\r\n                case 'unreadCount':\r\n                    sezzwhoApp.notifications.displayCount(response);\r\n                    break;\r\n                case 'notification':\r\n                    sezzwhoApp.notifications.displayNotifications(response);\r\n                    break;\r\n                case 'allUpdate':\r\n                    sezzwhoApp.mainInits.allLinkUpdate(response);\r\n                    break;\r\n                case 'comments':\r\n                    sezzwhoApp.comments.displayJsonComments(response, false);\r\n                    sezzwhoApp.comments.loadmoreContent(); // Initialize load more personal content    \r\n                    break;\r\n                case 'comment_edit_delete_activity':\r\n                    sezzwhoApp.comments.displayEditDeleteMessage(response);\r\n                    break;\r\n                case 'loadmoreComment':\r\n                    sezzwhoApp.comments.displayJsonComments(response, true);\r\n                    break;\r\n                case 'searchResult':\r\n                    sezzwhoApp.searchs.displayResult(response);\r\n                    break;\r\n                case 'refer':\r\n                    sezzwhoApp.commonFunc.displayReferResult(response);\r\n                    break;\r\n                case 'follower':\r\n                    sezzwhoApp.commonFunc.displayCountFollower(response);\r\n                    break;\r\n                case 'activityCount':\r\n                    sezzwhoApp.commonFunc.displayCountActivity(response);\r\n                    break;\r\n                case 'notificationCount':\r\n                    sezzwhoApp.commonFunc.displayCountNotification(response)\r\n                    break;\r\n                case 'singlePage':\r\n                    sezzwhoApp.singlePage.displayActivity(response);\r\n                    break;\r\n                case 'activities_edit_delete_activity':\r\n                    sezzwhoApp.commonFunc.displayEditDeleteMessage(response);\r\n                    break;\r\n                case 'notifications_delete':\r\n                    sezzwhoApp.notifications.notifications_delete_message(response);\r\n                    break;\r\n\t\t\t\t case 'notifications_mark':\r\n                    sezzwhoApp.notifications.notifications_mark_message(response);\r\n                    break;\r\n                case 'following_unfollowing_button':\r\n\r\n                    break;\r\n                case 'popular_video':\r\n                    sezzwhoApp.popularVideos.displayVideo(response);\r\n                    break;\r\n\t\t\t\tcase 'changePassword':\r\n\t\t\t\t\tsezzwhoApp.settings.responseUpdatePassword(response);\r\n\t\t\t\t\tbreak;\r\n                case 'shareCount':\r\n\t\t\t\t\tsezzwhoApp.commonFunc.reponseShareCount(response);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'followingList':\r\n\t\t\t\t    sezzwhoApp.followingList.displayFollowingList(response);\r\n\t\t\t\t\tsezzwhoApp.followingList.loadmore();\r\n\t\t\t\t   break;\r\n\t\t\t\tcase 'followingLoadMore':\r\n\t\t\t\t      sezzwhoApp.followingList.displayFollowingList(response);\r\n\t\t\t\t   break;   \r\n\t\t\t\tcase 'followerList':\r\n\t\t\t\t    sezzwhoApp.followerList.displayFollowerList(response);\r\n\t\t\t\t\tsezzwhoApp.followerList.loadmore();\r\n\t\t\t\t   break;\r\n\t\t\t\tcase 'followerLoadMore':\r\n\t\t\t\t      sezzwhoApp.followerList.displayFollowerList(response);\r\n\t\t\t\t   break;   \t\r\n\t\t\t\tdefault:\r\n                    console.log(\"error\");\r\n                    break;\r\n            }\r\n        });\r\n\r\n        //End Function\r\n    },\r\n    multipleCall: function() {\r\n\r\n    }\r\n\r\n};\r\n\r\nsezzwhoApp.xhrs = sxhr;;var commonFunc = {\r\n\r\n    init: function() {\r\n        this.blindEvent();\r\n        this.guesterFunc();\r\n    },\r\n    shareWidget: function() {\r\n\t      sezzwhoApp.showPreloader();\r\n\r\n     \r\n              \r\n   \r\n        //console.log($$(this).attr('data-arg'));\r\n        var data = $(this).data('arg');\r\n        sezzwhoApp.shareWidgetId = data.id;\r\n\t\tvar videoUrl =sezzwhoApp.ziggeoUrl + data.video + \"/video.mp4\";\r\n\t\tconsole.log(videoUrl);\r\n\t\tvar id = \"#activity-\" + data.id;\r\n       var  url = sezzwhoApp.baseUrl + $$(id).find('.share-link').val();\r\n\t   var options= {\r\n\t\t   message: $$(id).find('.videotitle').text(),\r\n\t\t   subject: \"SEZZWHO\",\r\n\t\t   files: [videoUrl],\r\n\t\t   url: url,\r\n\t\t   chooserTitle: 'Title here'\r\n\t     };\r\n\t   //window.plugins.socialsharing.shareWithOptions(options,sezzwhoApp.commonFunc.shareSuccessCallback,sezzwhoApp.commonFunc.SareerrorCallback);\r\n\t setTimeout(function(){  window.plugins.socialsharing.share($$(id).find('.videotitle').text(), \"SEZZWHO\", videoUrl, url, sezzwhoApp.commonFunc.shareSuccessCallback, sezzwhoApp.commonFunc.SareerrorCallback); },300);\r\n    },\r\n\t shareCommentWidget: function(event) {\r\n\t\t \t sezzwhoApp.showPreloader();\r\n\r\n        \r\n    \r\n\t\t\t\r\n        //console.log($(event).data('arg'));\r\n        var data,videoUrl;\r\n\t\t data = $(event).data('arg');\r\n\t\t//sezzwhoApp.shareWidgetId = id;\r\n\t    if(data.videoCheck)\r\n        \tvideoUrl = sezzwhoApp.ziggeoUrl + data.video + \"/video.mp4\";\r\n\t\telse\r\n\t\t\tvideoUrl =data.image; \r\n\t\t\t\r\n        setTimeout(function(){ window.plugins.socialsharing.share(data.text,\"SEZZWHO\",videoUrl,sezzwhoApp.baseUrl,sezzwhoApp.commonFunc.shareSuccessCallback, sezzwhoApp.commonFunc.SareerrorCallback); },300);\r\n    },\r\n\tshareSuccessCallback:function(){ \r\n\t//console.log(\"Success full\");\r\n\t sezzwhoApp.hidePreloader();  \r\n\tvar el = id = \".activity-\" + sezzwhoApp.shareWidgetId;\r\n\t//console.log(el);\r\n\t$(el).find(\".share-count\").text(sezzwhoApp.mainInits.countFormat(parseInt($(el).find(\".share-count-hidden\").val())+1)).first().text();\r\n\t$(el).find(\".share-count-hidden\").val(parseInt($(el).find(\".share-count-hidden\").val()) + 1 );\r\n\tvar count = $(el).find(\".share-count-hidden\").val();\r\n\t var options ={\r\n\t\t \t'key': sezzwhoApp.jsonpcb,\r\n            'cookie': sezzwhoApp.cookie,\r\n\t\t\t'activity_id': sezzwhoApp.shareWidgetId,\r\n\t\t\t//'count': $(el).find(\".share-count\").text(parseInt($(el).find(\".share-count\").first().text())+1).first().text()\r\n\t\t\t'count':  count\r\n\t };\r\n\t// console.log(options);\r\n\t sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.sezzwho_share_count, options, \"shareCount\");\r\n\t},\r\n\tShareerrorCallback:function() {\r\n\tsezzwhoApp.hidePreloader();  \r\n\t console.log(\"Error\");\r\n\t},\r\n\treponseShareCount : function(response){\r\n\tconsole.log(response);\r\n\t},\r\n    videoPlayer: function() {\r\n        var url = $$(this).attr('data-url');\r\n        VideoPlayer.play(\r\n            url, {\r\n                volume: 0.5,\r\n                scalingMode: VideoPlayer.SCALING_MODE.SCALE_TO_FIT\r\n            },\r\n            function(err) {\r\n                console.log(err);\r\n            }\r\n        );\r\n    },\r\n\trefreshAll : function(){\r\n\t$$('.refreshAll').on('click', function () {\r\n        $$('.fa.fa-refresh').addClass('fa-spin');  \r\n\t\tsezzwhoApp.checkPersonalRefresh = false;\r\n\t\tsezzwhoApp.notifications.notifications_unread_count();\r\n\t\tsezzwhoApp.notifications.getNotification();\r\n\t\tsezzwhoApp.homeModules.refreshActivities();\r\n\t\tsezzwhoApp.personalFeeds.getFeedActivities();\r\n       \tsezzwhoApp.popularVideos.getPopularVideo();\r\n\t\tsetTimeout(function(){  $$('.fa.fa-refresh').removeClass('fa-spin'); }, 5000);\r\n\r\n\r\n    });\r\n\t\r\n\t},\r\n    activity_like: function() {\r\n        var el = \"\",\r\n            id = \"\",\r\n            option = {},\r\n            url = \"\";\r\n\r\n        el = $$(this);\r\n        id = el.attr('data-id');\r\n        options = {\r\n            'key': sezzwhoApp.jsonpcb,\r\n            'cookie': sezzwhoApp.cookie,\r\n            'activity_id': id\r\n\r\n        };\r\n        //alert(id);\r\n        url = sezzwhoApp.url + sezzwhoApp.sezzwhoAction.sz_add_user_ditte;\r\n        id = \".activity-\" + id;\r\n\t\tvar animId = id + ' span.likes';\r\n         $(animId).each(function () {\r\n\t\t\t\t$(this).prop('Counter',100).animate({\r\n\t\t\t\t\tCounter: 0\r\n\t\t\t\t}, {\r\n\t\t\t\t\tduration: 500,\r\n\t\t\t\t\teasing: 'swing',\r\n\t\t\t\t\tstep: function (now) {\r\n\t\t\t\t\t\t$(this).text(Math.ceil(now));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\t\r\n        $.post(url, options, function(data) {\r\n             \r\n            if (data.text === 'Ditto') {\r\n\t\t\t\t\r\n                $(id).find('span.ditto').text(data.text);\r\n                console.log(id);\r\n                (typeof(data.response) === 'undefined') ? $(id).find('.likes').text('0'): $(id).find('.likes').text(sezzwhoApp.mainInits.countFormat(data.response));\r\n\r\n                $(id).find('.fa.ditto').addClass('fa-thumbs-o-up').removeClass('fa-thumbs-up'); \r\n            } else {\r\n\t\t\t\t//$(id).find('.ditto-love').show('slow');\r\n\t\t\t\t//setTimeout(function(){ $(id).find('.ditto-love').hide('slow'); }, 3000);\r\n                $(id).find('span.ditto').text(data.text);\r\n                (typeof(data.response) === 'undefined') ? $(id).find('.likes').text('0'): $(id).find('.likes').text(sezzwhoApp.mainInits.countFormat(data.response));\r\n                $(id).find('.fa.ditto').addClass('fa-thumbs-up').removeClass('fa-thumbs-o-up'); \r\n            }\r\n            console.log(data);\r\n        });\r\n\r\n\r\n    },\r\n    referActivity: function(arg) {\r\n        //alert(arg);\r\n        //sezzwhoApp.popup('.picker-refer');\r\n        sezzwhoApp.referId = arg;\r\n\r\n        // Load about page:\r\n        mainView.router.load({\r\n            url: 'refer.html',\r\n            force: true\r\n        });\r\n        // Initialize search bar and refer button\r\n        setTimeout(function() {\r\n            sezzwhoApp.searchs.searchuser();\r\n            sezzwhoApp.commonFunc.init();\r\n        }, 1000);\r\n    },\r\n    postRefer: function() {\r\n\r\n        var options = {\r\n            'key': sezzwhoApp.jsonpcb,\r\n            'cookie': sezzwhoApp.cookie,\r\n            'refer': $(\"#autocomplete-user .item-after\").text(),\r\n            'activity_id': sezzwhoApp.referId\r\n        };\r\n        sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.get_refer_user_count, options, \"refer\");\r\n        //End function\r\n    },\r\n    displayReferResult: function(response) {\r\n        var el = $(\".activity-\" + sezzwhoApp.referId);\r\n        el.find(\".refer\").text(sezzwhoApp.mainInits.countFormat(response.count));\r\n\t\tif(response.notification_status == true){\r\n\t\t\tmyApp.addNotification({\r\n                title: 'Refer',\r\n\t\t\t\thold:7000,\r\n                subtitle: '',\r\n                message: 'Sorry, you already refered him/her',\r\n                media: '<i class=\"fa fa-info-circle\"></i>'\r\n            });\r\n\t\t}\r\n        mainView.router.back();\r\n        //End function\r\n    },\r\n    deletePost: function(id, aID) {\r\n        if (id == sezzwhoApp.userloginInfo.user.id) {\r\n            var options = {\r\n                'key': sezzwhoApp.jsonpcb,\r\n                'cookie': sezzwhoApp.cookie,\r\n                'activity_id': aID\r\n            };\r\n            sezzwhoApp.deleteActivity = aID;\r\n            sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.activities_delete_activity, options, \"activities_edit_delete_activity\");\r\n\r\n        } else {\r\n            myApp.addNotification({\r\n                title: 'Un-authorized',\r\n\t\t\t\thold:7000,\r\n                subtitle: '',\r\n                message: 'Sorry, you are not authorized to delete this video',\r\n                media: '<i class=\"fa fa-info-circle\"></i>'\r\n            });\r\n        }\r\n    },\r\n    editPost: function(id, aID) {\r\n        if (id == sezzwhoApp.userloginInfo.user.id) {\r\n            sezzwhoApp.editID = aID;\r\n            requirejs([\"build/editvideo/editvideo\"], function(video) {\r\n                video.initEdit();\r\n            });\r\n            myApp.popup('.popup-re-record');\r\n        } else {\r\n            myApp.addNotification({\r\n                title: 'Un-authorized',\r\n                subtitle: '',\r\n                message: 'Sorry, you are not authorized to edit this video',\r\n                media: '<i class=\"fa fa-info-circle\"></i>'\r\n            });\r\n        }\r\n    },\r\n    displayEditDeleteMessage: function(response) {\r\n        var el = \"#activity-\" + sezzwhoApp.deleteActivity + \", #popular-\" + sezzwhoApp.deleteActivity;\r\n        if (response.status === \"ok\") {\r\n            $$(el).remove();\r\n        }\r\n    },\r\n    followingFollower: function(userID) {\r\n        var options = {\r\n\r\n            'key': sezzwhoApp.jsonpcb,\r\n            'cookie': sezzwhoApp.cookie,\r\n            'user_id': userID\r\n        };\r\n        sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.following_follower, options, \"follower\");\r\n\r\n    },\r\n    displayCountFollower: function(response) {\r\n        sezzwhoApp.follower = response.follower;\r\n        sezzwhoApp.following = response.following;\r\n        sezzwhoApp.is_follow = response.check;\r\n    },\r\n    guesterFunc: function() {\r\n\r\n      /*  requirejs([\"js/hammer/hammer\"], function(hammer) {\r\n            var myElement = document.getElementById('record-slidedown');\r\n\r\n            // create a simple instance\r\n            // by default, it only adds horizontal recognizers\r\n            var mc = new Hammer(myElement);\r\n            mc.add(new Hammer.Pan({\r\n                direction: Hammer.DIRECTION_ALL,\r\n                threshold: 200\r\n            }));\r\n            // let the pan gesture support all directions.\r\n            // this will block the vertical scrolling on a touch-device while on the element\r\n            mc.get('pan').set({\r\n                direction: Hammer.DIRECTION_ALL\r\n            });\r\n\r\n            // listen to events...\r\n            mc.on(\"panleft panright panup pandown tap press\", function(ev) {\r\n                //\tmyElement.textContent = ev.type +\" gesture detected.\";\r\n                if (ev.type === 'pandown' && myElement.getAttribute('class') === \"popup popup-record modal-in\") {\r\n                    myApp.closeModal('.popup-record')\r\n                }\r\n\r\n            });\r\n\r\n        }); */\r\n    },\r\n\tlostSezzwhoPassword : function(){\r\n\t\t\r\n\t\tvar url =\"http://sezzwhodev.wowfactormedia.ca/wp-login.php?action=lostpassword\";\r\n\t\tvar options ={\r\n\t\t  user_login : $(\"#user_login\").val()\r\n\t\t}\r\n\t     $.post(url,options ,function(response){\r\n\t\t if(jQuery(response).find('#login_error').length == 1){\r\n\t\t\t//$(\".sezzwho-password-error\").html(''); \t\r\n\t\t    myApp.addNotification({\r\n\t\t\t\t\ttitle: 'Error',\r\n\t\t\t\t\thold: 5000,\r\n\t\t\t\t\tmessage: '<span class=\"color-red\"><strong>ERROR</strong>: Enter a username or email address.</span>',\r\n\t\t\t\t\tmedia: '<img width=\"44\" height=\"44\" style=\"border-radius:100%\" src=\"http://lorempixel.com/output/people-q-c-100-100-9.jpg\">'\r\n    \t\t});\r\n\t\t}\r\n\t\telse{\r\n\t\t\t\tmyApp.addNotification({\r\n\t\t\t\t\ttitle: 'Successful',\r\n\t\t\t\t\thold : 5000,\r\n\t\t\t\t\tsubtitle: '',\r\n\t\t\t\t\tmessage: '<span class=\"color-lighgreen\">Check your email for the confirmation link.</span>',\r\n\t\t\t\t\tmedia: '<img width=\"44\" height=\"44\" style=\"border-radius:100%\" src=\"http://lorempixel.com/output/people-q-c-100-100-9.jpg\">'\r\n    \t\t\t});  \r\n\t\t\t }\r\n\t\t });\r\n\t\r\n\t},\r\n    activitiesCount: function(userid) {\r\n\r\n        var options = {\r\n            'key': sezzwhoApp.jsonpcb,\r\n            'user_id': userid,\r\n            'cookie': sezzwhoApp.cookie,\r\n            'type': \"activity_update,Member_review\",\r\n            'comments': true,\r\n            'limit': 10000\r\n        };\r\n        sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.following, options, \"activityCount\");\r\n\r\n    },\r\n    displayCountActivity: function(response) {\r\n        (typeof(response.error) !== 'undefined') ? sezzwhoApp.activityCount = 0: sezzwhoApp.activityCount = response.activities.length;\r\n    },\r\n    displayCountNotification: function(response) {\r\n        var el = $('i.fa.fa-flag span');\r\n        if (response.count == 0) {\r\n            var html = '<div class=\"none-comment\"><i class=\"fa fa-exclamation-triangle fa-5x\"></i><p>No New Notifications</p></div>';\r\n            $(\".notification-template\").html(html);\r\n            el.text(response.count);\r\n        } else {\r\n            el.text(response.count);\r\n        }\r\n    },\r\n    animateValue: function(id, start, end, duration) {\r\n        var range = end - start;\r\n        var current = start;\r\n        var increment = end > start ? 1 : -1;\r\n        var stepTime = Math.abs(Math.floor(duration / range));\r\n        var obj = document.getElementById(id);\r\n        var timer = setInterval(function() {\r\n            current += increment;\r\n            obj.innerHTML = current;\r\n            if (current == end) {\r\n                clearInterval(timer);\r\n            }\r\n        }, stepTime);\r\n    },\r\n    init_action_menu: function() {\r\n        var el, activity_id, user_id,items, arr=[];\r\n        el = $$(this);\r\n        sezzwhoApp.actionMenu = [];\r\n\t\tsezzwhoApp.actionMenu.activity_id = el.attr('data-activityid');\r\n        sezzwhoApp.actionMenu.user_id = el.attr(\"data-userid\");\r\n\t\titems = el.attr('data-items');\r\n\t\tarr = items;\r\n\t\t//console.log(items);\r\n\t\t//console.log(arr.action);\r\n\t\t//strinItem =JSON.stringify(items);\r\n\t\tparseItem = JSON.parse(items);\r\n\t\t//console.log(strinItem.action);\r\n\t\tconsole.log(parseItem.action);\r\n\r\n        //- Two groups\r\n        var buttons1 = [{\r\n            text: 'Sezzwho',\r\n            label: true\r\n        }, {\r\n            text: '<i class=\"fa fa-minus-square-o\"></i> Delete',\r\n            bold: true,\r\n            color: 'red',\r\n            onClick: function() {\r\n                sezzwhoApp.commonFunc.deletePost(user_id, activity_id);\r\n            }\r\n        }, /*{\r\n            text: '<i class=\"fa fa-share-square-o\"></i> Refer',\r\n            bold: true,\r\n            color: 'indigo',\r\n            onClick: function() {\r\n                sezzwhoApp.commonFunc.referActivity(activity_id);\r\n            }\r\n        }, */{\r\n            text: '<i class=\"fa fa-pencil-square-o\"></i> Edit',\r\n            bold: true,\r\n            color: 'lightgreen',\r\n            onClick: function() {\r\n                sezzwhoApp.commonFunc.editPost(user_id, activity_id);\r\n\r\n            }\r\n        }, {\r\n            text: '<i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Report',\r\n            bold: true,\r\n            color: 'orange',\r\n            onClick: function() {\r\n                cordova.plugins.email.isAvailable(\r\n                    function(isAvailable) {\r\n                        alert('Service is not available'); //unless isAvailable; \r\n                    }\r\n\t\t\t\t\t\r\n                );\r\n\r\n                // Add app alias \r\n                cordova.plugins.email.addAlias('gmail', 'com.google.android.gm');\r\n\r\n                // Specify app by name or alias \r\n                cordova.plugins.email.open({\r\n                    app: 'gmail',\r\n                    subject: 'Sent from Gmail'\r\n                });\r\n            }\r\n        }];\r\n        var buttons2 = [{\r\n            text: 'Cancel',\r\n            color: 'red'\r\n        }];\r\n\t\tvar buttons3 = [{\r\n\t\t\t\t\t data : parseItem,\r\n\t\t\t\t\t items : true,\r\n\t\t\t\t\t loginUser: sezzwhoApp.userloginInfo.user.id\r\n\t\t\t\t\t}];\r\n        var groups = [buttons1, buttons2, buttons3];\r\n        myApp.actions(groups);\r\n\r\n        //End Function\r\n    },\r\n\tactionButtons : function(type){\r\n\t\t\r\n\t   if(type ===\"share\"){\r\n\t   \t\tmyApp.closeModal();\r\n\t\t\tsezzwhoApp.commonFunc.shareWidget();\r\n\t   }\r\n\t   else if(type ===\"close\"){\r\n\t\tmyApp.closeModal();\r\n\t   }else if(type===\"edit\"){\r\n         \tmyApp.closeModal();\r\n\t\t   \tsezzwhoApp.commonFunc.editPost(sezzwhoApp.actionMenu.user_id, sezzwhoApp.actionMenu.activity_id);\r\n\t   }\r\n\t   else if(type===\"delete\"){\r\n        \tmyApp.closeModal();\r\n\t\t   \tsezzwhoApp.commonFunc.deletePost(sezzwhoApp.actionMenu.user_id, sezzwhoApp.actionMenu.activity_id);\r\n\t   }\r\n\t   else if(type===\"report\"){\r\n\t\t   sezzwhoApp.addNotification({\r\n\t\t\t hold:5000,\r\n        \ttitle: 'Report',\r\n        \tmessage: 'Thanks, We will get back to you soon!'\r\n    \t\t});\r\n\t    sezzwhoApp.commonFunc.actionButtons('close');\r\n\t   }\r\n\t   else if($(type).attr(\"data-type\")===\"follow\"){\r\n\t                     var e = type;\r\n        \t\t\t \t\tvar ajaxUrl = sezzwhoApp.url + sezzwhoApp.sezzwhoAction.add_follow_button;\r\n\t\t\t\t\t\t\tvar options = {\r\n\t\t\t\t\t\t\t\t'key': sezzwhoApp.jsonpcb,\r\n\t\t\t\t\t\t\t\t'user_id': $(e).attr('data-id'),\r\n\t\t\t\t\t\t\t\t'cookie': sezzwhoApp.cookie,\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tvar that = e;\r\n\t\t\t\t\t\t\tconsole.log($(e).attr('data-id'));\r\n\t\t\t\t\t\t\tif ($(e).find('span').attr('class') === 'startfollow active-state' || $(e).find('span').attr('class') === 'startfollow') {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t   $(e).find('span i').attr('class','fa fa-spinner fa-spin');\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t$.get(ajaxUrl, options, function(res) {\r\n\t\t\t\t\t\t\t\t\tif (res.response == true) {\r\n\t\t\t\t\t\t\t\t\t\t$(that).find('span').html('<i class=\"fa fa-user-times\"></i> Following');\r\n\t\t\t\t\t\t\t\t\t\t$(that).find('span').addClass('stopfollow').removeClass('startfollow');\r\n\t\t\t\t\t\t\t\t\t\tmyApp.addNotification({\r\n\t\t\t\t\t\t\t\t\t\t\thold:5000,\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'Follow',\r\n\t\t\t\t\t\t\t\t\t\t\tmessage: 'You are following',\r\n\t\t\t\t\t\t\t\t\t\t\tmedia: '<i class=\"icon icon-f7\"></i>'\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t$(this).find('span i').attr('class','fa fa-spinner fa-spin');\r\n\t\t\t\t\t\t\t\toptions.delete = true;\r\n\t\t\t\t\t\t\t\t$.get(ajaxUrl, options, function(res) {\r\n\t\t\t\t\t\t\t\t\tif (res.response == false) {\r\n\t\t\t\t\t\t\t\t\t\t$(that).find('span').html('<i class=\"fa fa-user-plus\"></i> follow');\r\n\t\t\t\t\t\t\t\t\t\t$(that).find('span').addClass('startfollow').removeClass('stopfollow');\r\n\t\t\t\t\t\t\t\t\t\tmyApp.addNotification({\r\n\t\t\t\t\t\t\t\t\t\t\thold:5000,\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'Following',\r\n\t\t\t\t\t\t\t\t\t\t\tmessage: 'You are un following',\r\n\t\t\t\t\t\t\t\t\t\t\tmedia: '<i class=\"icon icon-f7\"></i>'\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t   }\r\n\t},\r\n\tturnOnPost: function(){\r\n       $('#auto-post-business').hide();\r\n\t\t$('#auto-aw-whats-new-submit, #auto-add-business').show();\r\n\t},\r\n\tswitchPostUpdate:function(e){\r\n\t/*\r\n\t\tif($(\".auto-post input\").prop(\"checked\")){\r\n\t\t\t$('#aw-whats-new-submit, #add-business').show();\r\n\t\t\t$('#auto-aw-whats-new-submit').hide();\r\n\t\t\tsezzwhoApp.autoWhatsNew = false;\r\n\t\t}else {\r\n\t\t\t$('#aw-whats-new-submit, #add-business').hide();\r\n\t\t\t$('#auto-aw-whats-new-submit').show();\r\n\t\t  \t} */\r\n\t},\r\n    blindEvent: function() {\r\n        var bindings = [{\r\n            element: '.share-button',\r\n            event: 'click',\r\n            handler: this.shareWidget\r\n        }, {\r\n            element: '.share-button-comment',\r\n            event: 'click',\r\n            handler: this.shareCommentWidget\r\n        },\r\n\t\t{\r\n            element: '.action-menu',\r\n            event: 'click',\r\n            handler: this.init_action_menu\r\n        }, {\r\n            element: '.play-video',\r\n            event: 'click',\r\n            handler: this.videoPlayer\r\n        }, {\r\n            element: '.activity-like',\r\n            event: 'click',\r\n            handler: this.activity_like\r\n        }, {\r\n            element: '#refer-user',\r\n            event: 'click',\r\n            handler: this.postRefer\r\n        },{\r\n          elemet:\"#wp-submit\",\r\n\t\t  event : 'click',\r\n\t\t  handler: this.lostPassword\t\t\r\n\t\t},{\r\n\t\t element:\".open-popup-record\",\r\n\t\t event: 'click',\r\n\t\t handler: this.turnOnPost\r\n\t\t},\r\n\t\t{\r\n\t\t element:\".auto-post\",\r\n\t\t event:'click',\r\n\t\t handler:this.switchPostUpdate\r\n\t\t}];\r\n        sezzwhoApp.mainInits.bindEvents(bindings);\r\n\r\n    }\r\n\r\n\r\n};\r\n\r\nsezzwhoApp.commonFunc = commonFunc;;var loadmore = false;\r\nvar feeds = {\r\n\r\n    init: function(userid) {\r\n        this.userProfileHeader(userid);\r\n        //console.log(\"profile\");\r\n        this.bindEvent();\r\n\t\tsezzwhoApp.checkPersonalRefresh= true;\r\n    },\r\n    userProfileHeader: function(userid) {\r\n        var items, bio, output;\r\n        var option = {\r\n            'key': sezzwhoApp.jsonpcb,\r\n            'user_id': userid,\r\n            'cookie': sezzwhoApp.cookie,\r\n            'field': 'Bio,Website,Address'\r\n        };\r\n        \r\n        \r\n\t\tvar p = new Promise(function(resolve, reject) {\r\n\t\tresolve(sezzwhoApp.commonFunc.followingFollower(sezzwhoApp.userloginInfo.user.id));\r\n\t\t});\r\n\t\tp.then(function(){\r\n\t\t\tsezzwhoApp.commonFunc.activitiesCount(sezzwhoApp.userloginInfo.user.id);\r\n\t\t\t}).then(function(){\r\n\t\t\t\tsezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.xprofile, option, \"profile\");\r\n\t\t\t\t});\r\n        sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.notifications_unread_count, option, \"notificationCount\");\r\n      \r\n        this.getFeedActivities();\r\n    },\r\n    getPersonalFeed: function(response) {\r\n      \tvar  bio = response.Bio;\r\n\t\tvar  website= response.Website;\r\n\t\tvar address = response.Address,\r\n\t    \r\n            item = {\r\n                'avatar': sezzwhoApp.mainInits.addhttp(sezzwhoApp.userloginInfo.user.avatar),\r\n                'bio': bio.substring(0, 122),\r\n                'id': sezzwhoApp.userloginInfo.user.id,\r\n                'username': sezzwhoApp.userloginInfo.user.username,\r\n                'follower': response.followers,\r\n                'following': response.following,\r\n                'post_count': response.activityCount,\r\n                'is_follow': response.is_follow,\r\n\t\t\t\t'address'\t: address,\r\n\t\t\t\t'website': sezzwhoApp.mainInits.addhttp(website),\r\n\t\t\t\t'follow' : true\r\n            };\r\n           var output = sezzwhoApp.mainInits.renderTpl(userHeaderTemplate, item);\r\n\r\n            $(\".user-profile-header\").html(output);\r\n      \r\n       \r\n\t    //End Fucntion \r\n    },\r\n    getFeedActivities: function() {\r\n\r\n        var option = {\r\n            'key': sezzwhoApp.jsonpcb,\r\n            'user_id': sezzwhoApp.userloginInfo.user.id,\r\n            'cookie': sezzwhoApp.cookie,\r\n            'type': \"activity_update,Member_review\",\r\n            'comments': true\r\n        };\r\n        sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.following, option, \"personalFeed\");\r\n        //End Function\r\n    },\r\n    activitiesFeed: function(response,type) {\r\n             var items = [],\r\n                    item = [],\r\n                    text = [],\r\n\t\t\t\t\ttitle=\"\",\r\n\t\t\t\t\thtml = '<div class=\"none-comment\"><i class=\"fa fa-newspaper-o  fa-5x\"></i><p>No Activities</p></div>';\r\n\t\t\t\t\t//sezzwhoApp.activityFeedData.has_more_items=false;\r\n\t\t\tif (response.status !== \"error\") {\r\n               \r\n                for (var i = 0; i < response.activities.length; i++) {\r\n                    text = sezzwhoApp.mainInits.getsezzwhoContents(response.activities[i].content);\r\n                    title = text.title;\r\n\t\t\t\t\ttitle = title.replace(/\\\\/g, ''); \r\n                    sezzwhoApp.activityFeedData = response;\r\n                    // console.log(text);\r\n                    item[i] = {\r\n                        nickname: response.activities[i].user[0].display_name,\r\n                        avatar: sezzwhoApp.mainInits.addhttp(response.activities[i].user[0].avatar),\r\n                        user_id: response.activities[i].user[0].user_id,\r\n                        time: response.activities[i].time_since,\r\n                        title: title,\r\n                        hashtag: text.hashtag,\r\n                        ziggeocode: text.ziggeoCode,\r\n                        type: ((response.activities[i].type == \"Member_review\" || response.activities[i].type == \"activity_update\") ? true : false),\r\n                        commentLenght: (typeof(response.activities[i].comments) != \"undefined\") ? response.activities[i].comments.length : 0,\r\n                        comments: (typeof(response.activities[i].comments) != \"undefined\") ? true : false,\r\n                        page: response.page,\r\n                        id: response.activities[i].activity_id,\r\n                        action: response.activities[i].action,\r\n                        name: \"personal\",\r\n                        star: response.activities[i].star,\r\n                        likes_count: (typeof(response.activities[i].likes_count) === \"string\") ? 0 : Object.keys(response.activities[i].likes_count).length,\r\n                        like_button: response.activities[i].likes_button,\r\n                        refer_count: response.activities[i].refer_count,\r\n                        web_link: sezzwhoApp.mainInits.matchUrl(response.activities[i].web_link),\r\n\t\t\t\t\t\tlocation: (response.activities[i].location === true)? sezzwhoApp.mainInits.mapUrl(response.activities[i].address)  : false ,\r\n\t\t\t\t\t\tshare_count: response.activities[i].share_count,\r\n\t\t\t\t\t\tis_follow : response.activities[i].followCheck,\r\n\t\t\t\t\t\taccount_type: response.activities[i].user[0].account_type\r\n                    };\r\n\r\n                } // End for loop\r\n                items.push({\r\n                    \"item\": item\r\n                });\r\n                //console.log(JSON.stringify(items));\r\n\r\n                var output = sezzwhoApp.mainInits.renderTpl(activityTemplate, items[0]);\r\n\t\t\t\tif(type == true)\r\n\t\t\t\t $('.presonal-content').append(output);\r\n\t\t\t\telse\r\n                $('.presonal-content').html(output);\r\n                this.bindEvent();\r\n                myApp.hideIndicator();\r\n                sezzwhoApp.commonFunc.init(); // Blind share event button ;   \r\n\r\n            } else {\r\n                $('.presonal-content').html(html);\r\n                sezzwhoApp.activityFeedData = [];\r\n                sezzwhoApp.activityFeedData.has_more_items = false;\r\n                myApp.detachInfiniteScroll($$('.infinite-scroll-personal'));\r\n                // Remove preloader\r\n                $$('.infinite-scroll-preloader-personal-page').remove();\r\n            }\r\n\r\n        } //End Function\r\n        ,\r\n    loadmoreFeedContent: function() {\r\n\r\n        // Loading flag\r\n        var loading = false;\r\n\r\n        // Last loaded index\r\n\r\n        // Max items to load\r\n        var maxItems = sezzwhoApp.activityFeedData.has_more_items;\r\n\r\n        // Append items per load\r\n        var itemsPerLoad = 10;\r\n        var page = 2;\r\n        loadmore = true;\r\n\r\n        // Attach 'infinite' event handler\r\n        $$('.infinite-scroll-personal').on('infinite', function() {\r\n\r\n            // Exit, if loading in progress\r\n            if (loading) return;\r\n\r\n            // Set loading flag\r\n            loading = true;\r\n\r\n            // Emulate 1s loading\r\n            setTimeout(function() {\r\n                // Reset loading flag\r\n                loading = false;\r\n                maxItems = sezzwhoApp.activityFeedData.has_more_items;\r\n                if (maxItems == false) {\r\n                    // Nothing more to load, detach infinite scroll events to prevent unnecessary loadings\r\n                    myApp.detachInfiniteScroll($$('.infinite-scroll-personal'));\r\n                    // Remove preloader\r\n                    $$('.infinite-scroll-preloader-personal-page').remove();\r\n                    return;\r\n                }\r\n                 // Generate new items HTML\r\n                var html = '';\r\n\r\n                var option = {\r\n                    'key': sezzwhoApp.jsonpcb,\r\n                    'user_id': sezzwhoApp.userloginInfo.user.id,\r\n                    'cookie': sezzwhoApp.cookie,\r\n                    'page': page,\r\n                    'per_page': itemsPerLoad\r\n\r\n                };\r\n                sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.following, option, \"loadmoreFeedActivity\");\r\n\r\n\r\n                //console.log(sezzwhoApp.activityFeedData.has_more_items);\r\n                // Append new items\r\n                //$$('.load-result').append(html);\r\n\r\n                // Update last loaded index\r\n                if (sezzwhoApp.activityFeedData.has_more_items == true) {\r\n                    page += 1;\r\n                    maxItems = true;\r\n                } else {\r\n                    maxItems = false;\r\n                }\r\n\r\n\r\n            }, 1000);\r\n        });\r\n\r\n\r\n\r\n        //End Function\r\n    },\r\n    post_update: function(contentData, rating, weblink) {\r\n        var options = {\r\n            'content': contentData,\r\n            'key': sezzwhoApp.jsonpcb,\r\n            'cookie': sezzwhoApp.cookie,\r\n            'rating': rating,\r\n            'link': weblink\r\n\r\n        };\r\n\r\n        sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.activities_post_update, options, \"postUpdate\");\r\n\r\n\r\n\r\n        //End Function\r\n    },\r\n    response_post_update: function(response) {\r\n\t\tconsole.log(response);\r\n        if (response.status == \"ok\") {\r\n            myApp.addNotification({\r\n                title: 'Framework7',\r\n                subtitle: 'Post Updated',\r\n                message: 'Post updated successfully<a href=\"#\"><span class=\"color-indigo\"> SHARE ME</span></a>',\r\n                media: '<i class=\"icon icon-f7\"></i>',\r\n\t\t\t\thold : 7000, \r\n\t\t\t\tbutton:{\r\n\t\t\t\t  text: 'close',\r\n\t\t\t\t  color: 'red',\r\n\t\t\t\t  close: true\r\n\t\t\t\t},\r\n\t\t\t\tonClick: function() {\r\n\t\t\t\t\tvar url = sezzwhoApp.baseUrl+'/members/'+sezzwhoApp.userloginInfo.user.username+'/activity/'+response.activity_id; \r\n\t\t\t\t  window.plugins.socialsharing.share('SEZZWHO is aimed at reviewing the products and services you love.', null,null, url );\r\n\t\t\t\t}\r\n            });\r\n            this.getFeedActivities(); // Update personal feed \r\n\t\t\tsezzwhoApp.homeModules.refreshActivities(); // refresh following page\r\n       \t    sezzwhoApp.popularVideos.getPopularVideo(); // refresh popular page\r\n            //Rest all data\r\n            sezzwhoApp.addbusiness.closePopup();\r\n        } else {\r\n            myApp.addNotification({\r\n                title: 'Framework7',\r\n                subtitle: 'Notification subtitle',\r\n                message: response.error,\r\n                media: '<i class=\"icon icon-f7\"></i>'\r\n            });\r\n        }\r\n\r\n        //End Function\r\n    },\r\n    recordVideo: function(type) {\r\n        sezzwhoApp.recordingType = type;\r\n        captureVideo();\r\n        //end function\r\n    },\r\n    initPostData: function() {\r\n\r\n        var contentData,\r\n            videotitle = \"\",\r\n            videocontent = \"\",\r\n            rating = \"\",\r\n            weblink = \"\",\r\n            hashtag = \"\";\r\n\t\t($$(\"#video-title\").val()==\"\") ? $(\"#video-title\").addClass('danger-alert'):$(\"#video-title\").removeClass('danger-alert');\r\n        ($(\"#autocomplete-user\").val()==\"\") ? $(\"#autocomplete-user\").addClass('danger-alert'):$(\"#autocomplete-user\").removeClass('danger-alert');\r\n\t\tvideotitle = '<div class=\"videotitle\">' + $$(\"#video-title\").val() + '</div>';\r\n        rating = $$(\"#rating\").val();\r\n\t\tif(rating < 3) {\r\n\t\t\tmyApp.alert(\"please select more than 3 star\"); return false; }\r\n\t\telse { } \r\n        videocontent = $$(\"#videocontent\").val();\r\n        hashtag = $(\"#autocomplete-user\").val().replace(/[\"~!$%^&*\\(\\)_+=`{}\\[\\]\\|\\\\:;'<>,.\\/?\"\\-]+/g, '').match(/(?:\\#(\\w+))|(?:\\@(\\w+))/g).toString().replace(/,/g, ' ');\r\n        hashtag = '<div class=\"hashtags\">' + hashtag + '</div>';\r\n\r\n        contentData = videotitle + videocontent + hashtag;\r\n        weblink = $$(\"#autocomplete-website\").val();\r\n        if (contentData, rating) {\r\n            sezzwhoApp.personalFeeds.post_update(contentData, rating, weblink);\r\n            //alert(JSON.stringify(storedData));\r\n        } else {\r\n            alert('Opps, Please give a rating / oh, do not  forget a hashtag');\r\n        }\r\n    },\r\n\t initAutoPostData: function() {\r\n\r\n        var contentData,\r\n            videotitle \t\t= \"\",\r\n            videocontent \t= \"\",\r\n            rating \t\t\t= \"\",\r\n            weblink \t\t= \"\",\r\n            hashtag \t\t= \"\";\r\n\t\t\tsezzwhoApp.postButton \t\t\t= true,\r\n\t\t\tsezzwhoApp.addLocationButton \t= false,\r\n\t\t\tsezzwhoApp.addReviewButton \t\t= false;\r\n\t\t($$(\"#video-title\").val()==\"\") ? $(\"#video-title\").addClass('danger-alert'):$(\"#video-title\").removeClass('danger-alert');\r\n        ($(\"#autocomplete-user\").val()==\"\") ? $(\"#autocomplete-user\").addClass('danger-alert'):$(\"#autocomplete-user\").removeClass('danger-alert');\r\n\t\tvideotitle = '<div class=\"videotitle\">' + $$(\"#video-title\").val() + '</div>';\r\n        rating = $$(\"#rating\").val();\r\n\t\tif(rating < 3) {\r\n\t\t\tmyApp.alert(\"please select more than 3 star!\"); return false; }\r\n\t\telse { } \r\n\t\thashtag =sezzwhoApp.mainInits.getHashTags( $(\"#autocomplete-user\").val());\r\n\t\tif(hashtag ==\"\"){\r\n\t\t    myApp.alert(\"please enter hash sign before word!\");\r\n\t\t\treturn false;\r\n\t\t}else{\r\n\t\t hashtag = $(\"#autocomplete-user\").val().replace(/[\"~!$%^&*\\(\\)_+=`{}\\[\\]\\|\\\\:;'<>,.\\/?\"\\-]+/g, '').match(/(?:\\#(\\w+))|(?:\\@(\\w+))/g).toString().replace(/,/g, ' ');\r\n        hashtag = '<div class=\"hashtags\">' + hashtag + '</div>';\r\n\t\t}\r\n\t\t\r\n\t\tif(($(\"#video-title\").val()==\"\" ||  hashtag ==\"\" ||  rating < 3 ) || !(sezzwhoApp.isUploading)){\r\n\t\t  \r\n\t\t   sezzwhoApp.autoWhatsNew = false;\r\n    \t  \r\n\t\t }\r\n\t\t else if(sezzwhoApp.isUploaded)\r\n\t\t { \r\n \t\t\t\t sezzwhoApp.autoWhatsNew = false;\r\n\t\t\t\t sezzwhoApp.personalFeeds.initPostData();\t\r\n\t\t\r\n\t\t }else{\r\n\t\t      sezzwhoApp.autoWhatsNew = true;\r\n\t\t\t  if ($$('.popup-record.modal-in').length > 0) { \r\n\t    \t\t\tmyApp.closeModal(\".popup-record\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t \t}\r\n\t\t\t\r\n\t\t\tmyApp.addNotification({\r\n        \t\ttitle: 'Uploading...',\r\n        \t\tmessage: 'Turn Stay, uploading....',\r\n\t\t\t\thold:3000\r\n    \t\t});\r\n\t\t    \r\n\t\t }\r\n\t },\r\n    bindEvent: function() {\r\n        var bindings = [{\r\n            element: '#aw-whats-new-submit',\r\n            event: 'click',\r\n            handler: this.initPostData\r\n        },{\r\n\t\t\telement: '#auto-aw-whats-new-submit',\r\n            event: 'click',\r\n            handler: this.initAutoPostData\r\n        }\r\n\t\t];\r\n        sezzwhoApp.mainInits.bindEvents(bindings);\r\n    }\r\n\r\n\r\n}; //End Function\r\nsezzwhoApp.personalFeeds = feeds;;/**\r\n *            HOME JS    \r\n *            Get Following Feed \r\n *            \r\n */\r\nvar homeModule = {\r\n    init: function(query) {\r\n\r\n\r\n        mainView.showToolbar();\r\n        this.getActivities(query);\r\n        this.refreshContentFollowing();\r\n        sezzwhoApp.homeModules.blindEvent();\r\n    },\r\n    getActivities: function(query) {\r\n\r\n        var option = {\r\n            'key': sezzwhoApp.jsonpcb,\r\n            'user_id': sezzwhoApp.userloginInfo.user.id,\r\n            'cookie': sezzwhoApp.cookie,\r\n            'following': true,\r\n            'type': \"activity_update,Member_review\",\r\n            'comments': true\r\n\r\n        };\r\n        sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.following, option, \"activities\");\r\n\r\n\r\n        //End Function\r\n    },\r\n    loadmoreContent: function() {\r\n\r\n\r\n        // Loading flag\r\n        var loading = false;\r\n\r\n        // Last loaded index\r\n\r\n        // Max items to load\r\n        var maxItems = sezzwhoApp.activityData.has_more_items;\r\n\r\n        // Append items per load\r\n        var itemsPerLoad = 10;\r\n        var page = 2;\r\n        //console.log(\"step1\");\r\n\r\n        // Attach 'infinite' event handler\r\n        var el = $$('.infinite-scroll-following').on('infinite', function() {\r\n          //  console.log(\"step2\");\r\n            // Exit, if loading in progress\r\n            if (loading) return;\r\n\r\n            // Set loading flag\r\n            loading = true;\r\n\r\n            // Emulate 1s loading\r\n            setTimeout(function() {\r\n                // Reset loading flag\r\n                loading = false;\r\n                maxItems = sezzwhoApp.activityData.has_more_items;\r\n                if (maxItems == false) {\r\n                    // Nothing more to load, detach infinite scroll events to prevent unnecessary loadings\r\n                    myApp.detachInfiniteScroll($$('.infinite-scroll-following'));\r\n                   // console.log(\"step3\");\r\n                    // Remove preloader\r\n                    $$('.infinite-scroll-preloader-following').remove();\r\n                    return;\r\n                }\r\n               // console.log(\"step4\");\r\n                // Generate new items HTML\r\n                var html = '';\r\n\r\n                var option = {\r\n                    'key': sezzwhoApp.jsonpcb,\r\n                    'user_id': sezzwhoApp.userloginInfo.user.id,\r\n                    'cookie': sezzwhoApp.cookie,\r\n                    'following': true,\r\n                    'page': page,\r\n                    'per_page': itemsPerLoad,\r\n                    'type': \"activity_update,Member_review\"\r\n\r\n                };\r\n                sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.following, option, \"loadmoreActivity\");\r\n\r\n\r\n                //console.log(sezzwhoApp.activityData.has_more_items);\r\n                // Append new items\r\n                //$$('.load-result').append(html);\r\n                //console.log(page);\r\n                // Update last loaded index \r\n                if (sezzwhoApp.activityData.has_more_items == true) {\r\n                    page += 1;\r\n                    maxItems = true;\r\n                } else {\r\n                    maxItems = false;\r\n                }\r\n\r\n\r\n\r\n            }, 1000);\r\n        });\r\n\r\n\r\n        //console.log(el);\r\n\r\n\r\n        //End Function\r\n    },\r\n    refreshActivities: function() {\r\n        var options = {\r\n            'key': sezzwhoApp.jsonpcb,\r\n            'user_id': sezzwhoApp.userloginInfo.user.id,\r\n            'cookie': sezzwhoApp.cookie,\r\n            'type': \"activity_update,Member_review\",\r\n            'comments': true,\r\n\t\t\t'self_following':true,\r\n            'time': sezzwhoApp.refreshTime\r\n\r\n        };\r\n        sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.refreshed, options, \"refreshActivity\");\r\n\r\n    },\r\n    refreshContentFollowing: function() {\r\n\r\n\r\n        // Pull to refresh content\r\n        var ptrContent = $$('.pull-to-refresh-content');\r\n\r\n        // Add 'refresh' listener on it\r\n        ptrContent.on('refresh', function(e) {\r\n            // Emulate 2s loading\r\n            //$('.load-result').html(\"\");\r\n            setTimeout(function() {\r\n\r\n                var query;\r\n                sezzwhoApp.homeModules.refreshActivities();\r\n                // When loading done, we need to reset it\r\n\t\t\t\t\r\n                 \r\n\t\t\t\t sezzwhoApp.notifications.notifications_unread_count();\r\n\t\t\t\t sezzwhoApp.notifications.getNotification();\r\n                \r\n\t\t\t\tmyApp.pullToRefreshDone();\r\n            }, 2000);\r\n        });\r\n\r\n\r\n\r\n    },\r\n    refreshTimelineByClick: function() {\r\n        $$('#homeView .refresh-click').find('i').addClass('fa-spin');\r\n        setTimeout(function() {\r\n            $$('#homeView .refresh-click').find('i').removeClass('fa-spin');\r\n        }, 1500);\r\n\r\n        $$('#homeView .pull-to-refresh-content').scrollTop(0, 300);\r\n\r\n        sezzwhoApp.pullToRefreshTrigger('#homeView .pull-to-refresh-content');\r\n    },\r\n    startStopFollowing: function() {\r\n        var ajaxUrl = sezzwhoApp.url + sezzwhoApp.sezzwhoAction.add_follow_button;\r\n        var options = {\r\n            'key': sezzwhoApp.jsonpcb,\r\n            'user_id': $(this).attr('data-type'),\r\n            'cookie': sezzwhoApp.cookie,\r\n\r\n        };\r\n        var that = this;\r\n        console.log($(this).attr('data-type'));\r\n        if ($(this).find('span').attr('class') === 'startfollow active-state' || $(this).find('span').attr('class') === 'startfollow') {\r\n\r\n           $(this).find('span i').attr('class','fa fa-spinner fa-spin');\r\n\r\n            $.get(ajaxUrl, options, function(res) {\r\n                if (res.response == true) {\r\n                    $(that).find('span').html('<i class=\"fa fa-user-times\"></i> Following');\r\n                    $(that).find('span').addClass('stopfollow').removeClass('startfollow');\r\n                    myApp.addNotification({\r\n\t\t\t\t\t\thold:5000,\r\n                        title: 'Follow',\r\n                        message: 'You are following',\r\n                        media: '<i class=\"icon icon-f7\"></i>'\r\n                    });\r\n                }\r\n\r\n            });\r\n\r\n\r\n        } else {\r\n            $(this).find('span i').attr('class','fa fa-spinner fa-spin');\r\n            options.delete = true;\r\n            $.get(ajaxUrl, options, function(res) {\r\n                if (res.response == false) {\r\n                    $(that).find('span').html('<i class=\"fa fa-user-plus\"></i> follow');\r\n                    $(that).find('span').addClass('startfollow').removeClass('stopfollow');\r\n                    myApp.addNotification({\r\n\t\t\t\t\t\thold:5000,\r\n                        title: 'Following',\r\n                        message: 'You are un following',\r\n                        media: '<i class=\"icon icon-f7\"></i>'\r\n                    });\r\n\r\n                }\r\n\r\n            });\r\n        }\r\n    },\r\n    responseFollowerFollowing: function() {\r\n\r\n    },\r\n    blindEvent: function() {\r\n        var bindings = [{\r\n            element: '.follow-button',\r\n            event: 'click',\r\n            handler: this.startStopFollowing\r\n        }];\r\n        sezzwhoApp.mainInits.bindEvents(bindings);\r\n\r\n    }\r\n\r\n\r\n\r\n};\r\n\r\n\r\nsezzwhoApp.homeModules = homeModule;;\r\nvar type= \"\";\r\nvar text_id_status= \"\";\r\n\r\n// Called when capture operation is finished\r\n    //\r\n    function captureSuccess(mediaFiles) {\r\n\t\t\r\n        var i, len;\r\n        for (i = 0, len = mediaFiles.length; i < len; i += 1) {\r\n            uploadFile(mediaFiles[i]);\r\n        }\r\n    }\r\n\r\n    // Called if something bad happens.\r\n    //\r\n    function captureError(error) {\r\n        var msg = 'An error occurred during capture: ' + error.code;\r\n        navigator.notification.alert(msg, null, 'Uh oh!');\r\n    }\r\n\r\n    // A button will call this function\r\n    //\r\n    function captureVideo() {\r\n        // Launch device video recording application,\r\n        // allowing user to capture up to 2 video clips\r\n\t\t\r\n\t\tvar options = { limit: 1, \r\n\t\t\tduration: 30,\r\n\t\t\tquality : 0\r\n        };\r\n        navigator.device.capture.captureVideo(captureSuccess, captureError, options); \r\n    }\r\n\r\n    // Upload files to server\r\n    function uploadFile(mediaFile) {\r\n        var ft = new FileTransfer(),\r\n            path = mediaFile.fullPath,\r\n            name = mediaFile.name;\r\n         progressBar(ft);\t\t// call progress bar \r\n\t\t\r\n\t\t\r\n\t\tvar options      = new FileUploadOptions();\r\n       \toptions.fileName = name;\r\n   \t\toptions.mimeType = 'video/mp4';\r\n\t\t\r\n\t\t/*\r\n\t\tZiggeoSdk = require(\"build/ziggeo/index.js\")\r\n\t              \tZiggeoSdk.init('ddd4366d3fc0baef95c333fa575c53f9', '31a91c9483069a25e8abcd4d46dc8e47', '1bbe8f5b02d9e623889ca4635af76443'); console.log(ZiggeoSdk); \r\n\t\t\t\t  \tZiggeoSdk.Videos.create({\r\n\t\t\t\t\tfile: mediaFile.name\r\n\t\t\t\t\t});\r\n\t\t\t\r\n      */\r\n\t   ft.upload(path,\r\n            \"http://sezzwho.com/wp-content/plugins/mobileAppSezzwho/upload.php\",\r\n            function(result) {\r\n\t\t\t\t sezzwhoApp.progressID.html(\"Completed\");\r\n                console.log('Upload success: ' + result.responseCode);\r\n                var obj= JSON.parse(result.response);\r\n\t\t\r\n\t\t\t\tvideo_code = '<ziggeo ziggeo-width=\"320\" ziggeo-height=\"240\" ziggeo-responsive=\"true\" ziggeo-video=\"' + obj.ziggeo[\"token\"] + '\"></ziggeo>';\t\r\n\t\t\t\tvar el ={};\r\n\t\t \r\n\t\t\t\tel[0] = $$(\"#videocontent\");\r\n\t\t     \tif(sezzwhoApp.recordingType === \"whats-new\"){\r\n\t\t\t\tel[1] =  $(\"#aw-whats-new-submit,#add-business,#post-business\");\r\n\t\t\t\tel[1].prop(\"disabled\",false);\r\n\t\t\t\t}else if(sezzwhoApp.recordingType === \"comments\"){\r\n\t\t\t\tel[1] = $$(\"#post-comment\");\r\n\t\t\t\tel[1].prop(\"disabled\",false);\r\n\t\t\t\t}else if(sezzwhoApp.recordingType === \"whats-record\"){\r\n\t\t\t\t var src = \"http://embed.ziggeo.com/v1/applications/ddd4366d3fc0baef95c333fa575c53f9/videos/\" + obj.ziggeo[\"token\"] + \"/video.mp4\";\r\n\t\t\t\t var img = \"http://embed.ziggeo.com/v1/applications/ddd4366d3fc0baef95c333fa575c53f9/videos/\" +\tobj.ziggeo[\"token\"]\t+ \"/image\";\r\n\t\t\t\t\t$(\"#re-change-image\").attr('poster', img);\r\n\t\t\t\t\t$(\"#re-change-video\").attr('src', src);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tel[2] = $$(\"#videobusiness\")\r\n\t\t\t\tel[0].val(video_code);\r\n\t\t\t\tel[2].val(obj.ziggeo[\"token\"]);\r\n\t\t\t\t\r\n\t\t    \r\n            },\r\n            function(error) {\r\n                console.log('Error uploading file ' + path + ': ' + error.code);\r\n            },\r\n            options);\r\n    }\r\n\r\n/************************* Progress Function ***********************/\r\n\r\n\r\nfunction progressBar(ft){\r\n\tvar container;\r\n\tif(sezzwhoApp.recordingType === \"whats-new\")\r\n\t sezzwhoApp.progressID = $$('.demo-progressbar-load-hide p:first-child');\r\n    else if(sezzwhoApp.recordingType === \"comments\")\r\n\tsezzwhoApp.progressID = $$('.comment-progressbar-load-hide p:first-child');\r\n\telse if (sezzwhoApp.recordingType == \"whats-record\")\r\n\tsezzwhoApp.progressID = $$('.record-progressbar-load-hide p:first-child');\r\n     \t\r\nft.onprogress = function(progressEvent) {\r\n\t\tif (progressEvent.lengthComputable) {\r\n\t\t\tvar perc = Math.floor(progressEvent.loaded / progressEvent.total * 100);\r\n\t\t\t\r\n\t\t\tmyApp.showProgressbar(sezzwhoApp.progressID,perc);\r\n\t\t\tif(perc == 99){\r\n\t\t\t\tmyApp.showProgressbar(sezzwhoApp.progressID,100);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsezzwhoApp.progressID.html(\"Completed\");\r\n\t\t}\r\n\t};\r\n\r\n}\r\nfunction getPhoto(source) {\r\n\t\r\n\t\r\nnavigator.camera.getPicture(onPhotoURISuccess, onFail, {\r\n    destinationType: destinationType.FILE_URI,\r\n    mediaType: Camera.MediaType.VIDEO,\r\n    sourceType: source\r\n});\r\n}\r\n\r\nfunction onPhotoURISuccess(imageURI) {\r\n    console.log(imageURI);\r\n}\r\n\r\nfunction onFail(message) {\r\n    console.log(message);\r\n}\r\n\r\nfunction star_rating(){\r\n\r\nvar jq = jQuery;\r\n\r\n        // Make the Read More on the already-rated box have a unique class\r\n        var arm = jq('.already-rated .activity-read-more');\r\n        jq(arm).removeClass('activity-read-more').addClass('already-rated-read-more');\r\n\r\n        jq('.star').mouseover( function() {\r\n            var num = jq(this).attr('id').substr( 4, jq(this).attr('id').length );\r\n            for ( var i=1; i<=num; i++ )\r\n                jq('#star' + i ).attr( 'src', \"images/star.png\" );\r\n        });\r\n\r\n        jq('div#review-rating').mouseout( function() {\r\n            for ( var i=1; i<=5; i++ )\r\n                jq('#star' + i ).attr( 'src', \"images/star_off.png\" );\r\n        });\r\n\r\n        jq('.star').click( function() {\r\n            var num = jq(this).attr('id').substr( 4, jq(this).attr('id').length );\r\n            for ( var i=1; i<=5; i++ )\r\n                jq('#star' + i ).attr( 'src', \"images/star_off.png\" );\r\n            for ( var i=1; i<=num; i++ )\r\n                jq('#star' + i ).attr( 'src', \"images/star.png\" );\r\n\r\n            jq('.star').unbind( 'mouseover' );\r\n            jq('div#review-rating').unbind( 'mouseout' );\r\n\r\n            jq('input#rating').attr( 'value', num );\r\n        });\r\n\r\n        \r\n\r\n        jq('#submit').click(function(){\r\n            if(jq('input#rating').val() == 0){\r\n                alert('Please Rate for This page/post !!!');\r\n                return false;\r\n            }\r\n        });\r\n\t\t\r\n\t\t\r\n\r\n};// Let's register Template7 helper so we can pass json string in links change\r\nTemplate7.registerHelper('json_stringify', function(context) {\r\n    return JSON.stringify(context);\r\n});\r\n\r\n\r\nvar allComments;\r\nvar comments = {\r\n\r\n    init: function(query) {\r\n        setTimeout(function() {\r\n            sezzwhoApp.comments.bindEvent();\r\n\t\t\tsezzwhoApp.commonFunc.blindEvent();\r\n        }, 1500);\r\n        //this.getComments(query);\r\n        console.log(query);\r\n        sezzwhoApp.comments.singlePage = true;\r\n        this.getJsonComments(query);\r\n        $$(\"#comment-id\").val(query.id);\r\n        sezzwhoApp.commentsType = [{\r\n            id: query.id,\r\n            type: query.name,\r\n            page: query.page,\r\n\t\t\tuser_id: query.user_id\r\n        }];\r\n\r\n    },\r\n    getJsonComments: function(Params) {\r\n\r\n        var option = {\r\n            'key': sezzwhoApp.jsonpcb,\r\n            'cookie': sezzwhoApp.cookie,\r\n            'type': \"activity_comment\",\r\n            'sort': 'DESC',\r\n            'primary_id': Params.id,\r\n            'secondary_id': Params.id,\r\n            'comments': false\r\n\r\n        };\r\n        sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.following, option, \"comments\");\r\n\r\n\r\n    },\r\n    displayJsonComments: function(response, bool) {\r\n        var items = [],\r\n            item = [],\r\n            count;\r\n        var el = $('.loadComments');\r\n        sezzwhoApp.commentsData = response;\r\n        if (response.status !== \"error\") {\r\n            for (var i = 0; i < response.activities.length; i++) {\r\n                   var string = response.activities[i].content,\r\n    \t\t\t\tsubstring = \"<ziggeo\",\r\n\t\t\t\t\ttext_comment= false,\r\n\t\t\t\t\ttext_content=\"\",\r\n\t\t\t\t\ttitle=\"\";\r\n\t\t\t\t(string.indexOf(substring) !== -1)? text_comment = false: text_comment = true;\r\n\t\t\t\t\r\n\t\t\t\tif(text_comment){\r\n\t\t\t\t\tconsole.log(response.activities[i].content);\r\n\t\t\t\t text_content= response.activities[i].content;\r\n\t\t\t\ttext_content= text_content.replace(/\\\\/g, '');\r\n\t\t\t\t//console.log(text_content);\r\n\t\r\n\t\t\t\t}\r\n                text = sezzwhoApp.mainInits.getsezzwhoContents(response.activities[i].content);\r\n                title = text.title;\r\n\t\t\t\ttitle = title.replace(/\\\\/g, '');\r\n\t\t\t    item[i] = {\r\n                    nickname: response.activities[i].user[0].username,\r\n                    avatar: sezzwhoApp.mainInits.addhttp(response.activities[i].user[0].avatar),\r\n                    user_id: response.activities[i].user[0].user_id,\r\n                    time: response.activities[i].time_since,\r\n                    title: title,\r\n\t\t\t\t\ttext_comment: text_comment,\r\n\t\t\t\t\ttext_content:  text_content,\r\n                    hashtag: text.hashtag,\r\n                    ziggeocode: text.ziggeoCode,\r\n                    commentLenght: (typeof(response.activities[i].children) != \"undefined\") ? response.activities[i].children : 0,\r\n                    id: response.activities[i].activity_id,\r\n                    action: response.activities[i].action,\r\n                    likes_count: (typeof(response.activities[i].likes_count) === \"string\") ? 0 : Object.keys(response.activities[i].likes_count).length,\r\n                    like_button: response.activities[i].likes_button,\r\n\t\t\t\t\taccount_type: response.activities[i].user[0].account_type,\r\n\t\t\t\t\tshare_count: response.activities[i].share_count\r\n                };\r\n\r\n            } // End for loop\r\n            items.push({\r\n                \"item\": item\r\n            });\r\n            console.log(i);\r\n            var output = sezzwhoApp.mainInits.renderTpl(commentTemplate, items[0]);\r\n            if(sezzwhoApp.post_comment){\r\n\t\t\t el.prepend(output);\r\n\t\t\t sezzwhoApp.post_comment= false;\r\n\t\t\t setTimeout(function(){ sezzwhoApp.comments.bindEvent(); },1500);\r\n\t\t\t}\r\n\t\t\telse{\r\n            el.append(output);\r\n\t\t\t setTimeout(function(){ sezzwhoApp.comments.bindEvent(); },1500);\r\n\t\t\t}\r\n\t\t    if($(\".loadComments .none-comment\").length ==1) $(\".loadComments .none-comment\").remove();\r\n\t\t\tif(response.activities.length == 1){\r\n\t\t \t\tmyApp.detachInfiniteScroll($$('.infinite-scroll-comment'));\r\n                   // Remove preloader\r\n                $$('.infinite-scroll-preloader-comment-page').remove();\t \r\n\t\t }\r\n\r\n\r\n        }else if( bool === true){\r\n\t\t $$('.infinite-scroll-preloader-comment-page').remove();\r\n\t\t}else {\r\n            $$('.infinite-scroll-preloader-comment-page').remove();\r\n            var html = '<div class=\"none-comment\"><i class=\"fa fa-comments-o fa-5x\"></i><p>No one comments</p></div>';\r\n            el.html(html);\r\n        }\r\n        sezzwhoApp.hideIndicator();\r\n\r\n\r\n    },\r\n    loadmoreContent: function() {\r\n\r\n\r\n\r\n        // Loading flag\r\n        var loading = false;\r\n\r\n        // Last loaded index\r\n\r\n        // Max items to load\r\n        var maxItems = sezzwhoApp.commentsData.has_more_items;\r\n\r\n        // Append items per load\r\n        var itemsPerLoad = 2;\r\n        var page = 2;\r\n\r\n\r\n        // Attach 'infinite' event handler\r\n        var el = $$('.infinite-scroll').on('infinite', function() {\r\n\r\n            // Exit, if loading in progress\r\n            if (loading) return;\r\n\r\n            // Set loading flag\r\n            loading = true;\r\n\r\n            // Emulate 1s loading\r\n            setTimeout(function() {\r\n                // Reset loading flag\r\n                loading = false;\r\n                maxItems = sezzwhoApp.commentsData.has_more_items;\r\n                if (maxItems == false) {\r\n                    // Nothing more to load, detach infinite scroll events to prevent unnecessary loadings\r\n                    myApp.detachInfiniteScroll($$('.infinite-scroll-comment'));\r\n\r\n                    // Remove preloader\r\n                    $$('.infinite-scroll-preloader-comment-page').remove();\r\n                    return;\r\n                }\r\n\r\n                // Generate new items HTML\r\n                var html = '';\r\n\r\n                var option = {\r\n                    'key': sezzwhoApp.jsonpcb,\r\n                    'cookie': sezzwhoApp.cookie,\r\n                    'type': \"activity_comment\",\r\n                    'sort': 'DESC',\r\n                    'primary_id': sezzwhoApp.commentsType[0].id,\r\n                    'secondary_id': sezzwhoApp.commentsType[0].id,\r\n                    'page': page,\r\n                    'per_page': itemsPerLoad,\r\n                    'comments': false\r\n\r\n                };\r\n\t\t\t\tsezzwhoApp.post_comment= false;\r\n                sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.following, option, \"loadmoreComment\");\r\n\r\n\r\n                console.log(sezzwhoApp.commentsData.has_more_items);\r\n                // Append new items\r\n                //$$('.load-result').append(html);\r\n                console.log(page);\r\n                // Update last loaded index \r\n                if (sezzwhoApp.commentsData.has_more_items == true) {\r\n                    page += 1;\r\n                    maxItems = true;\r\n                } else {\r\n                    maxItems = false;\r\n                }\r\n\r\n\r\n\r\n            }, 1000);\r\n        });\r\n\r\n\r\n\r\n\r\n        //End Function\r\n    },\r\n    getComments: function(query) {\r\n        var results = [],\r\n            text, i;\r\n        i = parseInt((query.page - 1) + query.index);\r\n        var el = $('.loadComments');\r\n\r\n        switch (query.name) {\r\n            case \"following\":\r\n                if (query.comment === \"true\") {\r\n                    results.push(sezzwhoApp.activityData.activities[i]);\r\n                    //this.displayComment(results,el);\r\n                } else {\r\n                    text = \"No Comment Yet\";\r\n                    el.html(text);\r\n                    myApp.hideIndicator();\r\n                }\r\n                break;\r\n            case \"detailpage\":\r\n\r\n                if (query.comment === \"true\") {\r\n                    results.push(sezzwhoApp.activityFeedUserDetail.activities[i]);\r\n                    //this.displayComment(results,el);\r\n                } else {\r\n                    text = \"No Comment Yet\";\r\n                    el.html(text);\r\n                    sezzwhoApp.hideIndicator();\r\n\r\n                }\r\n                break;\r\n            case \"personal\":\r\n                console.log(query.name);\r\n                if (query.comment === \"true\") {\r\n                    results.push(sezzwhoApp.activityFeedData.activities[i]);\r\n                    //this.displayComment(results,el);\r\n                } else {\r\n                    text = \"No Comment Yet\";\r\n                    el.html(text);\r\n                    sezzwhoApp.hideIndicator();\r\n                }\r\n\r\n                break;\r\n            default:\r\n                console.log(\"error\");\r\n                break;\r\n        } //End switch statement  \r\n\r\n\r\n\r\n        //End function\r\n    },\r\n    displayComment: function(results, el) {\r\n        var items = [],\r\n            item = [],\r\n            count;\r\n        results = results[0].comments;\r\n\r\n        for (var i = 0; i < results.length; i++) {\r\n           \r\n            text = sezzwhoApp.mainInits.getsezzwhoContents(results[i].content);\r\n\t\t\t\r\n            item[i] = {\r\n                nickname: results[i].display_name,\r\n                avatar: results[i].avatar,\r\n                user_id: results[i].user_id,\r\n                time: results[i].time_since,\r\n                title: text.title,\r\n                hashtag: text.hashtag,\r\n                ziggeocode: text.ziggeoCode,\r\n                //commentLenght\t: (typeof(results[i].children) != \"undefined\")? results[i].children : 0,\r\n                id: results[i].activity_id,\r\n                action: results[i].action\r\n            };\r\n\r\n        } // End for loop\r\n        items.push({\r\n            \"item\": item\r\n        });\r\n\r\n        var output = sezzwhoApp.mainInits.renderTpl(commentTemplate, items[0]);\r\n\r\n        el.html(output);\r\n\r\n        sezzwhoApp.hideIndicator();\r\n\t\r\n         \r\n\r\n        // Ene Function\r\n    },\r\n    closePicker: function() {\r\n        $$(\".comment-progressbar-load-hide\").html('<p style=\"height:2px\"></p>');\r\n        $$(\".record-input\").val(\"\");\r\n        $$(\"#review-rating img\").attr('src', 'images/star_off.png');\r\n        $$(\"#post-comment\").attr(\"disabled\", \"disabled\");\r\n        myApp.closeModal(\".picker-1\");\r\n    },\r\n    initPost: function() {\r\n\r\n        var contentData,\r\n            videotitle = \"\",\r\n            videocontent = \"\",\r\n            rating = \"\",\r\n            hashtag = \"\";\r\n        /* videotitle \t= '<div class=\"videotitle\">' +$$(\"#video-title\").val()+ '</div>';\r\n        rating \t\t= $$(\"#rating\").val(); */\r\n        videocontent = $$(\"#videocontent\").val();\r\n        /* hashtag = $(\"#autocomplete-user\").val().replace(/[\"~!$%^&*\\(\\)_+=`{}\\[\\]\\|\\\\:;'<>,.\\/?\"\\-]+/g, '').match(/(?:\\#(\\w+))|(?:\\@(\\w+))/g).toString().replace(/,/g, ' ');\r\n\t\t\t\t\thashtag = '<div class=\"hashtags\">'+ hashtag + '</div>';\r\n*/\r\n        contentData = videocontent;\r\n\r\n        if (contentData) {\r\n            sezzwhoApp.comments.post_comment(contentData);\r\n                  sezzwhoApp.showPreloader(\"Submitting...\");\r\n\r\n        \t\tsetTimeout(function(){\r\n           \t\t\t sezzwhoApp.hidePreloader();\r\n            \t\tsezzwhoApp.closeModal('.picker-1');\r\n             \r\n            \t\t\t//Refresh comment content\r\n       \t\t\t\t },1500);\r\n\t\t\t\r\n        } else {\r\n            alert('please re-record the video!');\r\n        }\r\n\r\n        //End Function\t\r\n    },\r\n    post_comment: function(videoContent) {\r\n        var option = {\r\n            'content': videoContent,\r\n            'key': sezzwhoApp.jsonpcb,\r\n            'cookie': sezzwhoApp.cookie,\r\n            'activity_id': parseInt(sezzwhoApp.commentsType[0].id),\r\n\t\t\t'receiver_id': parseInt(sezzwhoApp.commentsType[0].user_id)\r\n        };\r\n        sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.activities_new_comment, option, \"postComment\");\r\n\r\n\r\n    },\r\n    doneComments: function(response) {\r\n\r\n         sezzwhoApp.post_comment =true;\r\n        var el = \".activity-\" + sezzwhoApp.commentsType[0].id;\r\n        el = $$(el);\r\n        var count = parseInt(el.find(\".comment-count-hidden\").val());\r\n\t\tvar hidden_count = count + 1;\r\n        count = sezzwhoApp.mainInits.countFormat(count + 1);\r\n        if (response.status === \"ok\") {\r\n            el.find(\".comment\").text(count.toString());\r\n\r\n             el.find(\".comment-count-hidden\").val(hidden_count) ; \r\n\r\n            var option = {\r\n                'key': sezzwhoApp.jsonpcb,\r\n                'cookie': sezzwhoApp.cookie,\r\n                'type': \"activity_comment\",\r\n                'sort': 'DESC',\r\n                'primary_id': sezzwhoApp.commentsType[0].id,\r\n                'secondary_id': sezzwhoApp.commentsType[0].id,\r\n                'limit': 1,\r\n                'include': response.comment_id,\r\n                'comments': false\r\n            };\r\n            sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.following, option, \"comments\");\r\n\r\n            sezzwhoApp.comments.closePicker();\r\n\r\n        }\r\n        console.log(response);\r\n\r\n        //End function\t\r\n    },\r\n    initRecording: function() {\r\n        sezzwhoApp.personalFeeds.recordVideo('comments');\r\n    },\r\n    deleteComment: function() {\r\n        var aID = $(this).attr('data-id');\r\n        var id = $(this).attr('data-userid');\r\n        if (id == sezzwhoApp.userloginInfo.user.id) {\r\n            var options = {\r\n                'key': sezzwhoApp.jsonpcb,\r\n                'cookie': sezzwhoApp.cookie,\r\n                'activity_id': aID\r\n            };\r\n            sezzwhoApp.deleteActivity = aID;\r\n            sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.activities_delete_activity, options, \"comment_edit_delete_activity\");\r\n\t\t\tvar el = \".activity-\" + sezzwhoApp.commentsType[0].id;\r\n\t\t\tel = $$(el);\r\n\t\t\tvar count = parseInt(el.find(\".comment-count-hidden\").val());\r\n\t\t\tcount = count - 1;\r\n\t\t\tvar text_count =sezzwhoApp.mainInits.countFormat(count);\r\n\t\t\tif(count < 0)\r\n\t\t\tcount = 0;\r\n\t\t\tel.find(\".comment\").text(text_count.toString());\r\n\t\t\tel.find(\".comment-count-hidden\").val(count) ; \r\n        } else {\r\n            myApp.addNotification({\r\n                title: 'Un-authorized',\r\n                subtitle: '',\r\n                message: 'Sorry, you are not authorized to delete this video or comment',\r\n                media: '<i class=\"fa fa-info-circle\"></i>'\r\n            });\r\n        }\r\n\r\n    },\r\n    displayEditDeleteMessage: function(response) {\r\n        var el = \"#comment-\" + sezzwhoApp.deleteActivity;\r\n        if (response.status === \"ok\") {\r\n            $$(el).remove();\r\n            sezzwhoApp.personalFeeds.getFeedActivities(); // Update personal feed \t\r\n        }\r\n    },\r\n    dittoComment: function() {\r\n\r\n        var el = \"\",\r\n            id = \"\",\r\n            option = {},\r\n            url = \"\";\r\n\r\n        el = $$(this);\r\n        id = el.attr('data-id');\r\n        options = {\r\n            'key': sezzwhoApp.jsonpcb,\r\n            'cookie': sezzwhoApp.cookie,\r\n            'activity_id': id\r\n\r\n        };\r\n        //alert(id);\r\n        url = sezzwhoApp.url + sezzwhoApp.sezzwhoAction.sz_add_user_ditte;\r\n        id = \"#comment-\" + id;\r\n\r\n        $.post(url, options, function(data) {\r\n\r\n            if (data.text === 'Ditto') {\r\n                el.find('span').text(data.text);\r\n                console.log(id);\r\n                (typeof(data.response) === 'undefined') ? $(id).find('.likes').text('0'): $(id).find('.likes').text(data.response);\r\n\r\n                el.find('.fa').addClass('fa-thumbs-o-up').removeClass('fa-thumbs-o-down');\r\n            } else {\r\n                el.find('span').text(data.text);\r\n                (typeof(data.response) === 'undefined') ? $(id).find('.likes').text('0'): $(id).find('.likes').text(data.response);\r\n                el.find('.fa').addClass('fa-thumbs-o-down').removeClass('fa-thumbs-o-up');\r\n            }\r\n            console.log(data);\r\n        });\r\n\r\n    },closeCommentbox: function(){\r\n         sezzwhoApp.comments.closePicker();\r\n    },\r\n\ttextWidget: function(){\r\n\t\t myApp.popup('.comment-popup');\r\n\t \r\n\t \t$('#post-comment-text').attr('disabled',true);\r\n    \t$('#comment-textarea').keyup(function(){\r\n        if($(this).val().length !=0)\r\n            $('#post-comment-text').attr('disabled', false); \r\n\t\t\t         \r\n        else\r\n            $('#post-comment-text').attr('disabled',true);\r\n\t\t\t\r\n    \t});\r\n\t\t\r\n\t},\r\n\tpost_text_comment: function(){\r\n\t\tvar text = $('#comment-textarea').val();\r\n\r\n        if(sezzwhoApp.mainInits.getCharLength(text) < 4){\r\n            sezzwhoApp.alert(\"Ah, Content is too short\");\r\n            return false;\r\n        }else{\r\n\t\tsezzwhoApp.comments.post_comment($(\"#comment-textarea\").val());\r\n\t\t}\r\n\r\n        sezzwhoApp.showPreloader(\"Submitting...\");\r\n\r\n        setTimeout(function(){\r\n            sezzwhoApp.hidePreloader();\r\n            sezzwhoApp.closeModal('.comment-popup');\r\n             \r\n            //Refresh comment content\r\n        },1500);\r\n\t \t\r\n\t},\r\n    bindEvent: function() {\r\n        var bindings = [{\r\n            element: '#post-comment',\r\n            event: 'click',\r\n            handler: this.initPost\r\n        }, {\r\n            element: '.record-comment',\r\n            event: 'click',\r\n            handler: this.initRecording\r\n        }, {\r\n            element: '.comment-delete',\r\n            event: 'click',\r\n            handler: this.deleteComment\r\n        }, {\r\n            element: '.comment-ditto',\r\n            event: 'click',\r\n            handler: this.dittoComment\r\n        },{\r\n           element:'.picker-1 .close-picker',\r\n            event: 'click',\r\n            handler:this.closeCommentbox\r\n        },{\r\n\t\telement:\"#post-comment-text\",\r\n\t\tevent: 'click',\r\n\t\thandler: this.post_text_comment\r\n\t\t}];\r\n        sezzwhoApp.mainInits.bindEvents(bindings);\r\n\r\n    }\r\n\r\n\r\n};\r\nsezzwhoApp.comments = comments;;var notification = {\r\n    init: function() {\r\n\r\n        this.notifications_unread_count();\r\n        //End Function\r\n        this.getNotification();\r\n\r\n    },\r\n    notifications_unread_count: function() {\r\n        var option = {\r\n            'key': sezzwhoApp.jsonpcb,\r\n            'cookie': sezzwhoApp.cookie\r\n\r\n\r\n        };\r\n        sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.notifications_unread_count, option, \"unreadCount\");\r\n        //end function\r\n    },\r\n    displayCount: function(response) {\r\n        if (response.count > 0){\r\n            $('i.fa.fa-flag.fa-2x .badge').text(response.count);\r\n\t\t}else{\r\n\t\t\t$('i.fa.fa-flag.fa-2x .badge').text(\"0\");\r\n\t\t\tvar html = '<div class=\"none-comment\"><i class=\"fa fa-exclamation-triangle fa-5x\"></i><p>No New Notifications</p></div>';\r\n            $(\".notification-template\").html(html);\r\n\t\t}\r\n\t\t//end function\r\n    },\r\n    getNotification: function() {\r\n        var option = {\r\n            'key': sezzwhoApp.jsonpcb,\r\n            'cookie': sezzwhoApp.cookie,\r\n\t\t\t'component':sezzwhoApp.notificationsOptions,\r\n            'is_new': true\r\n\r\n        };\r\n        sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.notifications, option, \"notification\");\r\n    },\r\n    displayNotifications: function(response) {\r\n        var items = [],\r\n            item = [],\r\n            count,\r\n            i = 0;\r\n        console.log(response);\r\n        if (typeof(response.notifications) !== \"undefined\") {\r\n            while (i < response.notifications.length) {\r\n\r\n                item[i] = {\r\n                    nickname: response.notifications[i].sender_name,\r\n                    avatar: response.notifications[i].sender_avatar,\r\n                    time: response.notifications[i].time_since,\r\n                    content: response.notifications[i].content,\r\n                    href: response.notifications[i].href,\r\n                    componentname: response.notifications[i].component_name,\r\n\t\t\t\t\taccount_type: response.notifications[i].account_type,\r\n                    refername: response.notifications[i].sender_name,\r\n                    itemid: response.notifications[i].item_id,\r\n                    senderid: (response.notifications[i].component_name === \"follow\") ? response.notifications[i].item_id : response.notifications[i].secondary_item_id,\r\n                    userid: response.notifications[i].user_id,\r\n                    notificationId: response.notifications[i].id,\r\n\t\t\t\t\tvideo_refer_name:response.notifications[i].video_refer_name\r\n\r\n                };\r\n\r\n                i++;\r\n            }\r\n            items.push({\r\n                \"item\": item\r\n            });\r\n            var output = sezzwhoApp.mainInits.renderTpl(notificationTemplate, items[0]);\r\n            $('.notification-template').html(output);\r\n        } else {\r\n\r\n        }\r\n\r\n        setTimeout(function() {\r\n            sezzwhoApp.notifications.blindEvent();\r\n        }, 1000);\r\n    },\r\n    notifications_delete: function() {\r\n        var id = $(this).attr('data-id');\r\n        sezzwhoApp.nDel = id;\r\n        var option = {\r\n            'key': sezzwhoApp.jsonpcb,\r\n            'cookie': sezzwhoApp.cookie,\r\n            'notification_id': id\r\n        };\r\n        sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.notifications_single_mark, option, \"notifications_delete\");\r\n\r\n    },\r\n    notifications_delete_message: function(response) {\r\n        var el = \"#notification-\" + sezzwhoApp.nDel;\r\n\r\n        if (response.status === \"ok\") {\r\n             sezzwhoApp.notifications.notifications_unread_count();\r\n            $(el).remove();\r\n        } else {\r\n\r\n            myApp.addNotification({\r\n                title: 'Invaild',\r\n                subtitle: '',\r\n                message: response.error,\r\n                media: '<i class=\"fa fa-info-circle\"></i>'\r\n            });\r\n        }\r\n\r\n\r\n    },\r\n\tnotifications_single_mark: function(id){\r\n\t // var id = $(this).attr('data-id');\r\n        sezzwhoApp.nMark = id;\r\n        var option = {\r\n            'key': sezzwhoApp.jsonpcb,\r\n            'cookie': sezzwhoApp.cookie,\r\n            'notification_id': id\r\n        };\r\n        sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.notifications_single_mark, option, \"notifications_mark\");\r\n\t\r\n\t},\r\n\tnotifications_mark_message: function(response) {\r\n        var el = \"#notification-\" + sezzwhoApp.nMark;\r\n\r\n        if (response.status === \"ok\") {\r\n             sezzwhoApp.notifications.notifications_unread_count();\r\n            $(el).remove();\r\n        } else {\r\n\r\n            myApp.addNotification({\r\n                title: 'Invaild',\r\n                subtitle: '',\r\n                message: response.error,\r\n                media: '<i class=\"fa fa-info-circle\"></i>'\r\n            });\r\n        }\r\n\r\n\r\n    },\r\n    refresh_notification: function(){\r\n\t\t\r\n\t}\r\n\t,blindEvent: function() {\r\n        var bindings = [{\r\n            element: '.notification-delete',\r\n            event: 'click',\r\n            handler: this.notifications_delete\r\n        }];\r\n        sezzwhoApp.mainInits.bindEvents(bindings);\r\n\r\n    },\r\n    registerDeviceAndroid: function() {\r\n     pushNotification = new PushNotification();\r\n        if (device.platform == 'android' || device.platform == 'Android' || device.platform == \"amazon-fireos\") {\r\n            pushNotification.register(\r\n                successHandler,\r\n                errorHandler, {\r\n                    \"senderID\": \"811636483141\",\r\n                    \"ecb\": \"onNotification\"\r\n                });\r\n        } else if (device.platform == 'blackberry10') {\r\n            pushNotification.register(\r\n                successHandler,\r\n                errorHandler, {\r\n                    invokeTargetId: \"replace_with_invoke_target_id\",\r\n                    appId: \"replace_with_app_id\",\r\n                    ppgUrl: \"replace_with_ppg_url\", //remove for BES pushes\r\n                    ecb: \"pushNotificationHandler\",\r\n                    simChangeCallback: replace_with_simChange_callback,\r\n                    pushTransportReadyCallback: replace_with_pushTransportReady_callback,\r\n                    launchApplicationOnPush: true\r\n                });\r\n        } else {\r\n            pushNotification.register(\r\n                tokenHandler,\r\n                errorHandler, {\r\n                    \"badge\": \"true\",\r\n                    \"sound\": \"true\",\r\n                    \"alert\": \"true\",\r\n                    \"ecb\": \"onNotificationAPN\"\r\n                });\r\n        }\r\n\r\n        function successHandler(result) {\r\n            console.log('result = ' + result);\r\n        }\r\n\r\n        function errorHandler(error) {\r\n            console.log('error = ' + error);\r\n        }\r\n\r\n        function tokenHandler(result) {\r\n            // Your iOS push server needs to know the token before it can push to this device\r\n            // here is where you might want to send it the token for later use.\r\n            console.log('device token = ' + result);\r\n        }\r\n\r\n\r\n    }, // End Android Notifications \r\n    registerDeviceIOS: function() {\r\n        push = PushNotification.init({\r\n            android: {\r\n                senderID: \"982786196868\"\r\n            },\r\n            ios: {\r\n                alert: \"true\",\r\n                badge: \"true\",\r\n                sound: \"true\"\r\n            },\r\n            windows: {}\r\n        });\r\n\r\n        push.on('registration', function(data) {\r\n            //alert(data.registrationId);\r\n            console.log(data.registrationId);\r\n            sezzwhoApp.notifications.deviceRegister(data.registrationId, \"ios_notification\");\r\n        });\r\n\r\n        push.on('notification', function(data) {\r\n            // data.message,\r\n            // data.title,\r\n            // data.count,\r\n            // data.sound,\r\n            // data.image,\r\n            // data.additionalData\r\n            //alert(data.message);\r\n\t\t\tsezzwhoApp.notifications.getNotification();\r\n        });\r\n\r\n        push.on('error', function(e) {\r\n            // e.message\r\n        });\r\n\r\n    },\r\n    unregisterDeviceIos: function() {\r\n\r\n        push.unregister(successHandler, errorHandler);\r\n\r\n\r\n        function successHandler(e) {\r\n            console.log(e);\r\n        }\r\n\r\n        function errorHandler(e) {\r\n            console.log(e);\r\n        }\r\n    },\r\n    unregisterDeviceAndroid: function() {\r\n        pushNotification.unregister(successHandler, errorHandler);\r\n\r\n        function successHandler(e) {\r\n            console.log(e);\r\n        }\r\n\r\n        function errorHandler(e) {\r\n            console.log(e);\r\n        }\r\n    },\r\n    deviceRegister: function(id, type) {\r\n        var ajaxUrl = sezzwhoApp.url + sezzwhoApp.sezzwhoAction.save_device_id;\r\n        var options = {\r\n            'key': sezzwhoApp.jsonpcb,\r\n            'cookie': sezzwhoApp.cookie,\r\n            'regID': id,\r\n            'type': type\r\n        };\r\n        $.get(ajaxUrl, options, function(data) {\r\n            console.log(\"ID register request performed\");\r\n        });\r\n    }\r\n};\r\n\r\nfunction onNotificationAPN(event) {\r\n    if (event.alert) {\r\n        navigator.notification.alert(event.alert);\r\n    }\r\n\r\n    if (event.sound) {\r\n        var snd = new Media(event.sound);\r\n        snd.play();\r\n    }\r\n\r\n    if (event.badge) {\r\n        pushNotification.setApplicationIconBadgeNumber(successHandler, errorHandler, event.badge);\r\n    }\r\n}\r\n\r\nfunction onNotification(e) {\r\n    switch (e.event) {\r\n        case 'registered':\r\n            if (e.regid.length > 0) {\r\n                //$(\"#app-status-ul\").append('<li>REGISTERED -> REGID:' + e.regid + \"</li>\");\r\n                // Your GCM push server needs to know the regID before it can push to this device\r\n                // here is where you might want to send it the regID for later use.\r\n                console.log(\"regID = \" + e.regid);\r\n                sezzwhoApp.notifications.deviceRegister(e.regid, \"android_notification\");\r\n\r\n            }\r\n            break;\r\n\r\n        case 'message':\r\n            // if this flag is set, this notification happened while we were in the foreground.\r\n            // you might want to play a sound to get the user's attention, throw up a dialog, etc.\r\n            if (e.foreground) {\r\n                //$(\"#app-status-ul\").append('<li>--INLINE NOTIFICATION--' + '</li>');\r\n\r\n                // on Android soundname is outside the payload.\r\n                // On Amazon FireOS all custom attributes are contained within payload\r\n                var soundfile = e.soundname || e.payload.sound;\r\n                // if the notification contains a soundname, play it.\r\n                var my_media = new Media(\"/android_asset/www/\" + soundfile);\r\n                my_media.play();\r\n\t\t\t\tsezzwhoApp.notifications.getNotification();\r\n            } else { // otherwise we were launched because the user touched a notification in the notification tray.\r\n                if (e.coldstart) {\r\n                    //$(\"#app-status-ul\").append('<li>--COLDSTART NOTIFICATION--' + '</li>');\r\n\t\t\t\t\tsezzwhoApp.notifications.getNotification();\r\n                } else {\r\n                    //$(\"#app-status-ul\").append('<li>--BACKGROUND NOTIFICATION--' + '</li>');\r\n                sezzwhoApp.notifications.getNotification();\r\n\t\t\t\t}\r\n            }\r\n\r\n            //$(\"#app-status-ul\").append('<li>MESSAGE -> MSG: ' + e.payload.message + '</li>');\r\n            //Only works for GCM\r\n            //$(\"#app-status-ul\").append('<li>MESSAGE -> MSGCNT: ' + e.payload.msgcnt + '</li>');\r\n            //Only works on Amazon Fire OS\r\n            //$status.append('<li>MESSAGE -> TIME: ' + e.payload.timeStamp + '</li>');\r\n            break;\r\n\r\n        case 'error':\r\n            //$(\"#app-status-ul\").append('<li>ERROR -> MSG:' + e.msg + '</li>');\r\n            break;\r\n\r\n        default:\r\n            //$(\"#app-status-ul\").append('<li>EVENT -> Unknown, an event was received and we do not know what it is</li>');\r\n            break;\r\n    }\r\n}\r\nsezzwhoApp.notifications = notification;;var loadmore=false;\r\nvar detailpage = {\r\n  \r\n\tinit: function(query){\r\n\t  sezzwhoApp.showIndicator();\r\n\t  this.blindEvent();\r\n\t  this.userProfileHeader(query.id);\r\n\t  sezzwhoApp.homeModules.blindEvent();\r\n\t  sezzwhoApp.userDetail= query.username;\r\n\t  sezzwhoApp.userIDetail = query.id;\r\n\t  if(query.accountType === 'Personal'){\r\n\t\t   $('.business-recording, #tab-detial').hide(); \r\n\t\t   \r\n\t }\r\n\t  else{\r\n\t\t$('.business-recording, #auto-post-business, #tab-detial').show();\r\n\t\t$('#auto-aw-whats-new-submit, #auto-add-business').hide();\r\n\t  }\r\n\t  sezzwhoApp.reviewpages.init();\r\n  },\r\n  userProfileHeader: function(userid){\r\n\t\t\t  var \titems,\r\n\t\t\t  \t\tbio,\r\n\t\t\t  \t\toutput;\r\n\t\t//console.log(event);\r\n\t  \t//if(event==\"tab-link userprofile active-state\"){\r\n\t\t\r\n\t\t  var option = {\r\n\t\t\t\t\t\t  'key'         : sezzwhoApp.jsonpcb,\r\n\t\t\t\t\t\t  'user_id'     : userid,\r\n\t\t\t\t\t\t  'cookie'      : sezzwhoApp.cookie,\r\n\t\t\t\t\t\t  'field'       : 'Bio,Website,Address'\r\n\t\t\t\t\t   };\r\n\t\t sezzwhoApp.leaderid = userid;\r\n\t\t\r\n\t\t         var p = new Promise(function(resolve, reject) { resolve(sezzwhoApp.commonFunc.followingFollower(userid)); console.log(\"first\") });\r\n\t\t\t\t\tp.then(function(){\r\n\t\t\t\t\tsezzwhoApp.commonFunc.activitiesCount(userid);\r\n\t\t\t\t\tconsole.log(\"2nd\");\r\n\t\t\t\t\t}).then(function(){\r\n\t\t\t\t\t\tsezzwhoApp.xhrs.simpleCall(sezzwhoApp.url,sezzwhoApp.sezzwhoAction.xprofile,option,\"detialpageheader\");\r\n\t\t\t\t\t\t\tconsole.log(\"3rd\");\r\n\t\t\t\t\t});\r\n\t\t  this.getFeedActivities(userid);\r\n\t  //\t}\r\n\t\t  \r\n\t  \r\n\t  },\r\n\t     getPersonalFeed: function(response){\r\n\t\t\t var elHeader= '.user-profile-header-detail-' + sezzwhoApp.userIDetail;\r\n\t\t\t console.log(elHeader);\r\n\t\t\t var  bio = response.Bio;\r\n\t\t\t var  website= response.Website;\r\n\t\t\t var address = response.Address;\r\n\t\t\t var follow;\r\n\t\t\t (sezzwhoApp.userloginInfo.user.id == sezzwhoApp.userIDetail) ? follow =true : follow= false;\r\n\t\t\t item = {\r\n                   'avatar' \t: sezzwhoApp.mainInits.addhttp(response.avatar),\r\n                   'bio'   \t\t: bio,\r\n\t\t\t\t   'id'\t\t\t: sezzwhoApp.leaderid,\r\n                   'username'\t: sezzwhoApp.userDetail,\r\n\t\t\t\t   'follower' \t: response.followers,\r\n\t\t\t\t   'following'\t: response.following,\r\n\t\t\t\t   'post_count' : response.activityCount,\r\n\t\t\t\t   'is_follow'  : response.is_follow,\r\n\t\t\t\t   'address'\t: address,\r\n\t\t\t\t   'website': sezzwhoApp.mainInits.addhttp(website),\r\n\t\t\t\t   'follow'\t\t: follow\r\n            };\r\n\t\t\t output = sezzwhoApp.mainInits.renderTpl(userHeaderTemplate,item);\r\n          \r\n\t\t\t $(elHeader).html(output);\r\n\t\t   \r\n\t\t\t //End Fucntion \r\n\t\t },\r\n\t\tgetFeedActivities: function(userid){\r\n    \r\n     var option = {\r\n              'key'         : sezzwhoApp.jsonpcb,\r\n              'user_id'     : userid,\r\n              'cookie'      : sezzwhoApp.cookie,\r\n\t\t\t  'type' \t\t:\"activity_update,Member_review\",\r\n\t\t   \t  'comments'\t:true\r\n                \r\n            };\r\n       sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url,sezzwhoApp.sezzwhoAction.following,option,\"detialpagelist\");\r\n   \r\n       \r\n      \t\r\n    \tsetTimeout(function(){\tsezzwhoApp.homeModules.blindEvent(); },1000);  //follow up button\r\n        \r\n        \r\n             //End Function\r\n    },\r\n\t activitiesFeed : function(response){\r\n         var items=[],item=[];\r\n\t\t var elLoader='.infinite-scroll-preloader-detail-page-' +  sezzwhoApp.userIDetail;\r\n\t\t var elContent='.presonal-content-detail-' +  sezzwhoApp.userIDetail;\r\n\t\t var elScroll = '.infinite-scroll-detail-' + sezzwhoApp.userIDetail;\r\n\t\t var html = '<div class=\"none-comment\"><i class=\"fa fa-newspaper-o  fa-5x\"></i><p>No Activities</p></div>';\r\n             if(response.status !== \"error\" || response.error !==\"No Activities found.\") { \r\n             for(var i=0; i<response.activities.length;i++){\r\n             text=sezzwhoApp.mainInits.getsezzwhoContents(response.activities[i].content);\r\n            \r\n                sezzwhoApp.activityFeedUserDetail = response;\r\n            // console.log(text);\r\n             item[i]={\r\n                    nickname    : response.activities[i].user[0].username,\r\n                    avatar      : sezzwhoApp.mainInits.addhttp(response.activities[i].user[0].avatar),\r\n                    time        : response.activities[i].time_since,\r\n\t\t\t\t\tuser_id: response.activities[i].user[0].user_id,\r\n                    title       : text.title,\r\n                    hashtag     : text.hashtag,\r\n                    ziggeocode  : text.ziggeoCode,\r\n                    type        : ((response.activities[i].type ==\"Member_review\"||response.activities[i].type ==\"activity_update\")?true:false),\r\n\t\t\t\t\tcommentLenght\t: (typeof(response.activities[i].comments) != \"undefined\")? response.activities[i].comments.length : 0,\r\n\t\t\t\t\tcomments \t\t: (typeof(response.activities[i].comments) != \"undefined\")? true : false,\r\n\t\t\t\t\tpage \t\t\t: response.page,\r\n\t\t\t\t\tid\t\t\t\t: response.activities[i].activity_id,\r\n\t\t\t\t\taction\t\t\t: response.activities[i].action,\r\n\t\t\t\t    name\t\t\t: \"detailpage\",\r\n\t\t\t\t\tlikes_count     : (typeof(response.activities[i].likes_count) === \"string\") ? 0 : Object.keys(response.activities[i].likes_count).length,\r\n\t\t\t\t\tlike_button \t: response.activities[i].likes_button,\r\n\t\t\t\t\trefer_count    \t: response.activities[i].refer_count,\r\n\t\t\t\t\tshare_count \t: response.activities[i].share_count,\r\n\t\t\t\t\tis_follow : response.activities[i].followCheck,\r\n\t\t\t\t\taccount_type: response.activities[i].user[0].account_type\r\n\r\n                };\r\n               \r\n             } // End for loop\r\n             items.push({\"item\":item});  \r\n             //console.log(JSON.stringify(items));\r\n             \r\n        \t\tvar output = sezzwhoApp.mainInits.renderTpl(activityTemplate,items[0]);\r\n\t\t\t  \t$(elContent).append(output); \r\n                sezzwhoApp.hideIndicator();\r\n\t\t\t\tsezzwhoApp.commonFunc.init();  // Blind share event button ;   \r\n\t\t\t }else\r\n\t\t\t {\r\n\t\t\t\tsezzwhoApp.hideIndicator();\r\n\t\t\t\t myApp.detachInfiniteScroll($$(elScroll));\r\n\t\t\t   $(elContent).html(html);\r\n\t\t\t   $$(elLoader).remove();\r\n\t\t\t }\r\n\r\n        //End Function\r\n    }\r\n\t,\r\n     loadmoreFeedContent: function(){\r\n            var elLoader='.infinite-scroll-preloader-detail-page-' +  sezzwhoApp.userIDetail;\r\n\t\t\t var elScroll = '.infinite-scroll-detail-' + sezzwhoApp.userIDetail;\r\n\r\n\t\t\t// console.log(elScroll);\r\n\t\t\t// Loading flag\r\n\t\t\tvar loading = false;\r\n\t\t\t// Last loaded index\r\n\t\t\t// Max items to load\r\n\t\t\tvar maxItems = sezzwhoApp.activityFeedUserDetail.has_more_items;\r\n\t\t\t// Append items per load\r\n\t\t\tvar itemsPerLoad = 10;\r\n\t\t\tvar page =2;\r\n\t\t\tloadmore = true;\t\t  \r\n\t\t\t// Attach 'infinite' event handler\r\n\t\t\t$$(elScroll).on('infinite', function () {\r\n\t\t\tconsole.log(\"step2\");\r\n\t\t\t// Exit, if loading in progress\r\n\t\t\tif (loading) return;\r\n\t\t\t// Set loading flag\r\n\t\t\tloading = true;\r\n\t\t\t// Emulate 1s loading\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\t// Reset loading flag\r\n\t\t\t\tloading = false;\r\n\t\t\t\t maxItems = sezzwhoApp.activityFeedUserDetail.has_more_items;\r\n\t\t\t\tif (maxItems == false) {\r\n\t\t\t\t\tconsole.log(\"step3\");\r\n\t\t\t\t  \t// Nothing more to load, detach infinite scroll events to prevent unnecessary loadings\r\n\t\t\t\t  \tmyApp.detachInfiniteScroll($$(elScroll));\r\n\t\t\t\t  \t// Remove preloader\r\n\t\t\t\t  \t$$(elLoader).remove();\r\n\t\t\t\t  \treturn;\r\n\t\t\t}\r\n\t\t\tconsole.log(\"eer\");\r\n\t\t\t// Generate new items HTML\r\n\t\t\tvar html = '';\r\n\r\n\t\t\t   var option = {\r\n\t\t\t\t\t  'key'         : \tsezzwhoApp.jsonpcb,\r\n\t\t\t\t\t  'user_id'     : \tsezzwhoApp.userIDetail,\r\n\t\t\t\t\t  'cookie'      : \tsezzwhoApp.cookie,\r\n\t\t\t\t   \t  'type' \t\t:\t\"activity_update,Member_review\",\r\n\t\t\t\t\t  'page'        :\tpage,\r\n\t\t\t\t\t  'per_page'    :\titemsPerLoad,\r\n\t\t\t\t   \t  'comments'\t:\ttrue\r\n\r\n\t\t\t\t\t};\r\n\t\t\t\t sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url,sezzwhoApp.sezzwhoAction.following,option,\"loadmoreDetailActivity\");\r\n\t\t\t  \r\n\t\t\r\n                  console.log(sezzwhoApp.activityFeedUserDetail.has_more_items);\r\n\t\t\t// Append new items\r\n\t\t\t//$$('.load-result').append(html);\r\n          \r\n\t\t\t// Update last loaded index\r\n\tif(sezzwhoApp.activityFeedUserDetail.has_more_items == true){\r\n\t\t\t  page +=1;\r\n\t\t\t  maxItems= true;\r\n\t}\r\n\t\t\t\telse\r\n\t\t\r\n\t\t\t\t{\r\n\t\t\t   maxItems=false;\r\n\t\t\t\t}\r\n\t\t  \r\n\r\n\t\t\t\t  }, 1000);\r\n\t\t});       \r\n\r\n\r\n        \r\n        \r\n        \r\n        //End Function\r\n    },\r\n\tpost_update: function(content){\r\n\t\tvar option ={\r\n\t\t\tcontent: content\r\n\t\t};\r\n\t\t\r\n\t\tsezzwhoApp.xhrs.simpleCall(sezzwhoApp.url,sezzwhoApp.sezzwhoAction.activities_post_update,option,\"post_update\");\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t//End Function\r\n\t},\r\n\tresponse_post_update: function(response){\r\n\t\t\r\n\t\t\r\n\t\t//End Function\r\n\t},\r\n\trecordVideo: function(id){\r\n\t\tcaptureVideo();\r\n\t\t//end function\r\n\t},\r\n\tbusinessPostReview:function(){\r\n\t  var contentData,\r\n            videotitle = \"\",\r\n            videocontent = \"\",\r\n            rating = \"\",\r\n            hashtag = \"\",\r\n\t\t\tlinks= \"\";\r\n\t\t\tsezzwhoApp.postButton \t\t\t= false,\r\n\t\t\tsezzwhoApp.addLocationButton \t= false,\r\n\t\t\tsezzwhoApp.addReviewButton \t\t= true,\r\n\t\t\tsezzwhoApp.autoWhatsNew \t\t= false;\r\n\r\n\t\t($(\"#video-title\").val()==\"\") ? $(\"#video-title\").addClass('danger-alert'):$(\"#video-title\").removeClass('danger-alert');\r\n        ($(\"#autocomplete-user\").val()==\"\") ? $(\"#autocomplete-user\").addClass('danger-alert'):$(\"#video-title\").removeClass('danger-alert');\r\n        videotitle = sezzwhoApp.mainInits.matchUrl($$(\"#video-title\").val());\r\n        rating = $$(\"#rating\").val();\r\n\t\tif(rating < 3) {\r\n\t\t\tmyApp.alert(\"please select more than 3 star\"); return false; }\r\n\t\t\telse { } \r\n        videocontent = $$(\"#videocontent\").val();\r\n        try {\r\n\t\t\thashtag = $(\"#autocomplete-user\").val().replace(/[\"~!$%^&*\\(\\)_+=`{}\\[\\]\\|\\\\:;'<>,.\\/?\"\\-]+/g, '').match(/(?:\\#(\\w+))|(?:\\@(\\w+))/g).toString().replace(/,/g, ' ');\r\n\t\t}\r\n\t\tcatch(err){\r\n\t\t\talert(\"Please add # front of word\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t if($(\"#autocomplete-website\").val() === \"\")  { links = true;}\r\n\t\telse { links =$(\"#autocomplete-website\").val();   }  \r\n         \r\n        contentData = {\r\n            'avatar': sezzwhoApp.userloginInfo.user.avatar,\r\n            'username': sezzwhoApp.userloginInfo.user.username,\r\n            'userid': sezzwhoApp.userloginInfo.user.id,\r\n            'videotitle': videotitle,\r\n            'rating': rating,\r\n            'hashtag': hashtag,\r\n            'video': videocontent,\r\n\t\t\t'link' : links\r\n        };\r\n         contentData.usercheck = sezzwhoApp.userIDetail;\r\n         contentData.usernameR = sezzwhoApp.userDetail;\r\n         sezzwhoApp.reviewContent = contentData;\r\n\t\t  if(sezzwhoApp.isUploaded)\r\n\t\t \r\n\t\t { \r\n\t\t      sezzwhoApp.reviewContent.video = $$(\"#videocontent\").val();\r\n\t\t\t  sezzwhoApp.addbusiness.postBusinessReview();\r\n\t\t }\r\n\t\t else{\r\n\t\t   sezzwhoApp.autoWhatsNew \t\t= true;\r\n\t\t    if ($$('.popup-record.modal-in').length > 0) { \r\n\t    \t\t\tmyApp.closeModal(\".popup-record\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t \t}\r\n\t\t }\r\n\t},\r\n\tpopupRecording:function(){\r\n\t  sezzwhoApp.popup('.popup-record');\r\n\t  star_rating();\r\n\t},\r\n    blindEvent: function() {\r\n        var bindings = [{\r\n\t\t element:\"#auto-post-business\",\r\n\t\t event: 'click',\r\n\t\t handler: this.businessPostReview\r\n\t\t},{\r\n\t\t element:'.business-recording',\r\n\t\t event: 'click',\r\n\t\t handler: this.popupRecording\r\n\t\t}\r\n\t\t];\r\n        sezzwhoApp.mainInits.bindEvents(bindings);\r\n\r\n    }    \r\n  \r\n     \r\n\t\t//End Function\r\n};\r\n\r\nsezzwhoApp.detailpages= detailpage;\r\n\r\n  ;// JavaScript Document\r\nvar review = {\r\n\t   init: function() {\r\n        this.getFeedActivities();\r\n    },\r\n\tgetFeedActivities: function(){\r\n    \r\n     var option = {\r\n              'key'         : sezzwhoApp.jsonpcb,\r\n              'user_id'     : sezzwhoApp.userIDetail,\r\n              'cookie'      : sezzwhoApp.cookie,\r\n\t\t\t  'type' \t\t:\"activity_update,Member_review\",\r\n\t\t   \t  'comments'\t:true,\r\n\t\t\t  'review'      :true\r\n                \r\n            };\r\n       sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url,sezzwhoApp.sezzwhoAction.following,option,\"reviewpagelist\");\r\n   \r\n       \r\n      \t\r\n    \tsetTimeout(function(){\tsezzwhoApp.homeModules.blindEvent(); },1000);  //follow up button\r\n        \r\n        \r\n             //End Function\r\n    },\r\n\tactivitiesReviewFeed : function(response){\r\n         var items=[],item=[];\r\n\t\t var elContent = \".presonal-content-review-\" + sezzwhoApp.userIDetail;\r\n\t\t var elLoader =\".infinite-scroll-preloader-review-page-\" + sezzwhoApp.userIDetail;\r\n\t\t var elScroll = \".infinite-scroll-review-\" + sezzwhoApp.userIDetail;\r\n\t\t var html = '<div class=\"none-comment\"><i class=\"fa fa-newspaper-o  fa-5x\"></i><p>No Activities</p></div>';\r\n\t\t \t\tsezzwhoApp.activityFeedUserReview =[];\r\n\t\t\t\tsezzwhoApp.activityFeedUserReview.has_more_items = false;\r\n          \r\n\t\t     if(response.status !== \"error\" || response.error !==\"No Activities found.\") { \r\n             for(var i=0; i<response.activities.length;i++){\r\n             text=sezzwhoApp.mainInits.getsezzwhoContents(response.activities[i].content);\r\n            \r\n                sezzwhoApp.activityFeedUserReview = response;\r\n            // console.log(text);\r\n             item[i]={\r\n                    nickname    : response.activities[i].user[0].username,\r\n                    avatar      : sezzwhoApp.mainInits.addhttp(response.activities[i].user[0].avatar),\r\n                    time        : response.activities[i].time_since,\r\n\t\t\t\t\tuser_id: response.activities[i].user[0].user_id,\r\n                    title       : text.title,\r\n                    hashtag     : text.hashtag,\r\n                    ziggeocode  : text.ziggeoCode,\r\n                    type        : ((response.activities[i].type ==\"Member_review\"||response.activities[i].type ==\"activity_update\")?true:false),\r\n\t\t\t\t\tcommentLenght\t: (typeof(response.activities[i].comments) != \"undefined\")? response.activities[i].comments.length : 0,\r\n\t\t\t\t\tcomments \t\t: (typeof(response.activities[i].comments) != \"undefined\")? true : false,\r\n\t\t\t\t\tpage \t\t\t: response.page,\r\n\t\t\t\t\tid\t\t\t\t: response.activities[i].activity_id,\r\n\t\t\t\t\taction\t\t\t: response.activities[i].action,\r\n\t\t\t\t    name\t\t\t: \"detailpage\",\r\n\t\t\t\t\tlikes_count     : (typeof(response.activities[i].likes_count) === \"string\") ? 0 : Object.keys(response.activities[i].likes_count).length,\r\n\t\t\t\t\tlike_button \t: response.activities[i].likes_button,\r\n\t\t\t\t\trefer_count    \t: response.activities[i].refer_count,\r\n\t\t\t\t\tshare_count \t: response.activities[i].share_count,\r\n\t\t\t\t\tis_follow : response.activities[i].followCheck,\r\n\t\t\t\t\taccount_type: response.activities[i].user[0].account_type\r\n\r\n                };\r\n               \r\n             } // End for loop\r\n             items.push({\"item\":item});  \r\n             //console.log(JSON.stringify(items));\r\n             \r\n        \t\tvar output = sezzwhoApp.mainInits.renderTpl(activityTemplate,items[0]);\r\n\t\t\t  \t$(elContent).append(output); \r\n                sezzwhoApp.hideIndicator();\r\n\t\t\t\tsezzwhoApp.commonFunc.init();  // Blind share event button ;   \r\n\t\t\t }else\r\n\t\t\t {\r\n\t\t\t\tsezzwhoApp.hideIndicator();\r\n\t\t\t\t myApp.detachInfiniteScroll($$(elScroll));\r\n\t\t\t   $(elContent).html(html);\r\n\t\t\t   $$(elLoader).remove();\r\n\t\t\t }\r\n\r\n        //End Function\r\n    },\r\n     loadmoreFeedContent: function(){\r\n          var elLoader =\".infinite-scroll-preloader-review-page-\" + sezzwhoApp.userIDetail;\r\n  \t\t var elScroll = \".infinite-scroll-review-\" + sezzwhoApp.userIDetail;\r\n\r\n\t\t\t console.log(\"step1\");\r\n\t\t\t// Loading flag\r\n\t\t\tvar loading = false;\r\n\t\t\t// Last loaded index\r\n\t\t\t// Max items to load\r\n\t\t\tvar maxItems = sezzwhoApp.activityFeedUserReview.has_more_items;\r\n\t\t\t// Append items per load\r\n\t\t\tvar itemsPerLoad = 10;\r\n\t\t\tvar page =2;\r\n\t\t\tloadmore = true;\t\t  \r\n\t\t\t// Attach 'infinite' event handler\r\n\t\t\t$$(elScroll).on('infinite', function () {\r\n\t\t\tconsole.log(\"step2\");\r\n\t\t\t// Exit, if loading in progress\r\n\t\t\tif (loading) return;\r\n\t\t\t// Set loading flag\r\n\t\t\tloading = true;\r\n\t\t\t// Emulate 1s loading\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\t// Reset loading flag\r\n\t\t\t\tloading = false;\r\n\t\t\t\t maxItems = sezzwhoApp.activityFeedUserReview.has_more_items;\r\n\t\t\t\tif (maxItems == false) {\r\n\t\t\t\t\tconsole.log(\"step3\");\r\n\t\t\t\t  \t// Nothing more to load, detach infinite scroll events to prevent unnecessary loadings\r\n\t\t\t\t  \tmyApp.detachInfiniteScroll($$(elScroll));\r\n\t\t\t\t  \t// Remove preloader\r\n\t\t\t\t  \t$$(elLoader).remove();\r\n\t\t\t\t  \treturn;\r\n\t\t\t}\r\n\t\t\tconsole.log(\"eer\");\r\n\t\t\t// Generate new items HTML\r\n\t\t\tvar html = '';\r\n\r\n\t\t\t   var option = {\r\n\t\t\t\t\t  'key'         : \tsezzwhoApp.jsonpcb,\r\n\t\t\t\t\t  'user_id'     : \tsezzwhoApp.userIDetail,\r\n\t\t\t\t\t  'cookie'      : \tsezzwhoApp.cookie,\r\n\t\t\t\t   \t  'type' \t\t:\t\"activity_update,Member_review\",\r\n\t\t\t\t\t  'page'        :\tpage,\r\n\t\t\t\t\t  'per_page'    :\titemsPerLoad,\r\n\t\t\t\t   \t  'comments'\t:\ttrue,\r\n\t\t\t\t\t  'review'      :true\r\n\r\n\t\t\t\t\t};\r\n\t\t\t\t sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url,sezzwhoApp.sezzwhoAction.following,option,\"loadmoreReviewActivity\");\r\n\t\t\t  \r\n\t\t\r\n                  console.log(sezzwhoApp.activityFeedUserReview.has_more_items);\r\n\t\t\t// Append new items\r\n\t\t\t//$$('.load-result').append(html);\r\n          \r\n\t\t\t// Update last loaded index\r\n\tif(sezzwhoApp.activityFeedUserReview.has_more_items == true){\r\n\t\t\t  page +=1;\r\n\t\t\t  maxItems= true;\r\n\t}\r\n\t\t\t\telse\r\n\t\t\r\n\t\t\t\t{\r\n\t\t\t   maxItems=false;\r\n\t\t\t\t}\r\n\t\t  \r\n\r\n\t\t\t\t  }, 1000);\r\n\t\t});       \r\n\r\n\r\n        \r\n        \r\n        \r\n        //End Function\r\n    }\r\n\t\r\n}\r\nsezzwhoApp.reviewpages= review;\r\n;var searchTimeout, mySearchbar;\r\nvar search = {\r\n    init: function() {\r\n        //this.searchuser();\r\n        this.bindEvent();\r\n    },\r\n    searchuser: function() {\r\n        var autocompleteDropdownAjax = myApp.autocomplete({\r\n            //input: '#autocomplete-user',\r\n            opener: $$('#autocomplete-user'),\r\n            openIn: 'popup',\r\n            preloader: true, //enable preloader,\r\n            backOnSelect: true, //go back after we select something\r\n            valueProperty: 'user_id', //object's \"value\" property name\r\n            textProperty: 'username', //object's \"text\" property name\r\n            limit: 20, //limit to 20 results\r\n            source: function(autocomplete, query, render) {\r\n                var results = [];\r\n                if (query.length === 0) {\r\n                    render(results);\r\n                    return;\r\n                }\r\n                // Show Preloader\r\n                autocomplete.showPreloader();\r\n                // Do Ajax request to Autocomplete data\r\n                $$.ajax({\r\n                    url: sezzwhoApp.url + \"members\",\r\n                    method: 'GET',\r\n                    dataType: 'json',\r\n                    //send \"query\" to server. Useful in case you generate response dynamically\r\n                    data: {\r\n                        search_terms: query,\r\n                        key: sezzwhoApp.jsonpcb\r\n                    },\r\n                    success: function(data) {\r\n                        // Find matched items\r\n                        //console.log(data);\r\n                        for (var i = 0; i < data.members.length; i++) {\r\n                            //if (data.members[i].username.toLowerCase().indexOf(query.toLowerCase()) >= 0) \r\n                            results.push(data.members[i].username);\r\n                        }\r\n                        // Hide Preoloader\r\n                        autocomplete.hidePreloader();\r\n                        // Render items by passing array with result items\r\n                        render(results);\r\n                    }\r\n                });\r\n            },\r\n            onChange: function(autocomplete, value) {\r\n                // Add item text value to item-after\r\n                $$('#autocomplete-user').find('.item-after').text(\"@\" + value[0]);\r\n                // Add item value to input value\r\n                $$('#autocomplete-user').find('input').val(\"@\" + value[0]);\r\n                $(\"#refer-user\").prop('disabled', false);\r\n            }\r\n        });\r\n        //end function\r\n    },\r\n    initSearchbar: function() {\r\n        mySearchbar = myApp.searchbar('.searchbar.custom-search', {\r\n            customSearch: true,\r\n            onDisable: function(s) {\r\n                $$('.popup-search input[type=\"search\"]')[0].blur();\r\n                myApp.closeModal('.popup-search');\r\n            },\r\n            onSearch: function(s, q) {\r\n                sezzwhoApp.searchs.searchQuery(s.query);\r\n            },\r\n            onClear: function(s) {\r\n                $$('.popup-search .search-results').html('');\r\n                $$('.popup-search .search-results-activity').html('');\r\n            }\r\n        });\r\n        myApp.popup(\".popup-search\");\r\n        $$('.popup').on('open', function() {\r\n            mySearchbar.enable();\r\n        });\r\n        $$('.popup').on('opened', function() {\r\n            $$('.popup-search input[type=\"search\"]')[0].focus();\r\n        });\r\n        //End Function\r\n    },\r\n    searchQuery: function(s) {\r\n        console.log(\"step2\");\r\n        if (s.trim() === '') {\r\n            $$('.popup-search .search-results-activity').html('');\r\n            $$('.popup-search .search-results').html('');\r\n            return;\r\n        }\r\n        if (searchTimeout) clearTimeout(searchTimeout);\r\n        $$('.popup-search .preloader').show();\r\n        searchTimeout = setTimeout(function() {\r\n            //\tsezzwhoApp.searchs.bboss_global_search_ajax(s);\r\n            var option = {\r\n                'key': sezzwhoApp.jsonpcb,\r\n                'cookie': sezzwhoApp.cookie,\r\n                'search_terms': encodeURIComponent(s)\r\n            };\r\n            sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.members, option, \"searchResult\");\r\n            sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.following, option, \"searchResult\");\r\n        }, 300);\r\n        //End Function\r\n    },\r\n    bboss_global_search_ajax: function(s) {\r\n        var q = sezzwhoApp.homeUrl + \"search_term=\" + s + '&nonce=daf1b135ca';\r\n        $.ajax({\r\n            url: sezzwhoApp.homeUrl,\r\n            type: 'POST',\r\n            dataType: 'JSON',\r\n            data: {\r\n                action: \"bboss_global_search_ajax\",\r\n                nonce: \"daf1b135ca\",\r\n                search_term: s\r\n            },\r\n            success: function(results) {\r\n                var html = '';\r\n                //results = JSON.parse(results);\r\n                console.log(results);\r\n                $$('.popup-search .preloader').hide();\r\n                /*   if (results.query.count > 0) {\r\n                var places = results.query.results.place;\r\n                html = myApp.searchResultsTemplate(places);\r\n            }\r\n            $$('.popup .search-results').html(html);\r\n        */\r\n            }\r\n        });\r\n    },\r\n    displayResult: function(response) {\r\n        var html = '';\r\n        //     results = JSON.parse(results);\r\n        //console.log(results);\r\n        $$('.popup-search .preloader').hide();\r\n        var output;\r\n        if (response.status === \"ok\" && typeof(response.members) !== \"undefined\") {\r\n            output = sezzwhoApp.mainInits.renderTpl(searchTemplate, response.members);\r\n            $$('.popup-search .search-results').html(output);\r\n            sezzwhoApp.searchs.init();\r\n        } else {\r\n\t\t\tif (response.status !== \"error\") {\r\n\t\t\t\tvar items = [],\r\n\t\t\t\t\titem = [];\r\n\t\t\t\tfor (var i = 0; i < response.activities.length; i++) {\r\n\t\t\t\t\ttext = sezzwhoApp.mainInits.getsezzwhoContents(response.activities[i].content);\r\n\t\t\t\t\t// console.log(text);\r\n\t\t\t\t\titem[i] = {\r\n\t\t\t\t\t\tnickname: response.activities[i].user[0].display_name,\r\n\t\t\t\t\t\tavatar: response.activities[i].user[0].avatar,\r\n\t\t\t\t\t\tuser_id: response.activities[i].user[0].user_id,\r\n\t\t\t\t\t\ttime: response.activities[i].time_since,\r\n\t\t\t\t\t\ttitle: text.title,\r\n\t\t\t\t\t\thashtag: text.hashtag,\r\n\t\t\t\t\t\tziggeocode: text.ziggeoCode,\r\n\t\t\t\t\t\ttype: ((response.activities[i].type == \"Member_review\" || response.activities[i].type == \"activity_update\") ? true : false),\r\n\t\t\t\t\t\tcommentLenght: (typeof(response.activities[i].comments) != \"undefined\") ? response.activities[i].comments.length : 0,\r\n\t\t\t\t\t\tcomments: (typeof(response.activities[i].comments) != \"undefined\") ? true : false,\r\n\t\t\t\t\t\tpage: response.page,\r\n\t\t\t\t\t\tid: response.activities[i].activity_id,\r\n\t\t\t\t\t\taction: response.activities[i].action,\r\n\t\t\t\t\t\tname: \"personal\",\r\n\t\t\t\t\t\tlikes_count: (typeof(response.activities[i].likes_count) === \"string\") ? 0 : Object.keys(response.activities[i].likes_count).length,\r\n\t\t\t\t\t\tlike_button: response.activities[i].likes_button,\r\n\t\t\t\t\t\trefer_count: response.activities[i].refer_count,\r\n\t\t\t\t\t\taccount_type: response.activities[i].user[0].account_type\r\n\t\r\n\t\t\t\t\t};\r\n\t\t\t\t} // End for loop\r\n\t\t\t\titems.push({\r\n\t\t\t\t\t\"item\": item\r\n\t\t\t\t});\r\n\t\t\t\toutput = sezzwhoApp.mainInits.renderTpl(activityTemplate, items[0]);\r\n\t\t\t\t$$('.popup-search .search-results-activity').html(output);\r\n\t\t\t\tsezzwhoApp.commonFunc.blindEvent();\r\n\t\t\t}\r\n        }\r\n        //End Function\r\n    },\r\n    bindEvent: function() {\r\n        var bindings = [{\r\n            element: '#following-search input, #personal-search input,#detail-search input,#follower-search-list input,#following-search-list input',\r\n            event: 'focus',\r\n            handler: this.initSearchbar\r\n        }, {\r\n            element: '.search-follow',\r\n            event: 'click',\r\n            handler: sezzwhoApp.homeModules.startStopFollowing\r\n        }, {\r\n            element: '.sezzwho-searchbar',\r\n            event: 'click',\r\n            handler: this.initSearchbar\r\n        }];\r\n        sezzwhoApp.mainInits.bindEvents(bindings);\r\n        //End Function\r\n    }\r\n};\r\nsezzwhoApp.searchs = search;;var obj = [];\r\nvar addbusiness = {\r\n    init: function() {\r\n        this.bindEvent();\r\n\r\n    },\r\n    businessPage: function() {\r\n        var contentData,\r\n            videotitle \t= \"\",\r\n            videocontent= \"\",\r\n            rating \t\t= \"\",\r\n            hashtag \t= \"\",\r\n\t\t\tlinks\t\t= \"\";\r\n\t\t\tsezzwhoApp.postButton \t\t\t= false,\r\n\t\t\tsezzwhoApp.addLocationButton \t= true,\r\n\t\t\tsezzwhoApp.addReviewButton \t\t= false,\r\n\t\t\tsezzwhoApp.autoWhatsNew \t\t= false,\r\n\t\t\tsezzwhoApp.backAddbusiness = true;\r\n\t\t($(\"#video-title\").val()==\"\") ? $(\"#video-title\").addClass('danger-alert'):$(\"#video-title\").removeClass('danger-alert');\r\n        ($(\"#autocomplete-user\").val()==\"\") ? $(\"#autocomplete-user\").addClass('danger-alert'):$(\"#video-title\").removeClass('danger-alert');\r\n        videotitle = sezzwhoApp.mainInits.matchUrl($$(\"#video-title\").val());\r\n        rating = $$(\"#rating\").val();\r\n\t\tif(rating < 3) {\r\n\t\t\tmyApp.alert(\"please select more than 3 star\"); return false; }\r\n\t\t\telse { } \r\n        videocontent = $$(\"#videocontent\").val();\r\n        try{\r\n\t\thashtag = $(\"#autocomplete-user\").val().replace(/[\"~!$%^&*\\(\\)_+=`{}\\[\\]\\|\\\\:;'<>,.\\/?\"\\-]+/g, '').match(/(?:\\#(\\w+))|(?:\\@(\\w+))/g).toString().replace(/,/g, ' ');\r\n       }\r\n\t\tcatch(err){\r\n\t\t\talert(\"Please add # front of word\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t    if($(\"#autocomplete-website\").val() === \"\")  { links = true;}\r\n\t\telse { links =$(\"#autocomplete-website\").val();   }  \r\n \r\n        contentData = {\r\n            'avatar': sezzwhoApp.userloginInfo.user.avatar,\r\n            'username': sezzwhoApp.userloginInfo.user.username,\r\n            'userid': sezzwhoApp.userloginInfo.user.id,\r\n            'videotitle': videotitle,\r\n            'rating': rating,\r\n            'hashtag': hashtag,\r\n            'video': videocontent,\r\n\t\t\t'link' : links \r\n        };\r\n\r\n\r\n        mainView.router.load({\r\n            url: 'addbusiness.html',\r\n            force: true,\r\n            context: contentData\r\n        });\r\n        //myApp.closeModal(); // \r\n  \t\t\t if ($$('.popup-record.modal-in').length > 0) { \r\n\t    \t\t\tmyApp.closeModal(\".popup-record\");\r\n\t\t\t\treturn false;\r\n\t\t\t\t}\r\n    },\r\n    closePopup: function() {\r\n\t\tsezzwhoApp.embedding.reset();\r\n        $$(\".demo-progressbar-load-hide\").html('<p style=\"height:2px\"></p>');\r\n        $$(\".record-input\").val(\"\");\r\n        $$(\"#review-rating img\").attr('src', 'images/star_off.png');\r\n        $$(\"#post-a-review,#auto-post-a-review\").attr(\"disabled\", \"disabled\");\r\n\t\t$$('input#rating').attr( 'value', 0 );\r\n        $(\"#auto-add-business,#auto-aw-whats-new-submit,#auto-post-business\").prop(\"disabled\", true);\r\n\t\t$(\".auto-post input\").prop('checked',false);\r\n\t\tsezzwhoApp.autoWhatsNew= false;\r\n\t\tsezzwhoApp.isUploading\t\t= false,\r\n\t\tsezzwhoApp.isUploaded\t\t= false;\r\n\t\r\n        if ($$('.popup-record.modal-in').length > 0) { \r\n\t    myApp.closeModal(\".popup-record\");\r\n\t\treturn false;\r\n\t\t}\r\n    },\r\n    initMap: function() {\r\n\r\n        var map = new google.maps.Map(document.getElementById('map'), {\r\n            center: {\r\n                lat: -33.8688,\r\n                lng: 151.2195\r\n            },\r\n            zoom: 13\r\n        });\r\n        var input = /** @type {!HTMLInputElement} */ (\r\n            document.getElementById('pac-input'));\r\n\r\n        var types = document.getElementById('type-selector');\r\n        map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);\r\n        map.controls[google.maps.ControlPosition.TOP_LEFT].push(types);\r\n\r\n        var autocomplete = new google.maps.places.Autocomplete(input);\r\n        autocomplete.bindTo('bounds', map);\r\n\r\n        var infowindow = new google.maps.InfoWindow();\r\n        var marker = new google.maps.Marker({\r\n            map: map,\r\n            anchorPoint: new google.maps.Point(0, -29)\r\n        });\r\n\r\n        autocomplete.addListener('place_changed', function() {\r\n            infowindow.close();\r\n            marker.setVisible(false);\r\n            var place = autocomplete.getPlace();\r\n            if (!place.geometry) {\r\n                window.alert(\"Autocomplete's returned place contains no geometry\");\r\n                return;\r\n            }\r\n\r\n            // If the place has a geometry, then present it on a map.\r\n            if (place.geometry.viewport) {\r\n                map.fitBounds(place.geometry.viewport);\r\n            } else {\r\n                map.setCenter(place.geometry.location);\r\n                map.setZoom(17); // Why 17? Because it looks good.\r\n            }\r\n            marker.setIcon( /** @type {google.maps.Icon} */ ({\r\n                url: place.icon,\r\n                size: new google.maps.Size(71, 71),\r\n                origin: new google.maps.Point(0, 0),\r\n                anchor: new google.maps.Point(17, 34),\r\n                scaledSize: new google.maps.Size(35, 35)\r\n            }));\r\n            marker.setPosition(place.geometry.location);\r\n            marker.setVisible(true);\r\n\r\n            var address = '';\r\n            if (place.address_components) {\r\n                address = [\r\n                    (place.address_components[0] && place.address_components[0].short_name || ''),\r\n                    (place.address_components[1] && place.address_components[1].short_name || ''),\r\n                    (place.address_components[2] && place.address_components[2].short_name || '')\r\n                ].join(' ');\r\n            }\r\n\r\n            infowindow.setContent('<div><strong>' + place.name + '</strong><br>' + address);\r\n            infowindow.open(map, marker);\r\n        });\r\n\r\n        // Sets a listener on a radio button to change the filter type on Places\r\n        // Autocomplete.\r\n        function setupClickListener(id, types) {\r\n            var radioButton = document.getElementById(id);\r\n            radioButton.addEventListener('click', function() {\r\n                autocomplete.setTypes(types);\r\n            });\r\n        }\r\n\r\n        setupClickListener('changetype-all', []);\r\n        setupClickListener('changetype-address', ['address']);\r\n        setupClickListener('changetype-establishment', ['establishment']);\r\n        setupClickListener('changetype-geocode', ['geocode']);\r\n\r\n    },\r\n    autoComplete: function(content) {\r\n        //alert(\"auto Complete\");\r\n\t\t//console.log(content);\r\n\t\tobj = content;\r\n        var url = \"https://maps.googleapis.com/maps/api/place/autocomplete/json?location=54.7226785,-113.7223949&key=AIzaSyBLD3-k-NncJrejPdZsx_82iqY6RN_ZbR4\";\r\n        var autocompleteStandaloneAjax = myApp.autocomplete({\r\n            openIn: 'page', //open in page\r\n            opener: $$('#autocomplete-standalone-ajax'), //link that opens autocomplete\r\n            valueProperty: 'id', //object's \"value\" property name\r\n            multiple: false, //allow multiple values\r\n            textProperty: 'description', //object's \"text\" property name\r\n            limit: 50,\r\n            backOnSelect: true,\r\n            preloader: true, //enable preloader\r\n            source: function(autocomplete, query, render) {\r\n                var results = [];\r\n                if (query.length === 0) {\r\n                    render(results);\r\n                    return;\r\n                }\r\n                // Show Preloader\r\n                autocomplete.showPreloader();\r\n                // Do Ajax request to Autocomplete data\r\n                $$.ajax({\r\n                    url: url,\r\n                    method: 'GET',\r\n                    dataType: 'json',\r\n                    //send \"query\" to server. Useful in case you generate response dynamically\r\n                    data: {\r\n                        input: query\r\n                    },\r\n                    success: function(data) {\r\n                        // Find matched items\r\n\r\n                        for (var i = 0; i < data['predictions'].length; i++) {\r\n                            results.push(data['predictions'][i]);\r\n                        }\r\n                        // Hide Preoloader\r\n                        autocomplete.hidePreloader();\r\n                        // Render items by passing array with result items\r\n                        render(results);\r\n                    }\r\n\r\n                });\r\n            },\r\n            onChange: function(autocomplete, value) {\r\n\r\n                // Add item text value to item-after\r\n                $$('#autocomplete-standalone-ajax').find('.item-after').text(value[0].description);\r\n                // Add item value to input value\r\n\t\t\t\t//alert(\"changed\");\r\n                $$('#autocomplete-standalone-ajax').find('input').val(value[0].description);\r\n                sezzwhoApp.addbusiness.registerBusiness(value[0].description, content);\r\n            }\r\n        }); // autocomplete\r\n\r\n        //End function\t\r\n    },\r\n    registerBusiness: function(arg, content) {\r\n\r\n        //event.preventDefault();\r\n\r\n        //alert(\"fsd\");\r\n        \r\n        txtInput = arg.split(\",\");\r\n\r\n\r\n        var username = txtInput[0];\r\n\r\n        var business_type = $(\"#businestype\").val();\r\n\r\n        console.log(username);\r\n\r\n        var location = arg;\r\n\r\n        if (!(username == \"\") && !(location == \"\")) {\r\n\r\n            //code\r\n            sezzwhoApp.showIndicator();\r\n\r\n\r\n            jQuery.ajax({\r\n\r\n                url: sezzwhoApp.homeUrl,\r\n\r\n                type: 'POST',\r\n\r\n                dataType: 'JSON',\r\n\r\n                data: {\r\n                    action: \"wow_registration_page\",\r\n                    tagbusiness: username,\r\n                    type: business_type,\r\n                    loc: location\r\n                },\r\n\r\n                success: function(data) {\r\n\r\n                    // var obj = jQuery.parseJSON(data);\r\n\r\n                    console.log(data.username);\r\n                    content.usercheck = data.userid;\r\n                    content.usernameR = data.username;\r\n                    sezzwhoApp.reviewContent = content;\r\n                    sezzwhoApp.hideIndicator();\r\n\t\t\t\t\t$(\"#post-a-review,#auto-post-a-review\").attr(\"disabled\", false);\t\r\n\r\n                    //jQuery(\"#whats-new-submits\").unbind(event.preventDefault());\r\n\r\n\r\n\r\n                }\r\n\r\n            });\r\n\r\n        } // Check Fields\r\n\r\n\r\n        //End fucntion\r\n    },\r\n    postBusinessReview: function() {\r\n        console.log(sezzwhoApp.reviewContent);\r\n        var option = {\r\n            'key': sezzwhoApp.jsonpcb,\r\n            'cookie': sezzwhoApp.cookie,\r\n            'content': sezzwhoApp.reviewContent\r\n        };\r\n\r\n        sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.activities_post_update_review, option, \"postBusinessReview\");\r\n\r\n    },\r\n\tpostAutoBusinessReview: function() {\r\n        console.log(sezzwhoApp.reviewContent);\r\n\t\t    \r\n      if(sezzwhoApp.isUploaded)\r\n\t\t \r\n\t\t { \r\n\t\t \r\n\t\t sezzwhoApp.reviewContent.video = $$(\"#videocontent\").val();\r\n\t    var option = {\r\n            'key': sezzwhoApp.jsonpcb,\r\n            'cookie': sezzwhoApp.cookie,\r\n            'content': sezzwhoApp.reviewContent\r\n        };\r\n        sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.activities_post_update_review, option, \"postBusinessReview\");\r\n\t\t}else{\r\n\t\t\t\r\n\t \tsezzwhoApp.autoWhatsNew = true;\r\n        sezzwhoApp.backAddbusiness = false;\r\n\t\tmainView.router.back();\r\n\r\n\t\t}\r\n    },\r\n    doneReview: function(response) {\r\n        if (response.status == \"ok\") {\r\n            myApp.addNotification({\r\n                title: 'Framework7',\r\n                subtitle: 'Post Updated',\r\n\t\t\t\thold : 7000, \r\n\t\t\t\tbutton:{\r\n\t\t\t\t  text: 'Share me',\r\n\t\t\t\t  color: 'lightgreen',\r\n\t\t\t\t  close: true\r\n\t\t\t\t},\r\n                message: 'Post updated successfully',\r\n                media: '<i class=\"icon icon-f7\"></i>',\r\n\t\t\t\tonClose: {\r\n\t\t\t\t//window.plugins.socialsharing.share(, null, null, url);\r\n\t\t\t\t}\r\n            });\r\n            sezzwhoApp.personalFeeds.getFeedActivities(); // Update personal feed \r\n           \tsezzwhoApp.homeModules.refreshActivities(); // refresh following page\r\n       \t    sezzwhoApp.popularVideos.getPopularVideo(); // refresh popular page\r\n\t\t\t//Rest all data\r\n            //sezzwhoApp.addbusiness.closePopup();\r\n            sezzwhoApp.addbusiness.closePopup();\r\n             if(sezzwhoApp.backAddbusiness)\r\n\t\t    mainView.router.back();\r\n        } else {\r\n            myApp.addNotification({\r\n                title: 'Framework7',\r\n                subtitle: 'Notification subtitle',\r\n                message: response.error,\r\n                media: '<i class=\"icon icon-f7\"></i>'\r\n            });\r\n        }\r\n\r\n    },\r\n    bindEvent: function() {\r\n        var bindings = [{\r\n            element: '#add-business',\r\n            event: 'click',\r\n            handler: this.businessPage\r\n        }, {\r\n            element: '#post-a-review',\r\n            event: 'click',\r\n            handler: this.postBusinessReview\r\n        },{\r\n            element: '#auto-add-business',\r\n            event: 'click',\r\n            handler: this.businessPage\r\n        }, {\r\n            element: '#auto-post-a-review',\r\n            event: 'click',\r\n            handler: this.postAutoBusinessReview\r\n        }\r\n\t\t];\r\n\r\n        sezzwhoApp.mainInits.bindEvents(bindings);\r\n    }\r\n\r\n\r\n};\r\n\r\nsezzwhoApp.addbusiness = addbusiness;;var ProfileComponent;\nvar profile = {\n    init: function() {\n        this.blindEvent();\n        this.reactInit();\n    },\n    profileEdit: function() {\n\n    },\n    profileSave: function() {\n\n    },\n    reactInit: function() {\n\n        requirejs([\"build/profile/profileReact\"], function(profileReact) {\n            profileReact.initProfile();\n        });\n\n\n    },\n    blindEvent: function() {\n        var bindings = [{\n            element: '.edit',\n            event: 'click',\n            handler: this.profileEdit\n        }, {\n            element: '.save',\n            event: 'click',\n            handler: this.profileSave\n        }];\n        sezzwhoApp.mainInits.bindEvents(bindings);\n    }\n\n\n}\n\nsezzwhoApp.profiles = profile;;var setting = {\n      init : function(){\n\t\t  requirejs([\"build/setting/settingReact\"],function(setting){ \n\t              setting.initSetting();\n\t\t\t\t});\n\t  },\n\t  updateSetting : function(){\n\t\t  \n\t  },\n\t  updatePassword : function(){\n\t\t  console.log(\"change password\");\n\t\t  var options = {\n            'key': sezzwhoApp.jsonpcb,\n            'cookie': sezzwhoApp.cookie,\n            'password': document.getElementById(\"confirm_password\").value\n       \t\t };\n        sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.update_password, options, \"changePassword\");\n\t  },\n\t  responseUpdatePassword : function(response){\n\t\t  if(response.status === \"ok\"){\n\t\t\t   myApp.addNotification({\n                title: 'Change Password',\n                subtitle: 'Password Updated',\n                message: 'Password updated successfully',\n                media: '<i class=\"icon icon-f7\"></i>'\n            });\n\t\t  }\n\t  },\n\t  initPasswordValidate : function(){\n\t\tvar password = document.getElementById(\"password\"), \n\t\tconfirm_password = document.getElementById(\"confirm_password\"),\n\t\tsezzwho_update_password = document.getElementById(\"sezzwho-update-password\");\n  \n\t\tfunction validatePassword(){\n\t\t  if(password.value != confirm_password.value) {\n\t\t\tconfirm_password.style.color='red';\n\t\t\t$(\"#sezzwho-update-password\").attr(\"disabled\", true);\n\t\t  } else {\n\t\t\tconfirm_password.style.color= 'black';\n\t\t\t$(\"#sezzwho-update-password\").attr(\"disabled\", false);\n\t\t  }\n\t\t}\n\t\t\n\t\tpassword.onchange = validatePassword;\n\t\tconfirm_password.onkeyup = validatePassword;\n\t  },\n\t  bindEvent: function(){\n\t\tvar bindings =[{\n\t\telement\t: '#sezzwho-update-setting',\n\t\tevent \t: 'click',\n\t\thandler\t: this.updateSetting\n\t\t},\n\t\t{\n\t\telement\t: '.sezzwho-update-password',\n\t\tevent \t: 'click',\n\t\thandler\t: this.updatePassword\n\t\t}\n\t\t];\n\t\tsezzwhoApp.mainInits.bindEvents(bindings);\n\t}\n\t\n}\nsezzwhoApp.settings = setting;;// JavaScript Document\\\\\nvar register = {\n    init: function() {\n        requirejs([\"build/register/registerReact\"], function(reg) {\n            reg.initRegister();\n        });\n    },\n    registerUser: function() {\n\n    },\n    bindEvent: function() {\n        var bindings = [{\n            element: '#sezzwho-new-user',\n            event: 'click',\n            handler: this.registerUser\n        }];\n        sezzwhoApp.mainInits.bindEvents(bindings);\n    }\n\n}\nsezzwhoApp.registers = register;;/**\r\n*\r\n*   Popular video \r\n*/\r\n\r\nvar popularVideo = {\r\n\t  init:function(query){\r\n\t\t  this.getPopularVideo();\r\n\t  },\r\n\t  getPopularVideo: function(){\r\n\t\t\tvar options = {\r\n              'key'         : sezzwhoApp.jsonpcb,\r\n              'user_id'     : 0,\r\n              'cookie'      : sezzwhoApp.cookie,\r\n\t\t   \t  'type' \t\t: \"activity_update,Member_review\",\r\n\t\t   \t  'comments'\t: true,\r\n\t\t\t  'limit'\t\t: 5\r\n                \r\n            };\r\n       sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url,sezzwhoApp.sezzwhoAction.following,options,\"popular_video\");\r\n\t  },\r\n\t  displayVideo : function(response){\r\n\t\t    console.log(response);\r\n\t\t  if(response.status !== \"error\") {\r\n\t\t\t  \t var items=[],item=[], text =[], title=\"\";\r\n\t\t\t\t for(var i=0; i<response.activities.length;i++){\r\n\t\t\t\t text=sezzwhoApp.mainInits.getsezzwhoContents(response.activities[i].content);\r\n\t\t\t\ttitle = text.title;\r\n\t\t\t\ttitle = title.replace(/\\\\/g, ''); \r\n\t\r\n\t\t\t\t item[i]={\r\n\t\t\t\t\t\tnickname    : response.activities[i].user[0].display_name,\r\n\t\t\t\t\t\tavatar      : response.activities[i].user[0].avatar,\r\n\t\t\t\t\t\tuser_id\t\t: response.activities[i].user[0].user_id,\r\n\t\t\t\t\t\ttime        : response.activities[i].time_since,\r\n\t\t\t\t\t\ttitle       : title,\r\n\t\t\t\t\t\thashtag     : text.hashtag,\r\n\t\t\t\t\t\tziggeocode  : text.ziggeoCode,\r\n\t\t\t\t\t\ttype        : ((response.activities[i].type ==\"Member_review\"||response.activities[i].type ==\"activity_update\")?true:false),\r\n\t\t\t\t\t\tcommentLenght\t: (typeof(response.activities[i].comments) != \"undefined\")? response.activities[i].comments.length : 0,\r\n\t\t\t\t\t\tcomments \t\t: (typeof(response.activities[i].comments) != \"undefined\")? true : false,\r\n\t\t\t\t\t\tpage \t\t\t: response.page,\r\n\t\t\t\t\t\tid\t\t\t\t: response.activities[i].activity_id,\r\n\t\t\t\t\t\taction\t\t\t: response.activities[i].action,\r\n\t\t\t\t\t\tname\t\t\t: \"personal\",\r\n\t\t\t\t\t\tstar \t\t\t: response.activities[i].star,\r\n\t\t\t\t\t\tlikes_count     : (typeof(response.activities[i].likes_count) === \"string\") ? 0 : Object.keys(response.activities[i].likes_count).length,\r\n\t\t\t\t\t\tlike_button \t: response.activities[i].likes_button,\r\n\t\t\t\t\t\trefer_count    \t: response.activities[i].refer_count,\r\n\t\t\t\t\t\tweb_link \t\t: sezzwhoApp.mainInits.matchUrl(response.activities[i].web_link),\r\n\t\t\t\t\t\tpopular\t\t\t: true,\r\n\t\t\t\t\t\tlocation: (response.activities[i].location === true)? sezzwhoApp.mainInits.mapUrl(response.activities[i].address)  : false ,\r\n\t\t\t\t\t\tshare_count : response.activities[i].share_count,\r\n\t\t\t\t\t\tis_follow : response.activities[i].followCheck,\r\n\t\t\t\t\t\taccount_type: response.activities[i].user[0].account_type\r\n\r\n\t\t\t\t\t};\r\n\t\t\t\t   \r\n\t\t\t\t } // End for loop\r\n\t\t\t\t items.push({\"item\":item});  \r\n\t\t\t\t //console.log(JSON.stringify(items));\r\n\t\t\t\t \r\n\t\t\t\t//var output = sezzwhoApp.mainInits.renderTpl(popularTemplate,items[0]);\r\n\t\t\t\tvar output = sezzwhoApp.mainInits.renderTpl(activityTemplate, items[0]);\r\n\t\t\t\t$$(\"#popular-vidoes\").html(output);\r\n\t\t\t  \r\n\t\t\t\t//setTimeout(function(){ sezzwhoApp.popularVideos.initSlider() }, 1000);\r\n\t\t  } else {\r\n\t\t\t  $(\"#popular-vidoes\").html('');\r\n\t\t  \r\n\t\t  }\r\n\t      sezzwhoApp.commonFunc.init(); // Blind share event button ;   \r\n\t  },\r\n\t  initSlider :function (){  \r\n\t\tvar mySwiper3 = myApp.swiper('.swiper-3', {\r\n\t\t  pagination:'.swiper-3 .swiper-pagination',\r\n\t\t  spaceBetween: 10,\r\n\t\t  slidesPerView: 2\r\n\t\t});  \r\n\t  },\r\n\t  blindEvent : function(){\r\n\t\tvar bindings = [{\r\n\t\t\telement : '',\r\n\t\t\tevent : 'click',\r\n\t\t\thandler : ''\r\n\t\t\t}\r\n\t\t\t];\r\n\t\tsezzwhoApp.mainInits.bindEvents(bindings);\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n};\r\n\r\nsezzwhoApp.popularVideos = popularVideo;;// JavaScript Document\r\nvar videodetail = {\r\n    init: function(q) {\r\n        console.log(q);\r\n        this.videoInit(q);\r\n        sezzwhoApp.comments.singlePage = false;\r\n        this.commentDetail(q);\r\n\t\tsezzwhoApp.comments.bindEvent(); \r\n    },\r\n    videoInit: function(q) {\r\n        var url = \"http://embed.ziggeo.com/v1/applications/ddd4366d3fc0baef95c333fa575c53f9/videos/\" + q.ziggeocode + \"/video.mp4\";\r\n        var imageUrl = \"http://embed.ziggeo.com/v1/applications/ddd4366d3fc0baef95c333fa575c53f9/videos/\" + q.ziggeocode + \"/image\";\r\n\t\tflowplayer.conf = {\r\n\t\t   native_fullscreen: true\r\n\t\t};\r\n        flowplayer(\"#overlay\", {\r\n            // configure the AdSense plugin for this player\r\n            ima: {\r\n                // must be set when testing your installation\r\n                adtest: true,\r\n                // make the Google robots crawl the current page\r\n                description_url: location.href,\r\n                // adverts configuration\r\n                ads: [{\r\n                    // mandatory: schedule ad time\r\n                    // here: 3 seconds into the video\r\n                    time: 3,\r\n                    // request an advert of type image or text type\r\n                    ad_type: \"image_text\"\r\n                }]\r\n            },\r\n            splash: true,\r\n            ratio: 9 / 16,\r\n            rtmp: \"rtmp://s3b78u0kbtx79q.cloudfront.net/cfx/st\",\r\n            embed: {\r\n                // embed with minimalist skin\r\n                skin: \"http://releases.flowplayer.org/6.0.5/skin/minimalist.css\"\r\n            },\r\n            clip: {\r\n                sources: [{\r\n                    type: \"video/mp4\",\r\n                    src: url\r\n                }]\r\n            }\r\n        });\r\n    },\r\n    commentDetail: function(query) {\r\n\t\t \r\n\t\t sezzwhoApp.commentsType = [{\r\n            id: query.id,\r\n            type: query.name,\r\n            page: query.page,\r\n\t\t\tuser_id: query.user_id\r\n        }];\r\n\t\t\r\n        sezzwhoApp.comments.getJsonComments(query);\r\n        setTimeout(function() {\r\n            sezzwhoApp.comments.bindEvent();\r\n            $(\".preloader\").remove();\r\n        }, 3000);\r\n    }\r\n};\r\nsezzwhoApp.videodetails = videodetail;;var singleActivity = {\r\n    init: function(query) {\r\n        var that = this;\r\n        this.blindEvent();\r\n        that.getSingleActivity(query.item);\r\n\t\t sezzwhoApp.notifications.notifications_single_mark(query.markID);\r\n\t\tsetTimeout(function(){ sezzwhoApp.commonFunc.blindEvent(); }, 1000);\r\n    },\r\n    getSingleActivity: function(id) {\r\n        var options = {\r\n            'key': sezzwhoApp.jsonpcb,\r\n            'include': id,\r\n            'cookie': sezzwhoApp.cookie,\r\n            'user_id': sezzwhoApp.userloginInfo.user.id\r\n        };\r\n        sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.sz_single_activity_post, options, \"singlePage\");\r\n    },\r\n    displayActivity: function(response) {\r\n        var items = [],\r\n            item = [],\r\n            count,\r\n\t\t\thtml = '<div class=\"none-comment\"><i class=\"fa fa-newspaper-o  fa-5x\"></i><p>Oops! This activity has been deleted.</p></div>';\r\n        var el = $('.single-result');\r\n        sezzwhoApp.singleData = response;\r\n        if (response.status !== \"error\") {\r\n        for (var i = 0; i < response.activities.length; i++) {\r\n            text = sezzwhoApp.mainInits.getsezzwhoContents(response.activities[i].content);\r\n            item[i] = {\r\n                nickname: response.activities[i].user[0].username,\r\n                avatar: response.activities[i].user[0].avatar,\r\n                user_id: response.activities[i].user[0].user_id,\r\n                time: response.activities[i].time_since,\r\n                title: text.title,\r\n                hashtag: text.hashtag,\r\n                ziggeocode: text.ziggeoCode,\r\n                type: ((response.activities[i].type == \"Member_review\" || response.activities[i].type == \"activity_update\") ? true : false),\r\n                commentLenght: (typeof(response.activities[i].comments) !== \"undefined\") ? response.activities[i].comments.length : 0,\r\n                comments: (typeof(response.activities[i].comments) !== \"undefined\") ? true : false,\r\n                page: response.page,\r\n                id: response.activities[i].activity_id,\r\n                action: response.activities[i].action,\r\n                name: \"Activity\",\r\n                likes_count: (typeof(response.activities[i].likes_count) === \"string\") ? 0 : Object.keys(response.activities[i].likes_count).length,\r\n                like_button: response.activities[i].likes_button,\r\n                refer_count: response.activities[i].refer_count,\r\n                web_link: sezzwhoApp.mainInits.matchUrl(response.activities[i].web_link),\r\n\t\t\t\tlocation: (response.activities[i].location === true)? sezzwhoApp.mainInits.mapUrl(response.activities[i].address)  : false ,\r\n\t\t\t\tshare_count: response.activities[i].share_count,\r\n\t\t\t\tis_follow : response.activities[i].followCheck,\r\n\t\t\t\taccount_type: response.activities[i].user[0].account_type\r\n            };\r\n            i++;\r\n        } // while  loop\r\n        items.push({\r\n            \"item\": item\r\n        });\r\n        //console.log(JSON.stringify(items));\r\n        var output = sezzwhoApp.mainInits.renderTpl(activityTemplate, items[0]);\r\n        el.html(output);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tel.html(html);\r\n\t\t}\r\n    },\r\n    blindEvent: function() {\r\n        var bindings = [{\r\n            element: '',\r\n            event: 'click',\r\n            handler: ''\r\n        }];\r\n        sezzwhoApp.mainInits.bindEvents(bindings);\r\n    }\r\n};\r\nsezzwhoApp.singlePage = singleActivity;;var lostPassword = {\r\n  init: function () {\r\n\t  this.blindEvent();\r\n\t  },\r\n  blindEvent: function () {\r\n    var bindings = [{\r\n      element: \"#wp-submit\",\r\n      event: 'click',\r\n      handler: sezzwhoApp.commonFunc.lostSezzwhoPassword\r\n    }];\r\n   mainInit.bindEvents(bindings);\r\n  }\r\n};\r\n\r\nsezzwhoApp.lostPasswords = lostPassword;;var followingList = {\r\n\t\tinit: function(query) {\r\n\t\t\tthis.getFollowingList(query);\r\n\t\t},\r\n\t\tgetFollowingList : function(query){\r\n\t\tsezzwhoApp.followingList.user_id = query.id;\t\r\n\t\tvar options = {\r\n            'key': sezzwhoApp.jsonpcb,\r\n            'user_id':sezzwhoApp.followingList.user_id,\r\n            'cookie': sezzwhoApp.cookie,\r\n            'per_page': 10,\r\n            'page':1\r\n        };\r\n        sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.sz_following_list, options, \"followingList\");\r\n        \r\n\t\t},\r\n\t\tdisplayFollowingList: function(response){\r\n\t\t\t\r\n\t\t\tif(response.status !== \"error\"){\r\n\t\t\tvar index = (response.page-1) * response.per_page,\r\n\t\t\t\tlimit = (response.page === 1)? response.list.length :((response.page-1) * (Object.keys(response.list).length)+ response.per_page);\r\n\t\t\t\r\n\t\t\t   sezzwhoApp.followingList.followingResponse = response;\r\n\t\t\t  sezzwhoApp.followingList.has_more_items = response.has_more_items;\r\n\t\t\t \tvar items = [],\r\n                    item = []\r\n\t\t\t\t\ti=0;\r\n\t\t\t\t\tfor (index; index < limit; index++) {\r\n\t\t\t\t\t\titem[i] = {\r\n\t\t\t\t\t\t   'username': response.list[index].data.user_login,\r\n\t\t\t\t\t\t   'user_id' : response.list[index].data.ID,\r\n\t\t\t\t\t\t   'user_registered':response.list[index]['data'].user_registered,\r\n\t\t\t\t\t\t   'avatar':sezzwhoApp.mainInits.addhttp(response.list[index]['data'].avatar),\r\n\t\t\t\t\t\t   'bio':response.list[index]['data'].bio,\r\n\t\t\t\t\t\t   'count':response.list[index]['data'].counts,\r\n\t\t\t\t\t\t   'nickname': response.list[index]['data'].display_name,\r\n\t\t\t\t\t\t   'account_type':response.list[index]['data'].accountType\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t   items.push({\r\n                    \"item\": item\r\n                });\r\n\t\t\t   var output = sezzwhoApp.mainInits.renderTpl(followingTemplate, items[0]);\r\n                $('.following-list').append(output);\r\n\t\t\t  \t\r\n\t\t\t\tif(response.total_limit < 10){\r\n\t\t\t\t$$('.infinite-scroll-preloader-following-list').remove();\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t$('.following-list').html(\"<span class='no-following-list'>No following</span>\");\r\n\t\t\t$$('.infinite-scroll-preloader-following-list').remove();\r\n\t\t\t}\r\n\t\t\tsezzwhoApp.hideIndicator();\r\n\t\t},\r\n\t\tloadmore: function() {\r\n\r\n        // Loading flag\r\n        var loading = false;\r\n\r\n        // Last loaded index\r\n\r\n        // Max items to load\r\n        var maxItems = sezzwhoApp.followingList.has_more_items;\r\n\r\n        // Append items per load\r\n        var itemsPerLoad = 10;\r\n        var page = 2;\r\n        loadmore = true;\r\n\r\n        // Attach 'infinite' event handler\r\n        $$('.infinite-scroll-following-list').on('infinite', function() {\r\n\r\n            // Exit, if loading in progress\r\n            if (loading) return;\r\n\r\n            // Set loading flag\r\n            loading = true;\r\n             \r\n            // Emulate 1s loading\r\n            setTimeout(function() {\r\n                // Reset loading flag\r\n                loading = false;\r\n                maxItems = sezzwhoApp.followingList.has_more_items;\r\n                if (maxItems == false) {\r\n                    // Nothing more to load, detach infinite scroll events to prevent unnecessary loadings\r\n                    myApp.detachInfiniteScroll($$('.infinite-scroll-following-list'));\r\n                    // Remove preloader\r\n                    $$('.infinite-scroll-preloader-following-list').remove();\r\n                    return;\r\n                }\r\n               \r\n                // Generate new items HTML\r\n                var html = '';\r\n\r\n                var options = {\r\n                    'key': sezzwhoApp.jsonpcb,\r\n                    'user_id': sezzwhoApp.followingList.user_id,\r\n                    'cookie': sezzwhoApp.cookie,\r\n                    'page': page,\r\n                    'per_page': itemsPerLoad\r\n\r\n                };\r\n                sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.sz_following_list, options, \"followingLoadMore\");\r\n\r\n\r\n                //console.log(sezzwhoApp.activityFeedData.has_more_items);\r\n                // Append new items\r\n                //$$('.load-result').append(html);\r\n\r\n                // Update last loaded index\r\n                if (sezzwhoApp.followingList.has_more_items == true) {\r\n                    page += 1;\r\n                    maxItems = true;\r\n                } else {\r\n                    maxItems = false;\r\n                }\r\n\r\n\r\n            }, 1000);\r\n        });\r\n\r\n\r\n\r\n        //End Function\r\n    }\r\n};\r\n\r\nsezzwhoApp.followingList = followingList;;var followerList = {\r\n\t\tinit: function(query) {\r\n\t\t\tthis.getFollowerList(query);\r\n\t\t},\r\n\t\tgetFollowerList : function(query){\r\n\t\tsezzwhoApp.followerList.user_id = \tquery.id;\r\n\t\tvar options = {\r\n            'key': sezzwhoApp.jsonpcb,\r\n            'user_id': sezzwhoApp.followerList.user_id,\r\n            'cookie': sezzwhoApp.cookie,\r\n            'per_page': 10,\r\n            'page':1\r\n        };\r\n        sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.sz_follower_list, options, \"followerList\");\r\n        \r\n\t\t},\r\n\t\tdisplayFollowerList: function(response){\r\n\t\t\tif(response.status !== \"error\"){\r\n\t\t\tvar index = (response.page-1) * response.per_page,\r\n\t\t\t\tlimit = (response.page === 1)? response.list.length : ((response.page-1)*(Object.keys(response.list).length) + response.per_page);\r\n\t\t\t  sezzwhoApp.followerList.followerResponse = response;\r\n\t\t\t  sezzwhoApp.followerList.has_more_items = response.has_more_items;\r\n\t\t\t \tvar items = [],\r\n                    item = []\r\n\t\t\t\t\ti=0;\r\n\t\t\t\t\tfor (index; index < limit; index++) {\r\n\t\t\t\t\t\titem[i] = {\r\n\t\t\t\t\t\t   'username': response.list[index].data.user_login,\r\n\t\t\t\t\t\t   'user_id' : response.list[index].data.ID,\r\n\t\t\t\t\t\t   'user_registered':response.list[index]['data'].user_registered,\r\n\t\t\t\t\t\t   'avatar':sezzwhoApp.mainInits.addhttp(response.list[index]['data'].avatar),\r\n\t\t\t\t\t\t   'bio':response.list[index]['data'].bio,\r\n\t\t\t\t\t\t   'count':response.list[index]['data'].counts,\r\n\t\t\t\t\t\t   'nickname': response.list[index]['data'].display_name,\r\n\t\t\t\t\t\t   'account_type':response.list[index]['data'].accountType\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t   items.push({\r\n                    \"item\": item\r\n                });\r\n\t\t\t   var output = sezzwhoApp.mainInits.renderTpl(followerTemplate, items[0]);\r\n                $('.follower-list').append(output);\r\n\t\t\t\t\r\n\t\t\t\tif(response.total_limit < 10){\r\n\t\t\t\t\t$$('.infinite-scroll-preloader-follower').remove();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t\t\t\t\r\n               $('.follower-list').html(\"<span class='no-follower-list'>No follower</span>\");\r\n\t\t\t   $$('.infinite-scroll-preloader-follower').remove();\r\n\t\t\t}\r\n\t\t\tsezzwhoApp.hideIndicator();\r\n\t\t},\r\n\t\tloadmore: function() {\r\n\r\n        // Loading flag\r\n        var loading = false;\r\n\r\n        // Last loaded index\r\n\r\n        // Max items to load\r\n        var maxItems = sezzwhoApp.followerList.has_more_items;\r\n\r\n        // Append items per load\r\n        var itemsPerLoad = 10;\r\n        var page = 2;\r\n        loadmore = true;\r\n\r\n        // Attach 'infinite' event handler\r\n        $$('.infinite-scroll-follower').on('infinite', function() {\r\n\r\n            // Exit, if loading in progress\r\n            if (loading) return;\r\n\r\n            // Set loading flag\r\n            loading = true;\r\n             \r\n            // Emulate 1s loading\r\n            setTimeout(function() {\r\n                // Reset loading flag\r\n                loading = false;\r\n                maxItems = sezzwhoApp.followerList.has_more_items;\r\n                if (maxItems == false) {\r\n                    // Nothing more to load, detach infinite scroll events to prevent unnecessary loadings\r\n                    myApp.detachInfiniteScroll($$('.infinite-scroll-follower'));\r\n                    // Remove preloader\r\n                    $$('.infinite-scroll-preloader-follower').remove();\r\n                    return;\r\n                }\r\n               \r\n                // Generate new items HTML\r\n                var html = '';\r\n\r\n                var options = {\r\n                    'key': sezzwhoApp.jsonpcb,\r\n                    'user_id': sezzwhoApp.followerList.user_id,\r\n                    'cookie': sezzwhoApp.cookie,\r\n                    'page': page,\r\n                    'per_page': itemsPerLoad\r\n\r\n                };\r\n                sezzwhoApp.xhrs.simpleCall(sezzwhoApp.url, sezzwhoApp.sezzwhoAction.sz_follower_list, options, \"followerLoadMore\");\r\n\r\n\r\n                //console.log(sezzwhoApp.activityFeedData.has_more_items);\r\n                // Append new items\r\n                //$$('.load-result').append(html);\r\n\r\n                // Update last loaded index\r\n                if (sezzwhoApp.followerList.has_more_items == true) {\r\n                    page += 1;\r\n                    maxItems = true;\r\n                } else {\r\n                    maxItems = false;\r\n                }\r\n\r\n\r\n            }, 1000);\r\n        });\r\n\r\n\r\n\r\n        //End Function\r\n    }\r\n};\r\n\r\nsezzwhoApp.followerList = followerList;;var GlobalLat = null,\r\n    GlobalLong = null;\r\n\r\nvar geolocation = {\r\n    initGeo: function(){\r\n        $$('#geoInfo').removeClass('show').hide();\r\n\r\n        $$('#geoInfo .location>i').removeClass('ios7-location-outline').addClass('preloader');\r\n        $$('#geoInfo .location>span').html(i18n.geo.loading_geo);\r\n\r\n        GlobalLat = null;\r\n        GlobalLong = null;\r\n    },\r\n\r\n    catchGeoInfo: function(){\r\n        $$('#geoInfo').addClass('show').show();\r\n        if (navigator.geolocation){\r\n            navigator.geolocation.getCurrentPosition(geolocation.showPosition,geolocation.showGeoError);\r\n        }else{\r\n            $$('#geoInfo .location').html(i18n.geo.position_unavailable);\r\n        }\r\n    },\r\n\r\n    showPosition: function(position){\r\n        var lat = position.coords.latitude;\r\n        var long = position.coords.longitude;\r\n\r\n        $$('#geoInfo .location>i').removeClass('preloader').addClass('ios7-location-outline');\r\n        $$('#geoInfo .location>span').html(( Math.round(lat * 10000)/10000) + '/' + ( Math.round(long * 10000)/10000) );\r\n\r\n        GlobalLat = lat;\r\n        GlobalLong = long;\r\n    },\r\n\r\n    showGeoError: function(error){\r\n        switch(error.code)\r\n        {\r\n            case error.PERMISSION_DENIED:\r\n                $$('#geoInfo .location').html(i18n.geo.permission_denied);\r\n                break;\r\n            case error.POSITION_UNAVAILABLE:\r\n                $$('#geoInfo .location').html(i18n.geo.position_unavailable);\r\n                break;\r\n            case error.TIMEOUT:\r\n                $$('#geoInfo .location').html(i18n.geo.timeout);\r\n                break;\r\n            case error.UNKNOWN_ERROR:\r\n                $$('#geoInfo .location').html(i18n.error.unknown_error);\r\n                break;\r\n        }\r\n    },\r\n\r\n    getGeo: function(){\r\n        return {\r\n            lat:GlobalLat,\r\n            long:GlobalLong\r\n        };\r\n    },\r\n\r\n    cleanGeo: function(){\r\n        hiApp.confirm(i18n.geo.confirm_clean_geo,geolocation.initGeo);\r\n    }\r\n};\r\n\r\nsezzwhoApp.geolocation = geolocation;;// JavaScript Document\r\n\r\nZiggeoApi.Events.on(\"recording\", function ( data ) {\r\n    //Your code goes here\r\n});\r\nZiggeoApi.Events.on(\"uploading\", function ( data ) {\r\n    //Your code goes here\r\nconsole.log(\"uploading\");\r\nsezzwhoApp.isUploading = true;\r\n\r\n$(\"#auto-aw-whats-new-submit,#auto-add-business,#auto-post-business\").prop(\"disabled\",false);\r\n\r\nif(sezzwhoApp.autoWhatsNew){\r\nif ($$('.popup-record.modal-in').length > 0) { \r\n    myApp.closeModal(\".popup-record\");\r\n\t myApp.addNotification({\r\n        \t\ttitle: 'Uploading...',\r\n        \t\tmessage: 'Turn Stay, uploading....',\r\n\t\t\t\thold:3000\r\n    \t\t});\r\n\treturn false;\r\n}\r\n\r\n}\r\n\r\n});\r\nZiggeoApi.Events.on(\"processing_progress\", function ( percentage, data ) {\r\n    //Your code goes here\r\nconsole.log(\"processing_progress\");\r\n\r\nif(sezzwhoApp.autoWhatsNew){\r\n\tsetTimeout(function(){ \r\n if ($$('.popup-record.modal-in').length > 0) { \r\n\t    myApp.closeModal(\".popup-record\");\r\n\t\t myApp.addNotification({\r\n        \t\ttitle: 'Uploading...',\r\n        \t\tmessage: 'Turn Stay, uploading....',\r\n\t\t\t\thold:3000\r\n    \t\t});\r\n\t\treturn false;\r\n\t\t}\r\n\t},1000);\r\n}\r\n\r\nconsole.log(percentage);\r\n\r\n});\r\nZiggeoApi.Events.on(\"upload_progress\", function ( uploaded, total, data ) {\r\n    //Your code goes here\r\n console.log(\"upload_progress\");\r\n});\r\n\r\nZiggeoApi.Events.on(\"flash_hibernate\", function ( data ) {\r\n    //Your code goes here\r\nconsole.log(\"flash_hibernate\");\r\nconsole.log(data);\r\n});\r\n ZiggeoApi.Events.on(\"submitted\", function ( data ) {\r\n    //Your code goes here\r\n\tsezzwhoApp.embedding = ZiggeoApi.Embed.get(\"ziggeo_replace_me\");\r\n\tsezzwhoApp.isUploaded = true;\r\n\r\n\tconsole.log(data);\r\n\tvideo_code = '<ziggeo ziggeo-width=\"320\" ziggeo-height=\"240\" ziggeo-responsive=\"true\" ziggeo-video=\"' +  data.video.token + '\"></ziggeo>';\t\r\n\t\t\t\tvar el ={};\r\n\t\t \r\n\t\t\t\tel[0] = $$(\"#videocontent\");\r\n\t\t     \t//if(sezzwhoApp.recordingType === \"whats-new\"){\r\n\t\t\t\tel[1] =  $(\"#aw-whats-new-submit,#add-business,#post-business\");\r\n\t\t\t\t/*}else if(sezzwhoApp.recordingType === \"comments\"){\r\n\t\t\t\tel[1] = $$(\"#post-comment\");\r\n\t\t\t\tel[1].prop(\"disabled\",false);\r\n\t\t\t\t}else if(sezzwhoApp.recordingType === \"whats-record\"){\r\n\t\t\t\t var src = \"http://embed.ziggeo.com/v1/applications/ddd4366d3fc0baef95c333fa575c53f9/videos/\" +  data.video.token + \"/video.mp4\";\r\n\t\t\t\t var img = \"http://embed.ziggeo.com/v1/applications/ddd4366d3fc0baef95c333fa575c53f9/videos/\" +\t data.video.token\t+ \"/image\";\r\n\t\t\t\t\t$(\"#re-change-image\").attr('poster', img);\r\n\t\t\t\t\t$(\"#re-change-video\").attr('src', src);\r\n\t\t\t\t}*/\r\n\t\t\t\t\r\n\t\t\t\tel[2] = $$(\"#videobusiness\")\r\n\t\t\t\tel[0].val(video_code);\r\n\t\t\t\tel[2].val( data.video.token);\r\n\t\r\n\t            if(sezzwhoApp.autoWhatsNew && sezzwhoApp.postButton){\r\n\t\t\t\t sezzwhoApp.personalFeeds.initPostData();\t\r\n\t\t\t\t}else if(sezzwhoApp.autoWhatsNew && sezzwhoApp.addLocationButton){\r\n\t\t\t\t  sezzwhoApp.reviewContent.video =\tvideo_code;\r\n\t\t\t\t  sezzwhoApp.addbusiness.postBusinessReview();\r\n\t\t\t\t}else if(sezzwhoApp.autoWhatsNew && sezzwhoApp.addReviewButton){\r\n\t\t\t\t  sezzwhoApp.detailpages.businessPostReview();\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t//el[1].prop(\"disabled\",false);\r\n\t\t\t\t//$(\".auto-post\").hide();\r\n\t\t\t\t}\r\n});\r\n\r\n\r\n\r\nZiggeoApi.Events.on(\"system_ready\", function() {\r\n    //Lets get the ziggeo-recorder element reference\r\n    var element = document.getElementById('ziggeoMyRecorder');\r\n\r\n    //now lets get the actual Ziggeo embedding / object that we can use\r\n    var recorder = ZiggeoApi.V2.Recorder.findByElement(element);\r\n\r\n    // we can also create a global event to fire each time video was uploaded\r\n    recorder.on(\"verified\", function () {\r\n        alert(\"The video with token '\" + recorder.get('video') + \"' has been submitted!\");\r\n    });\r\n});"]}